/*! For license information please see main.c9cdee5b.js.LICENSE.txt */
(()=>{"use strict";var e={49:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)N.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+I(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(j,"$&/")+"/"),C(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(j,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+I(o=e[c],c);l+=C(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,i,u=s+I(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},340:(e,t,n)=>{e.exports=n(761)},345:(e,t,n)=>{var r=n(950),i=n(340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),j=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case N:return"Portal";case E:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(el){return e.body}}function X(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,ke=null,Se=null;function Ee(e){if(e=xi(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),Ne(e.stateNode,e.type,t))}}function Te(e){ke?Se?Se.push(e):Se=[e]:ke=e}function je(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Ce(){}var _e=!1;function Ae(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ie(e,t,n)}finally{_e=!1,(null!==ke||null!==Se)&&(Ce(),je())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ve=null,Ue={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,Oe.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Nt,kt,St,Et,Tt=!1,jt=[],It=null,Ct=null,_t=null,At=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Tt=!1,null!==It&&Ft(It)&&(It=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==_t&&Ft(_t)&&(_t=null),At.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<jt.length){zt(jt[0],e);for(var n=1;n<jt.length;n++){var r=jt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Ct&&zt(Ct,e),null!==_t&&zt(_t,e),At.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Ht=b.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=xt,s=Ht.transition;Ht.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=i,Ht.transition=s}}function Gt(e,t,n,r){var i=xt,s=Ht.transition;Ht.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=i,Ht.transition=s}}function Kt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return _t=Lt(_t,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=xi(i);if(null!==s&&wt(s),null===(s=Xt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(yn),bn=sn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Sn}var Tn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=sn(Tn),In=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),_n=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(An),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Xn(e){if(K(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];qn(t,Kn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function sr(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Sr={};function Er(e){if(kr[e])return kr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Tr=Er("animationend"),jr=Er("animationiteration"),Ir=Er("animationstart"),Cr=Er("transitionend"),_r=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){_r.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Dr=Ar[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(jr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=s,i=we(n),a=[];e:{var o=_r.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Tr:case jr:case Ir:l=vn;break;case Cr:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=$n;else if(Wn(o))if(Yn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?Un(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(y=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Gr(r,x)).length&&(x=new bn(x,e,null,n,i),a.push({event:x,listeners:v}),y?x.data=y:null!==(y=zn(n))&&(x.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Pe(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var Ni=[],ki=-1;function Si(e){return{current:e}}function Ei(e){0>ki||(e.current=Ni[ki],Ni[ki]=null,ki--)}function Ti(e,t){ki++,Ni[ki]=e.current,e.current=t}var ji={},Ii=Si(ji),Ci=Si(!1),_i=ji;function Ai(e,t){var n=e.type.contextTypes;if(!n)return ji;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ci),Ei(Ii)}function Di(e,t,n){if(Ii.current!==ji)throw Error(s(168));Ti(Ii,t),Ti(Ci,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ji,_i=Ii.current,Ti(Ii,e),Ti(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,_i),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(Ii),Ti(Ii,e)):Ei(Ci),Ti(Ci,n)}var Fi=null,Vi=!1,Ui=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=xt;try{var n=Fi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,Bi),i}finally{xt=t,Ui=!1}}return null}var Hi=[],Wi=0,qi=null,Gi=0,Ki=[],Qi=0,Xi=null,$i=1,Yi="";function Ji(e,t){Hi[Wi++]=Gi,Hi[Wi++]=qi,qi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=$i,Ki[Qi++]=Yi,Ki[Qi++]=Xi,Xi=e;var r=$i;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-at(t)+i|n<<i|r,Yi=s+e}else $i=1<<s|n<<i|r,Yi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,Gi=Hi[--Wi],Hi[Wi]=null;for(;e===Xi;)Xi=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case N:return(t=Vc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Lc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case N:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&Ji(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),is&&Ji(i,m),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var x=f(i,m,y.value,c);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(i,m),o=a(x,o,g),null===d?u=x:d.sibling=x,d=x,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((s=Lc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case N:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Vc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var bs=xs(!0),ws=xs(!1),Ns=Si(null),ks=null,Ss=null,Es=null;function Ts(){Es=Ss=ks=null}function js(e){var t=Ns.current;Ei(Ns),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t){ks=e,Es=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===ks)throw Error(s(308));Ss=e,ks.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var As=null;function Ps(e){null===As?As=[e]:As.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Os=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},qs=Si(Ws),Gs=Si(Ws),Ks=Si(Ws);function Qs(e){if(e===Ws)throw Error(s(174));return e}function Xs(e,t){switch(Ti(Ks,t),Ti(Gs,e),Ti(qs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(qs),Ti(qs,t)}function $s(){Ei(qs),Ei(Gs),Ei(Ks)}function Ys(e){Qs(Ks.current);var t=Qs(qs.current),n=le(t,e.type);t!==n&&(Ti(Gs,e),Ti(qs,n))}function Js(e){Gs.current===e&&(Ei(qs),Ei(Gs))}var Zs=Si(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=b.ReactCurrentDispatcher,ia=b.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Ya,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function xa(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(xo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function ka(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,xo=!0),r=r.queue,Oa(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,_a(9,Ea.bind(null,n,r,i,t),void 0,null),null===_l)throw Error(s(349));0!==(30&sa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,ja(t)&&Ia(e)}function Ta(e,t,n){return n(function(){ja(t)&&Ia(e)})}function ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ia(e){var t=Ds(e,1);null!==t&&rc(t,e,1,-1)}function Ca(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[t.memoizedState,e]}function _a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return ya().memoizedState}function Pa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=_a(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=_a(t,n,s,r))}aa.flags|=e,i.memoizedState=_a(1|t,n,s,r)}function Da(e,t){return Pa(8390656,8,e,t)}function Oa(e,t){return Ra(2048,8,e,t)}function La(e,t){return Ra(4,2,e,t)}function Ma(e,t){return Ra(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Fa.bind(null,t,e),n)}function Ua(){}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Wa(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{xt=n,ia.transition=r}}function qa(){return ya().memoizedState}function Ga(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Xa(t,n);else if(null!==(n=Rs(e,t,n,r))){rc(n,e,r,tc()),$a(n,t,r)}}function Ka(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Xa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rs(e,t,i,r))&&(rc(n,e,r,i=tc()),$a(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Xa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ya={readContext:_s,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ja={readContext:_s,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ca,useDebugValue:Ua,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ca(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===_l)throw Error(s(349));0!==(30&sa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Da(Ta.bind(null,r,a,e),[e]),r.flags|=2048,_a(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=_l.identifierPrefix;if(is){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-at($i)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:_s,useCallback:za,useContext:_s,useEffect:Oa,useImperativeHandle:Va,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:ba,useRef:Aa,useState:function(){return ba(xa)},useDebugValue:Ua,useDeferredValue:function(e){return Ha(ya(),oa.memoizedState,e)},useTransition:function(){return[ba(xa)[0],ya().memoizedState]},useMutableSource:Na,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1},eo={readContext:_s,useCallback:za,useContext:_s,useEffect:Oa,useImperativeHandle:Va,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:wa,useRef:Aa,useState:function(){return wa(xa)},useDebugValue:Ua,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Ha(t,oa.memoizedState,e)},useTransition:function(){return[wa(xa)[0],ya().memoizedState]},useMutableSource:Na,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(rc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(rc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(rc(t,e,r,n),Us(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=ji,s=t.contextType;return"object"===typeof s&&null!==s?s=_s(s):(i=Pi(t)?_i:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):ji),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=_s(s):(s=Pi(t)?_i:Ii.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Gl=r),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=b.ReactCurrentOwner,xo=!1;function bo(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var s=t.ref;return Cs(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||xo?(is&&n&&es(t),t.flags|=1,bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function No(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(xo=!0)}}return To(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Dl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Dl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Dl,Rl),Rl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Dl,Rl),Rl|=r;return bo(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=Pi(n)?_i:Ii.current;return s=Ai(t,s),Cs(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||xo?(is&&r&&es(t),t.flags|=1,bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function jo(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(Cs(t,i),null===t.stateNode)Ho(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=_s(c):c=Ai(t,c=Pi(n)?_i:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Os=!1;var h=t.memoizedState;a.state=h,Bs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ci.current||Os?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Os||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=_s(l):l=Ai(t,l=Pi(n)?_i:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Os=!1,h=t.memoizedState,a.state=h,Bs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ci.current||Os?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Os||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,s,i)}function Io(e,t,n,r,i,s){Eo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Wo(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Xs(e,t.containerInfo)}function _o(e,t,n,r,i){return fs(),ps(i),t.flags|=256,bo(e,t,n,r),t.child}var Ao,Po,Ro,Do,Oo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Oo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Oo,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=_l)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ds(e,i),rc(r,e,i,-1))}return gc(),Vo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Qi++]=$i,Ki[Qi++]=Yi,Ki[Qi++]=Xi,$i=e.id,Yi=e.overflow,Xi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Dc(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,i}return e=(o=e.child).sibling,i=Dc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Go(t),null;case 3:return r=t.stateNode,$s(),Ei(Ci),Ei(Ii),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Po(e,t),Go(t),null;case 5:Js(t);var i=Qs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=Qs(qs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ie(r,a),Vr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=X(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Ks.current),Qs(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Go(t),null;case 13:if(Ei(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return $s(),Po(e,t),null===e&&Br(t.stateNode.containerInfo),Go(t),null;case 10:return js(t.type._context),Go(t),null;case 19:if(Ei(Zs),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qo(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,qo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Hl&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Go(t),null}else 2*Ye()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,Ti(Zs,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $s(),Ei(Ci),Ei(Ii),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ei(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Zs),null;case 4:return $s(),null;case 10:return js(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(qs.current);var s,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,$o=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:$o||Zo(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$o&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ec(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,fl(e,t,n),$o=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(a,o,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Ec(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),xe(l,o);var u=xe(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):x(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Ye())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($o=(u=$o)||d,gl(t,e),$o=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(p=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){Nl(h);continue}}null!==p?(p.return=f,Jo=p):Nl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){Ec(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Xo;var c=$o;if(Xo=a,($o=l)&&!c)for(Jo=i;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Jo=l):kl(i);for(;null!==s;)Jo=s,bl(s,t,n),s=s.sibling;Jo=i,Xo=o,$o=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Jo=s):wl(e)}}function wl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}$o||512&t.flags&&sl(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function Nl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function kl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Ec(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var Sl,El=Math.ceil,Tl=b.ReactCurrentDispatcher,jl=b.ReactCurrentOwner,Il=b.ReactCurrentBatchConfig,Cl=0,_l=null,Al=null,Pl=0,Rl=0,Dl=Si(0),Ol=0,Ll=null,Ml=0,Fl=0,Vl=0,Ul=null,zl=null,Bl=0,Hl=1/0,Wl=null,ql=!1,Gl=null,Kl=null,Ql=!1,Xl=null,$l=0,Yl=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Cl)?Ye():-1!==Zl?Zl:Zl=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=xt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Cl)&&e===_l||(e===_l&&(0===(2&Cl)&&(Fl|=n),4===Ol&&lc(e,Pl)),ic(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Hl=Ye()+500,Vi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===_l?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),ai(function(){0===(6&Cl)&&Bi()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===_l?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Cl;Cl|=2;var a=mc();for(_l===e&&Pl===t||(Wl=null,Hl=Ye()+500,fc(e,t));;)try{xc();break}catch(l){pc(e,l)}Ts(),Tl.current=a,Cl=i,null!==Al?t=0:(_l=null,Pl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Ye()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Nc(e,zl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Nc.bind(null,e,zl,Wl),t);break}Nc(e,zl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(Nc.bind(null,e,zl,Wl),r);break}Nc(e,zl,Wl);break;default:throw Error(s(329))}}}return ic(e,Ye()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cl))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,zl,Wl),ic(e,Ye()),null}function uc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Hl=Ye()+500,Vi&&Bi())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Cl)&&kc();var t=Cl;Cl|=1;var n=Il.transition,r=xt;try{if(Il.transition=null,xt=1,e)return e()}finally{xt=r,Il.transition=n,0===(6&(Cl=t))&&Bi()}}function hc(){Rl=Dl.current,Ei(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:$s(),Ei(Ci),Ei(Ii),na();break;case 5:Js(r);break;case 4:$s();break;case 13:case 19:Ei(Zs);break;case 10:js(r.type._context);break;case 22:case 23:hc()}n=n.return}if(_l=e,Al=e=Dc(e.current,null),Pl=Rl=t,Ol=0,Ll=null,Vl=Fl=Ml=0,zl=Ul=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}As=null}return e}function pc(e,t){for(;;){var n=Al;try{if(Ts(),ra.current=Ya,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,jl.current=null,null===n||null===n.return){Ol=1,Ll=t,Al=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Ol&&(Ol=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,fo(0,c,t));break e;case 1:l=c;var y=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Kl||!Kl.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=Ya,null===e?Ya:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===_l||0===(268435455&Ml)&&0===(268435455&Fl)||lc(_l,Pl)}function vc(e,t){var n=Cl;Cl|=2;var r=mc();for(_l===e&&Pl===t||(Wl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Ts(),Cl=n,Tl.current=r,null!==Al)throw Error(s(261));return _l=null,Pl=0,Ol}function yc(){for(;null!==Al;)bc(Al)}function xc(){for(;null!==Al&&!Xe();)bc(Al)}function bc(e){var t=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,jl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Rl)))return void(Al=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ol=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ol&&(Ol=5)}function Nc(e,t,n){var r=xt,i=Il.transition;try{Il.transition=null,xt=1,function(e,t,n,r){do{kc()}while(null!==Xl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===_l&&(Al=_l=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,_c(tt,function(){return kc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Il.transition,Il.transition=null;var o=xt;xt=1;var l=Cl;Cl|=4,jl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,xl(n,e,i),$e(),Cl=l,xt=o,Il.transition=a}else e.current=n;if(Ql&&(Ql=!1,Xl=e,$l=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Gl,Gl=null,e;0!==(1&$l)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Bi()}(e,t,n,r)}finally{Il.transition=i,xt=r}return null}function kc(){if(null!==Xl){var e=bt($l),t=Il.transition,n=xt;try{if(Il.transition=null,xt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,$l=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var f=(d=Jo).sibling,p=d.return;if(al(d),d===u){Jo=null;break}if(null!==f){f.return=p,Jo=f;break}Jo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Jo=y;break e}Jo=a.return}}var x=e.current;for(Jo=x;null!==Jo;){var b=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Jo=b;else e:for(o=x;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(N){Ec(l,l.return,N)}if(l===o){Jo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Jo=w;break e}Jo=l.return}}if(Cl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(N){}r=!0}return r}finally{xt=n,Il.transition=t}}return!1}function Sc(e,t,n){e=Vs(e,t=fo(0,t=lo(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Vs(t,e=po(t,e=lo(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Pl&n)===n&&(4===Ol||3===Ol&&(130023424&Pl)===Pl&&500>Ye()-Bl?fc(e,0):Vl|=n),ic(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ds(e,t))&&(vt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),jc(e,n)}function _c(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Lc(n.children,i,a,t);case S:o=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=a,e;case C:return(e=Pc(13,n,t,i)).elementType=C,e.lanes=a,e;case _:return(e=Pc(19,n,t,i)).elementType=_,e.lanes=a,e;case R:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case j:o=9;break e;case I:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Bc(e){if(!e)return ji;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Oi(e,n,t)}return t}function Hc(e,t,n,r,i,s,a,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Bc(null),n=e.current,(s=Fs(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,a))&&(rc(e,i,a,s),Us(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),fs();break;case 5:Ys(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Ns,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ti(Zs,1&Zs.current),null!==(e=Wo(e,t,n))?e.sibling:null);Ti(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Wo(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Cs(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Io(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),bo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=jo(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=No(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Co(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=_o(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=_o(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wo(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Eo(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ti(Ns,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ci.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Is(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Is(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Cs(t,n),r=r(i=_s(i)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),No(e,t,r,i=to(r.type,i),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Ho(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Cs(t,n),so(t,r,i),oo(t,r,i,n),Io(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=qc(a);o.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(a);s.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,l,n,r)}),l}(n,t,e,i,r);return qc(a)}$c.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},$c.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Cl)&&(Hl=Ye()+500,Bi()))}break;case 13:dc(function(){var t=Ds(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}}),Kc(e,1)}},Nt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ds(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return xt},Et=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Ne=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,Ce=dc;var tu={usingClientEntryPoint:!1,Events:[xi,bi,wi,Te,je,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},414:(e,t,n)=>{e.exports=n(654)},654:(e,t,n)=>{var r=n(950),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},761:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,R(N);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function N(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,T=-1,j=5,I=-1;function C(){return!(t.unstable_now()-I<j)}function _(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof x)k=function(){x(_)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=_,k=function(){P.postMessage(null)}}else k=function(){v(_,0)};function R(e){E=e,S||(S=!0,k())}function D(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,D(w,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(N))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{e.exports=n(49)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(950),s=n.t(i,2),a=n(352),o=n(119),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,l=r.Pop,h=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,h&&h({action:l,location:b.location,delta:t})}function x(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let b={get action(){return l},get location(){return e(s,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),h=e,()=>{s.removeEventListener(u,y),h=null}},createHref:e=>t(s,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(b.location,e,t);n&&n(i,e),g=v()+1;let c=f(i,g),u=b.createHref(i);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(u)}a&&h&&h({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(b.location,e,t);n&&n(i,e),g=v();let s=f(i,g),c=b.createHref(i);o.replaceState(s,"",c),a&&h&&h({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=R(i);a=A(s[o],e,r)}return a}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=V([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:_(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of N(e.path))i(e,t,r);else i(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=N(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,S=3,E=2,T=1,j=10,I=-2,C=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=I),t&&(r+=E),n.filter(e=>!C(e)).reduce((e,t)=>e+(k.test(t)?S:""===t?T:j),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:V([s,u.pathname]),pathnameBase:U(V([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=V([s,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:z(r),hash:B(i)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const V=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],q=(new Set(W),["get",...W]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const K=i.createContext(null);const Q=i.createContext(null);const X=i.createContext(null);const $=i.createContext(null);const Y=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext($)}function ee(){return Z()||d(!1),i.useContext($).location}function te(e){i.useContext(X).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(Y);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=i.useRef(!1);te(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))},[e,t]);return r}():function(){Z()||d(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext(X),{matches:s}=i.useContext(Y),{pathname:a}=ee(),o=JSON.stringify(M(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return te(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:V([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e])}()}function re(e,t,n,s){Z()||d(!1);let{navigator:a}=i.useContext(X),{matches:o}=i.useContext(Y),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let m=h.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=x(e,{pathname:v});let b=le(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:V([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:V([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&b?i.createElement($.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},b):b}function ie(){let e=function(){var e;let t=i.useContext(J),n=he(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const se=i.createElement(ie,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Y.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Y.Provider,{value:t},r)}function le(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,c&&(u<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),d=!0,f=null):u===s&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(oe,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=i.useContext(K);return t||d(!1),t}function he(e){let t=i.useContext(Q);return t||d(!1),t}function fe(e){let t=function(){let e=i.useContext(Y);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ge(e){d(!1)}function ve(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:u,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=s,x=i.useMemo(()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:a}},[u,f,p,m,v,y,a]);return null==x?null:i.createElement(X.Provider,{value:h},i.createElement($.Provider,{children:n,value:x}))}function ye(e){let{children:t,location:n}=e;return re(xe(t),n)}new Promise(()=>{});i.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,xe(e.props.children,s));e.type!==ge&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,s)),n.push(a)}),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(hw){}new Map;const be=s.startTransition;l.flushSync,s.useId;function we(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback(e=>{d&&be?be(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(h),[l,h]),i.useEffect(()=>me(r),[r]),i.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Ne,ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ne||(Ne={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ke||(ke={}));const Se=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Se(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Te;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(e){return function(e){const t=Se(e);return Ee.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ie=function(e){try{return Ee.decodeString(e,!0)}catch(hw){console.error("base64Decode failed: ",hw)}return null};const Ce=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,_e=()=>{try{return Ce()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALLOWED_FILE_TYPES:".jpg,.jpeg,.png,.bmp",REACT_APP_API_TIMEOUT:"10000",REACT_APP_API_VERSION:"v1",REACT_APP_DEBUG_MODE:"false",REACT_APP_DESCRIPTION:"AI-driven predictive ophthalmology platform",REACT_APP_ENABLE_BATCH_UPLOAD:"true",REACT_APP_ENABLE_CAMERA:"true",REACT_APP_ENABLE_HISTORY:"true",REACT_APP_ENABLE_REPORT_DOWNLOAD:"true",REACT_APP_GA_TRACKING_ID:"G-J7W6YCDHGL",REACT_APP_MAX_FILE_SIZE:"10485760",REACT_APP_MEDICAL_DISCLAIMER:"This is an assistive screening tool and is NOT a substitute for professional medical diagnosis. Always consult with a qualified healthcare professional.",REACT_APP_MOCK_API:"false",REACT_APP_NAME:"OpthalmoAI",REACT_APP_PRIVACY_POLICY_URL:"https://opthalmoai.com/privacy",REACT_APP_SENTRY_DSN:"https://your-sentry-dsn@sentry.io/project-id",REACT_APP_TERMS_OF_SERVICE_URL:"https://opthalmoai.com/terms",REACT_APP_VERSION:"1.0.0"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(hw){return}const t=e&&Ie(e[1]);return t&&JSON.parse(t)})()}catch(hw){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(hw))}},Ae=e=>{var t,n;return null===(n=null===(t=_e())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Pe=e=>{const t=Ae(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Re=()=>{var e;return null===(e=_e())||void 0===e?void 0:e.config},De=e=>{var t;return null===(t=_e())||void 0===t?void 0:t["_".concat(e)]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Le(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(s)),""].join(".")}function Me(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fe(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ve(){return!function(){var e;const t=null===(e=_e())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(hw){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"===typeof indexedDB}catch(hw){return!1}}function ze(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class Be extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(We,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Be(n,s,t)}}const We=/\{\$([^}]+)}/g;function qe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ge(n)&&Ge(s)){if(!qe(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ge(e){return null!==e&&"object"===typeof e}function Ke(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Qe(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Xe(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class $e{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ye),void 0===r.error&&(r.error=Ye),void 0===r.complete&&(r.complete=Ye);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(hw){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(hw){"undefined"!==typeof console&&console.error&&console.error(hw)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ye(){}function Je(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Ze(e){return e&&e._delegate?e._delegate:e}class et{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tt="[DEFAULT]";class nt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Oe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(hw){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(hw){if(r)return null;throw hw}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tt})}catch(hw){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(hw){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===tt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.component?this.component.multipleInstances?e:tt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const it=[];var st;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(st||(st={}));const at={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},ot=st.INFO,lt={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},ct=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=lt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ut{constructor(e){this.name=e,this._logLevel=ot,this._logHandler=ct,this._userLogHandler=null,it.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?at[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}}function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function ht(e){var t=function(e,t){if("object"!=dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dt(t)?t:t+""}function ft(e,t,n){return(t=ht(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach(function(t){ft(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let gt,vt;const yt=new WeakMap,xt=new WeakMap,bt=new WeakMap,wt=new WeakMap,Nt=new WeakMap;let kt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function St(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vt||(vt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(jt(this),n),Tt(yt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tt(e.apply(jt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(jt(this),t,...r);return bt.set(s,t.sort?t.sort():[t]),Tt(s)}}function Et(e){return"function"===typeof e?St(e):(e instanceof IDBTransaction&&function(e){if(xt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});xt.set(e,t)}(e),t=e,(gt||(gt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,kt):e);var t}function Tt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Tt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&yt.set(t,e)}).catch(()=>{}),Nt.set(t,e),t}(e);if(wt.has(e))return wt.get(e);const t=Et(e);return t!==e&&(wt.set(e,t),Nt.set(t,e)),t}const jt=e=>Nt.get(e);function It(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Tt(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Tt(a.result),e.oldVersion,e.newVersion,Tt(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const Ct=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],At=new Map;function Pt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(At.get(t))return At.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_t.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ct.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return At.set(t,s),s}kt=(e=>mt(mt({},e),{},{get:(t,n,r)=>Pt(t,n)||e.get(t,n,r),has:(t,n)=>!!Pt(t,n)||e.has(t,n)}))(kt);class Rt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Dt="@firebase/app",Ot="0.10.13",Lt=new ut("@firebase/app"),Mt="@firebase/app-compat",Ft="@firebase/analytics-compat",Vt="@firebase/analytics",Ut="@firebase/app-check-compat",zt="@firebase/app-check",Bt="@firebase/auth",Ht="@firebase/auth-compat",Wt="@firebase/database",qt="@firebase/data-connect",Gt="@firebase/database-compat",Kt="@firebase/functions",Qt="@firebase/functions-compat",Xt="@firebase/installations",$t="@firebase/installations-compat",Yt="@firebase/messaging",Jt="@firebase/messaging-compat",Zt="@firebase/performance",en="@firebase/performance-compat",tn="@firebase/remote-config",nn="@firebase/remote-config-compat",rn="@firebase/storage",sn="@firebase/storage-compat",an="@firebase/firestore",on="@firebase/vertexai-preview",ln="@firebase/firestore-compat",cn="firebase",un="[DEFAULT]",dn={[Dt]:"fire-core",[Mt]:"fire-core-compat",[Vt]:"fire-analytics",[Ft]:"fire-analytics-compat",[zt]:"fire-app-check",[Ut]:"fire-app-check-compat",[Bt]:"fire-auth",[Ht]:"fire-auth-compat",[Wt]:"fire-rtdb",[qt]:"fire-data-connect",[Gt]:"fire-rtdb-compat",[Kt]:"fire-fn",[Qt]:"fire-fn-compat",[Xt]:"fire-iid",[$t]:"fire-iid-compat",[Yt]:"fire-fcm",[Jt]:"fire-fcm-compat",[Zt]:"fire-perf",[en]:"fire-perf-compat",[tn]:"fire-rc",[nn]:"fire-rc-compat",[rn]:"fire-gcs",[sn]:"fire-gcs-compat",[an]:"fire-fst",[ln]:"fire-fst-compat",[on]:"fire-vertex","fire-js":"fire-js",[cn]:"fire-js-all"},hn=new Map,fn=new Map,pn=new Map;function mn(e,t){try{e.container.addComponent(t)}catch(hw){Lt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),hw)}}function gn(e){const t=e.name;if(pn.has(t))return Lt.debug("There were multiple attempts to register component ".concat(t,".")),!1;pn.set(t,e);for(const n of hn.values())mn(n,e);for(const n of fn.values())mn(n,e);return!0}function vn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yn(e){return void 0!==e.settings}const xn=new He("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class bn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const wn="10.14.1";function Nn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:un,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw xn.create("bad-app-name",{appName:String(i)});if(n||(n=Re()),!n)throw xn.create("no-options");const s=hn.get(i);if(s){if(qe(n,s.options)&&qe(r,s.config))return s;throw xn.create("duplicate-app",{appName:i})}const a=new rt(i);for(const l of pn.values())a.addComponent(l);const o=new bn(n,r,a);return hn.set(i,o),o}function kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un;const t=hn.get(e);if(!t&&e===un&&Re())return Nn();if(!t)throw xn.create("no-app",{appName:e});return t}function Sn(e,t,n){var r;let i=null!==(r=dn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Lt.warn(e.join(" "))}gn(new et("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const En="firebase-heartbeat-store";let Tn=null;function jn(){return Tn||(Tn=It("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(En)}catch(hw){console.warn(hw)}}}).catch(e=>{throw xn.create("idb-open",{originalErrorMessage:e.message})})),Tn}async function In(e,t){try{const n=(await jn()).transaction(En,"readwrite"),r=n.objectStore(En);await r.put(t,Cn(e)),await n.done}catch(hw){if(hw instanceof Be)Lt.warn(hw.message);else{const t=xn.create("idb-set",{originalErrorMessage:null===hw||void 0===hw?void 0:hw.message});Lt.warn(t.message)}}}function Cn(e){return"".concat(e.name,"!").concat(e.options.appId)}class _n{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Pn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=An();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(hw){Lt.warn(hw)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=An(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Rn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=je(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(hw){return Lt.warn(hw),""}}}function An(){return(new Date).toISOString().substring(0,10)}class Pn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ue()&&ze().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await jn()).transaction(En),n=await t.objectStore(En).get(Cn(e));return await t.done,n}catch(hw){if(hw instanceof Be)Lt.warn(hw.message);else{const t=xn.create("idb-get",{originalErrorMessage:null===hw||void 0===hw?void 0:hw.message});Lt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return In(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return In(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Rn(e){return je(JSON.stringify({version:2,heartbeats:e})).length}var Dn;Dn="",gn(new et("platform-logger",e=>new Rt(e),"PRIVATE")),gn(new et("heartbeat",e=>new _n(e),"PRIVATE")),Sn(Dt,Ot,Dn),Sn(Dt,Ot,"esm2017"),Sn("fire-js","");function On(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ln(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mn=Ln,Fn=new He("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vn=new ut("@firebase/auth");function Un(e){if(Vn.logLevel<=st.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vn.error("Auth (".concat(wn,"): ").concat(e),...n)}}function zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Gn(e,...n)}function Bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Gn(e,...n)}function Hn(e,t,n){const r=Object.assign(Object.assign({},Mn()),{[t]:n});return new He("auth","Firebase",r).create(t,{appName:e.name})}function Wn(e){return Hn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&zn(e,"argument-error"),Hn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Fn.create(e,...n)}function Kn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Gn(t,...r)}}function Qn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Un(t),new Error(t)}function Xn(e,t){e||Qn(t)}function $n(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yn(){return"http:"===Jn()||"https:"===Jn()}function Jn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Zn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yn()||Fe()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function er(e,t){Xn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class tr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rr=new Zn(3e4,6e4);function ir(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function sr(e,t,n,r){return ar(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Ke(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),tr.fetch()(lr(e,e.config.apiHost,n,a),l)})}async function ar(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},nr),t);try{const t=new ur(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw dr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw dr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw dr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw dr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Hn(e,o,a);zn(e,o)}}catch(hw){if(hw instanceof Be)throw hw;zn(e,"network-request-failed",{message:String(hw)})}}async function or(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await sr(e,t,n,r,i);return"mfaPendingCredential"in s&&zn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function lr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?er(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function cr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ur{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Bn(this.auth,"network-request-failed")),rr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bn(e,t,r);return i.customData._tokenResponse=n,i}function hr(e){return void 0!==e&&void 0!==e.enterprise}class fr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return cr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function pr(e,t){return sr(e,"GET","/v2/recaptchaConfig",ir(e,t))}async function mr(e,t){return sr(e,"POST","/v1/accounts:lookup",t)}function gr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(hw){}}function vr(e){return 1e3*Number(e)}function yr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Un("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ie(n);return e?JSON.parse(e):(Un("Failed to decode base64 JWT payload"),null)}catch(hw){return Un("Caught error parsing JWT payload as JSON",null===hw||void 0===hw?void 0:hw.toString()),null}}function xr(e){const t=yr(e);return Kn(t,"internal-error"),Kn("undefined"!==typeof t.exp,"internal-error"),Kn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function br(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(hw){throw hw instanceof Be&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(hw)&&e.auth.currentUser===e&&await e.auth.signOut(),hw}}class wr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(hw){return void((null===hw||void 0===hw?void 0:hw.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Nr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gr(this.lastLoginAt),this.creationTime=gr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await br(e,mr(n,{idToken:r}));Kn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Sr(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Nr(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Sr(e){return e.map(e=>{var{providerId:t}=e,n=On(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Er{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Kn(e.idToken,"internal-error"),Kn("undefined"!==typeof e.idToken,"internal-error"),Kn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):xr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Kn(0!==e.length,"internal-error");const t=xr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Kn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ar(e,{},async()=>{const n=Ke({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=lr(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tr.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Er;return n&&(Kn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Kn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Kn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Er,this.toJSON())}_performRefresh(){return Qn("not implemented")}}function Tr(e,t){Kn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class jr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=On(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Nr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await br(this,this.stsTokenManager.getToken(this.auth,e));return Kn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ze(e),r=await n.getIdToken(t),i=yr(r);Kn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gr(vr(i.auth_time)),issuedAtTime:gr(vr(i.iat)),expirationTime:gr(vr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ze(e);await kr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Kn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Kn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await kr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(Wn(this.auth));const e=await this.getIdToken();return await br(this,async function(e,t){return sr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:N}=t;Kn(y&&N,e,"internal-error");const k=Er.fromJSON(this.name,N);Kn("string"===typeof y,e,"internal-error"),Tr(u,e.name),Tr(d,e.name),Kn("boolean"===typeof x,e,"internal-error"),Kn("boolean"===typeof b,e,"internal-error"),Tr(h,e.name),Tr(f,e.name),Tr(p,e.name),Tr(m,e.name),Tr(g,e.name),Tr(v,e.name);const S=new jr({uid:y,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Er;r.updateFromServerResponse(t);const i=new jr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await kr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Kn(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Sr(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Er;a.updateFromIdToken(n);const o=new jr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Nr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Ir=new Map;function Cr(e){Xn(e instanceof Function,"Expected a class definition");let t=Ir.get(e);return t?(Xn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ir.set(e,t),t)}class _r{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_r.type="NONE";const Ar=_r;function Pr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Rr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Pr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Pr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Rr(Cr(Ar),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Cr(Ar);const s=Pr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=jr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new Rr(i,e,n)):new Rr(i,e,n)}}function Dr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Or(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ur(t))return"Blackberry";if(zr(t))return"Webos";if(Lr(t))return"Safari";if((t.includes("chrome/")||Mr(t))&&!t.includes("edge/"))return"Chrome";if(Vr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/firefox\//i.test(e)}function Lr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/crios\//i.test(e)}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/iemobile/i.test(e)}function Vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/android/i.test(e)}function Ur(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/blackberry/i.test(e)}function zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/webos/i.test(e)}function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Hr(){return function(){const e=Me();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return Br(e)||Vr(e)||zr(e)||Ur(e)||/windows phone/i.test(e)||Fr(e)}function qr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Dr(Me());break;case"Worker":t="".concat(Dr(Me()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(wn,"/").concat(r)}class Gr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(hw){r(hw)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(hw){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===hw||void 0===hw?void 0:hw.message})}}}class Kr{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Qr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $r(this),this.idTokenSubscription=new $r(this),this.beforeStateQueue=new Gr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Cr(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Rr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(hw){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await mr(this,{idToken:e}),n=await jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(hw){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(hw))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Kn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(hw){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kr(e)}catch(hw){if((null===hw||void 0===hw?void 0:hw.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(Wn(this));const t=e?Ze(e):null;return t&&Kn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Kn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(Wn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(Wn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return sr(e,"GET","/v2/passwordPolicy",ir(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Kr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new He("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return sr(e,"POST","/v2/accounts:revokeToken",ir(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Cr(e)||this._popupRedirectResolver;Kn(t,this,"argument-error"),this.redirectPersistenceManager=await Rr.create(this,[Cr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Kn(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Kn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Vn.logLevel<=st.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vn.warn("Auth (".concat(wn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Xr(e){return Ze(e)}class $r{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new $e(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Kn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jr(e){return Yr.loadJS(e)}function Zr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ei{constructor(e){this.type="recaptcha-enterprise",this.auth=Xr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;hr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{pr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new fr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&hr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Yr.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Jr(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ti(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ei(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ni(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ti(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ti(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function ri(e,t,n){const r=Xr(e);Kn(r._canInitEmulator,r,"emulator-config-failed"),Kn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ii(t),{host:a,port:o}=function(e){const t=ii(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:si(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:si(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ii(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function si(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ai{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,t){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function oi(e,t){return sr(e,"POST","/v1/accounts:signUp",t)}async function li(e,t){return or(e,"POST","/v1/accounts:signInWithPassword",ir(e,t))}class ci extends ai{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ci(e,t,"password")}static _fromEmailAndCode(e,t){return new ci(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ni(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",li);case"emailLink":return async function(e,t){return or(e,"POST","/v1/accounts:signInWithEmailLink",ir(e,t))}(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ni(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oi);case"emailLink":return async function(e,t){return or(e,"POST","/v1/accounts:signInWithEmailLink",ir(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ui(e,t){return or(e,"POST","/v1/accounts:signInWithIdp",ir(e,t))}class di extends ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=On(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new di(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ui(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ui(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ui(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ke(t)}return e}}const hi={USER_NOT_FOUND:"user-not-found"};class fi extends ai{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new fi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new fi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return or(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await or(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,t));if(n.temporaryProof)throw dr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return or(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),hi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new fi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class pi{constructor(e){var t,n,r,i,s,a;const o=Qe(Xe(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Kn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Qe(Xe(e)).link,n=t?Qe(Xe(t)).deep_link_id:null,r=Qe(Xe(e)).deep_link_id;return(r?Qe(Xe(r)).link:null)||r||n||t||e}(e);try{return new pi(t)}catch(n){return null}}}class mi{constructor(){this.providerId=mi.PROVIDER_ID}static credential(e,t){return ci._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=pi.parseLink(t);return Kn(n,"argument-error"),ci._fromEmailAndCode(e,n.code,n.tenantId)}}mi.PROVIDER_ID="password",mi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",mi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vi extends gi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yi extends vi{constructor(){super("facebook.com")}static credential(e){return di._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return yi.credential(t.oauthAccessToken)}catch(n){return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com",yi.PROVIDER_ID="facebook.com";class xi extends vi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return di._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return xi.credential(n,r)}catch(i){return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com",xi.PROVIDER_ID="google.com";class bi extends vi{constructor(){super("github.com")}static credential(e){return di._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return bi.credential(t.oauthAccessToken)}catch(n){return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com",bi.PROVIDER_ID="github.com";class wi extends vi{constructor(){super("twitter.com")}static credential(e,t){return di._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return wi.credential(n,r)}catch(i){return null}}}wi.TWITTER_SIGN_IN_METHOD="twitter.com",wi.PROVIDER_ID="twitter.com";class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await jr._fromIdTokenResponse(e,n,r),s=ki(n);return new Ni({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ki(n);return new Ni({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ki(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Si extends Be{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Si.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Si(e,t,n,r)}}function Ei(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Si._fromErrorAndOperation(e,n,t,r);throw n})}async function Ti(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await br(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ni._forOperation(e,"link",r)}async function ji(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(yn(r.app))return Promise.reject(Wn(r));const i="reauthenticate";try{const s=await br(e,Ei(r,i,t,e),n);Kn(s.idToken,r,"internal-error");const a=yr(s.idToken);Kn(a,r,"internal-error");const{sub:o}=a;return Kn(e.uid===o,r,"user-mismatch"),Ni._forOperation(e,i,s)}catch(hw){throw(null===hw||void 0===hw?void 0:hw.code)==="auth/".concat("user-not-found")&&zn(r,"user-mismatch"),hw}}async function Ii(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yn(e.app))return Promise.reject(Wn(e));const r="signIn",i=await Ei(e,r,t),s=await Ni._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}new WeakMap;const Ci="__sak";class _i{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ci,"1"),this.storage.removeItem(Ci),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ai extends _i{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Hr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ai.type="LOCAL";const Pi=Ai;class Ri extends _i{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ri.type="SESSION";const Di=Ri;class Oi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Oi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Oi.receivers=[];class Mi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Li("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Fi(){return window}function Vi(){return"undefined"!==typeof Fi().WorkerGlobalScope&&"function"===typeof Fi().importScripts}const Ui="firebaseLocalStorageDb",zi="firebaseLocalStorage",Bi="fbase_key";class Hi{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wi(e,t){return e.transaction([zi],t?"readwrite":"readonly").objectStore(zi)}function qi(){const e=indexedDB.open(Ui,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(zi,{keyPath:Bi})}catch(hw){n(hw)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(zi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ui);return new Hi(e).toPromise()}(),t(await qi()))})})}async function Gi(e,t,n){const r=Wi(e,!0).put({[Bi]:t,value:n});return new Hi(r).toPromise()}function Ki(e,t){const n=Wi(e,!0).delete(t);return new Hi(n).toPromise()}class Qi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await qi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(hw){if(t++>3)throw hw;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oi._getInstance(Vi()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Mi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qi();return await Gi(e,Ci,"1"),await Ki(e,Ci),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gi(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Wi(e,!1).get(t),r=await new Hi(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ki(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Wi(e,!1).getAll();return new Hi(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Qi.type="LOCAL";const Xi=Qi;Zr("rcb"),new Zn(3e4,6e4);const $i="recaptcha";async function Yi(e,t,n){var r;const i=await n.verify();try{let s;if(Kn("string"===typeof i,e,"argument-error"),Kn(n.type===$i,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Kn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return sr(e,"POST","/v2/accounts/mfaEnrollment:start",ir(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Kn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Kn(n,e,"missing-multi-factor-info");const a=await function(e,t){return sr(e,"POST","/v2/accounts/mfaSignIn:start",ir(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return sr(e,"POST","/v1/accounts:sendVerificationCode",ir(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ji{constructor(e){this.providerId=Ji.PROVIDER_ID,this.auth=Xr(e)}verifyPhoneNumber(e,t){return Yi(this.auth,e,Ze(t))}static credential(e,t){return fi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ji.credentialFromTaggedObject(t)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?fi._fromTokenResponse(n,r):null}}function Zi(e,t){return t?Cr(t):(Kn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ji.PROVIDER_ID="phone",Ji.PHONE_SIGN_IN_METHOD="phone";class es extends ai{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ui(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ui(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ts(e){return Ii(e.auth,new es(e),e.bypassAuthState)}function ns(e){const{auth:t,user:n}=e;return Kn(n,t,"internal-error"),ji(n,new es(e),e.bypassAuthState)}async function rs(e){const{auth:t,user:n}=e;return Kn(n,t,"internal-error"),Ti(n,new es(e),e.bypassAuthState)}class is{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(hw){this.reject(hw)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(hw){this.reject(hw)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ts;case"linkViaPopup":case"linkViaRedirect":return rs;case"reauthViaPopup":case"reauthViaRedirect":return ns;default:zn(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ss=new Zn(2e3,1e4);class as extends is{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,as.currentPopupAction&&as.currentPopupAction.cancel(),as.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Kn(e,this.auth,"internal-error"),e}async onExecution(){Xn(1===this.filter.length,"Popup operations only handle one event");const e=Li();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,as.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ss.get())};e()}}as.currentPopupAction=null;const os=new Map;class ls extends is{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=os.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ds(t),r=us(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(hw){e=()=>Promise.reject(hw)}os.set(this.auth._key(),e)}return this.bypassAuthState||os.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function cs(e,t){os.set(e._key(),t)}function us(e){return Cr(e._redirectPersistence)}function ds(e){return Pr("pendingRedirect",e.config.apiKey,e.name)}async function hs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yn(e.app))return Promise.reject(Wn(e));const r=Xr(e),i=Zi(r,t),s=new ls(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class fs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ms(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ms(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Bn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ps(e))}saveEventToCache(e){this.cachedEventUids.add(ps(e)),this.lastProcessedEventTime=Date.now()}}function ps(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ms(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const gs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vs=/^https?/;async function ys(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return sr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(xs(r))return}catch(n){}zn(e,"unauthorized-domain")}function xs(e){const t=$n(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!vs.test(n))return!1;if(gs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bs=new Zn(3e4,6e4);function ws(){const e=Fi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ns(e){return new Promise((t,n)=>{var r,i,s;function a(){ws(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ws(),n(Bn(e,"network-request-failed"))},timeout:bs.get()})}if(null===(i=null===(r=Fi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Fi().gapi)||void 0===s?void 0:s.load)){const t=Zr("iframefcb");return Fi()[t]=()=>{gapi.load?a():n(Bn(e,"network-request-failed"))},Jr("".concat(Yr.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw ks=null,e})}let ks=null;const Ss=new Zn(5e3,15e3),Es={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ts=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function js(e){const t=e.config;Kn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?er(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:wn},i=Ts.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Ke(r).slice(1))}async function Is(e){const t=await function(e){return ks=ks||Ns(e),ks}(e),n=Fi().gapi;return Kn(n,e,"internal-error"),t.open({where:document.body,url:js(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Es,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Bn(e,"network-request-failed"),s=Fi().setTimeout(()=>{r(i)},Ss.get());function a(){Fi().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Cs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _s{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(hw){}}}function As(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Cs),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Me().toLowerCase();n&&(o=Mr(c)?"_blank":n),Or(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Br(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new _s(null);const d=window.open(t||"",o,u);Kn(d,e,"popup-blocked");try{d.focus()}catch(hw){}return new _s(d)}const Ps="__/auth/handler",Rs="emulator/auth/handler",Ds=encodeURIComponent("fac");async function Os(e,t,n,r,i,s){Kn(e.config.authDomain,e,"auth-domain-config-required"),Kn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wn,eventId:i};if(t instanceof gi){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof vi){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ds,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ps);return er(t,Rs)}(e),"?").concat(Ke(o).slice(1)).concat(c)}const Ls="webStorageSupport";const Ms=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Di,this._completeRedirectFn=hs,this._overrideRedirectResult=cs}async _openPopup(e,t,n,r){var i;Xn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return As(e,await Os(e,t,n,$n(),r),Li())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Fi().location.href=e}(await Os(e,t,n,$n(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Xn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Is(e),n=new fs(e);return t.register("authEvent",t=>{Kn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ls,{type:Ls},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ls];void 0!==i&&t(!!i),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ys(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wr()||Lr()||Br()}};var Fs="@firebase/auth",Vs="1.7.9";class Us{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Kn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zs=De("authIdTokenMaxAge")||300;let Bs=null;var Hs;Yr={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Bn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Hs="Browser",gn(new et("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Kn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Hs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qr(Hs)},c=new Qr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),gn(new et("auth-internal",e=>(e=>new Us(e))(Xr(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(Fs,Vs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Hs)),Sn(Fs,Vs,"esm2017");Sn("firebase","10.14.1","app");const Ws="@firebase/installations",qs="0.6.9",Gs=1e4,Ks="w:".concat(qs),Qs="FIS_v2",Xs=36e5,$s=new He("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ys(e){return e instanceof Be&&e.code.includes("request-failed")}function Js(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Zs(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function ea(e,t){const n=(await t.json()).error;return $s.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ta(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function na(e,t){let{refreshToken:n}=t;const r=ta(e);return r.append("Authorization",function(e){return"".concat(Qs," ").concat(e)}(n)),r}async function ra(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ia(e){return new Promise(t=>{setTimeout(t,e)})}const sa=/^[cdef][\w-]{21}$/;function aa(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return sa.test(t)?t:""}catch(e){return""}}function oa(e){return"".concat(e.appName,"!").concat(e.appId)}const la=new Map;function ca(e,t){const n=oa(e);ua(n,t),function(e,t){const n=ha();n&&n.postMessage({key:e,fid:t});fa()}(n,t)}function ua(e,t){const n=la.get(e);if(n)for(const r of n)r(t)}let da=null;function ha(){return!da&&"BroadcastChannel"in self&&(da=new BroadcastChannel("[Firebase] FID Change"),da.onmessage=e=>{ua(e.data.key,e.data.fid)}),da}function fa(){0===la.size&&da&&(da.close(),da=null)}const pa="firebase-installations-store";let ma=null;function ga(){return ma||(ma=It("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(pa)}})),ma}async function va(e,t){const n=oa(e),r=(await ga()).transaction(pa,"readwrite"),i=r.objectStore(pa),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||ca(e,t.fid),t}async function ya(e){const t=oa(e),n=(await ga()).transaction(pa,"readwrite");await n.objectStore(pa).delete(t),await n.done}async function xa(e,t){const n=oa(e),r=(await ga()).transaction(pa,"readwrite"),i=r.objectStore(pa),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||ca(e,a.fid),a}async function ba(e){let t;const n=await xa(e.appConfig,n=>{const r=function(e){const t=e||{fid:aa(),registrationStatus:0};return ka(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject($s.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Js(n),a=ta(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:Qs,appId:n.appId,sdkVersion:Ks},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await ra(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Zs(e.authToken)}}throw await ea("Create Installation",u)}(e,t);return va(e.appConfig,n)}catch(hw){throw Ys(hw)&&409===hw.customData.serverCode?await ya(e.appConfig):await va(e.appConfig,{fid:t.fid,registrationStatus:0}),hw}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:wa(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function wa(e){let t=await Na(e.appConfig);for(;1===t.registrationStatus;)await ia(100),t=await Na(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await ba(e);return n||t}return t}function Na(e){return xa(e,e=>{if(!e)throw $s.create("installation-not-found");return ka(e)})}function ka(e){return 1===(t=e).registrationStatus&&t.registrationTime+Gs<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Sa(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Js(e),"/").concat(n,"/authTokens:generate")}(n,t),s=na(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:Ks,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await ra(()=>fetch(i,l));if(c.ok){return Zs(await c.json())}throw await ea("Generate Auth Token",c)}async function Ea(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await xa(e.appConfig,r=>{if(!ja(r))throw $s.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Xs}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Ta(e.appConfig);for(;1===n.authToken.requestStatus;)await ia(100),n=await Ta(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Ea(e,t):r}(e,n),r;{if(!navigator.onLine)throw $s.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Sa(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await va(e.appConfig,r),n}catch(hw){if(!Ys(hw)||401!==hw.customData.serverCode&&404!==hw.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await va(e.appConfig,n)}else await ya(e.appConfig);throw hw}}(e,n),n}});return t?await t:r.authToken}function Ta(e){return xa(e,e=>{if(!ja(e))throw $s.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Gs<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function ja(e){return void 0!==e&&2===e.registrationStatus}async function Ia(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await ba(e);t&&await t}(n);return(await Ea(n,t)).token}function Ca(e){return $s.create("missing-app-config-values",{valueName:e})}const _a="installations",Aa=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ca("App Configuration");if(!e.name)throw Ca("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ca(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:vn(t,"heartbeat"),_delete:()=>Promise.resolve()}},Pa=e=>{const t=vn(e.getProvider("app").getImmediate(),_a).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await ba(t);return r?r.catch(console.error):Ea(t).catch(console.error),n.fid}(t),getToken:e=>Ia(t,e)}};gn(new et(_a,Aa,"PUBLIC")),gn(new et("installations-internal",Pa,"PRIVATE")),Sn(Ws,qs),Sn(Ws,qs,"esm2017");const Ra="analytics",Da="https://www.googletagmanager.com/gtag/js",Oa=new ut("@firebase/analytics"),La=new He("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ma(e){if(!e.startsWith(Da)){const t=La.create("invalid-gtag-resource",{gtagURL:e});return Oa.warn(t.message),""}return e}function Fa(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Va(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Ma}),r=document.createElement("script"),i="".concat(Da,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Ua(e,t,n,r){return async function(i){try{for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Fa(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(hw){Oa.error(hw)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=a;await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await Fa(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(hw){Oa.error(hw)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(hw){Oa.error(hw)}}}const za=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ba(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Ha(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:za,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw La.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw La.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new qa;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),Wa({appId:r,apiKey:i,measurementId:s},a,o,t)}async function Wa(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:za;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(La.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(hw){if(l)return Oa.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===hw||void 0===hw?void 0:hw.message,"]")),{appId:o,measurementId:l};throw hw}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Ba(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(s,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw La.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(o),t}catch(hw){const r=hw;if(!function(e){if(!(e instanceof Be)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(o),l)return Oa.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:o,measurementId:l};throw hw}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?Je(i,s.intervalMillis,30):Je(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(o,u),Oa.debug("Calling attemptFetch again in ".concat(c," millis")),Wa(e,u,n,s)}}class qa{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Ga,Ka;function Qa(e){Ka=e}function Xa(e){Ga=e}async function $a(e,t,n,r,i,s,a){var o;const l=Ha(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Oa.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>Oa.error(e)),t.push(l);const c=async function(){if(!Ue())return Oa.warn(La.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await ze()}catch(hw){return Oa.warn(La.create("indexeddb-unavailable",{errorInfo:null===hw||void 0===hw?void 0:hw.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Da)&&n.src.includes(e))return n;return null})(s)||Va(s,u.measurementId),Ka&&(i("consent","default",Ka),Qa(void 0)),i("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Ga&&(i("set",Ga),Xa(void 0)),u.measurementId}class Ya{constructor(e){this.app=e}_delete(){return delete Ja[this.app.options.appId],Promise.resolve()}}let Ja={},Za=[];const eo={};let to,no,ro="dataLayer",io="gtag",so=!1;function ao(){const e=[];if(Fe()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=La.create("invalid-analytics-context",{errorInfo:t});Oa.warn(n.message)}}function oo(e,t,n){ao();const r=e.options.appId;if(!r)throw La.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw La.create("no-api-key");Oa.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ja[r])throw La.create("already-exists",{id:r});if(!so){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ro);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=Ua(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Ja,Za,eo,ro,io);no=e,to=t,so=!0}Ja[r]=$a(e,Za,eo,t,to,ro,n);return new Ya(e)}function lo(e,t,n,r){e=Ze(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(no,Ja[e.app.options.appId],t,n,r).catch(e=>Oa.error(e))}const co="@firebase/analytics",uo="0.10.8";gn(new et(Ra,(e,t)=>{let{options:n}=t;return oo(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),gn(new et("analytics-internal",function(e){try{const t=e.getProvider(Ra).getImmediate();return{logEvent:(e,n,r)=>lo(t,e,n,r)}}catch(hw){throw La.create("interop-component-reg-failed",{reason:hw})}},"PRIVATE")),Sn(co,uo),Sn(co,uo,"esm2017");const ho="firebasestorage.googleapis.com",fo="storageBucket";class po extends Be{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(vo(e),"Firebase Storage: ".concat(t," (").concat(vo(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,po.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vo(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var mo,go;function vo(e){return"storage/"+e}function yo(){return new po(mo.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function xo(){return new po(mo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bo(){return new po(mo.CANCELED,"User canceled the upload/download.")}function wo(e){return new po(mo.INVALID_ARGUMENT,e)}function No(){return new po(mo.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(mo||(mo={}));class ko{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ko.makeFromUrl(e,t)}catch(hw){return new ko(e,"")}if(""===n.path)return n;throw r=e,new po(mo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===ho?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new ko(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new po(mo.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class So{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Eo(e,t,n,r){if(r<t)throw wo("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw wo("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function To(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function jo(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(go||(go={}));class Io{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Co(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===go.NO_ERROR,i=n.getStatus();if(!t||jo(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===go.ABORT;return void e(!1,new Co(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Co(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(hw){r(hw)}else if(null!==i){const e=yo();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?No():bo())}else{r(xo())}};this.canceled_?t(0,new Co(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Co{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function _o(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class Ao{constructor(e,t){this._service=e,this._location=t instanceof ko?t:ko.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ao(e,t)}get root(){const e=new ko(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _o(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ko(this._location.bucket,e);return new Ao(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new po(mo.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Po(e,t){const n=null===t||void 0===t?void 0:t[fo];return null==n?null:ko.makeFromBucketSpec(n,e)}class Ro{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=ho,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ko.makeFromBucketSpec(r,this._host):Po(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ko.makeFromBucketSpec(this._url,e):this._bucket=Po(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Eo("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Eo("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ao(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new So(No());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=To(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Io(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Do="@firebase/storage",Oo="0.13.2",Lo="storage";function Mo(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Ro(r,i,s,n,wn)}gn(new et(Lo,Mo,"PUBLIC").setMultipleInstances(!0)),Sn(Do,Oo,""),Sn(Do,Oo,"esm2017");var Fo,Vo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Uo={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Uo.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Fo=Uo.Integer=r}).apply("undefined"!==typeof Vo?Vo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var zo,Bo,Ho,Wo,qo,Go,Ko,Qo,Xo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},$o={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Xo&&Xo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function N(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout(()=>{throw e},0)}function S(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let j,I=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},_=()=>{const e=i.Promise.resolve(void 0);j=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){k(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=H(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new V(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),q={};function G(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function X(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)X(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):U(e)}}}function Y(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;w(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){X(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&$(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function xe(){R.call(this,"c")}d(ye,R),d(xe,R);var be={},we=null;function Ne(){return we=we||new ne}function ke(e){R.call(this,be.La,e)}function Se(e){const t=Ne();re(t,new ke(t))}function Ee(e,t){R.call(this,be.STAT_EVENT,e),this.stat=t}function Te(e){const t=Ne();re(t,new Ee(t,e))}function je(e,t){R.call(this,be.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ce(){this.g=!0}function _e(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}be.La="serverreachability",d(ke,R),be.STAT_EVENT="statevent",d(Ee,R),be.Ma="timingevent",d(je,R),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Me={},Fe={};function Ve(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),He(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=G(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),$t(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(qe(o),He(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Xt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||Se(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Gt(this.g);e="";var s=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ke(this),Ge(this);break e}_e(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Te(14),n=!1),_e(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),_e(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}_e(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Te(11))}}else _e(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else _e(this.i,this.l,o,null),Qe(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=N(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),Ge(this)}}}catch(Yo){}},Oe.prototype.cancel=function(){this.J=!0,Ke(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),Te(17)),Ke(this),this.s=2,Ge(this)):We(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Et(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,xt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,xt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function kt(e,t){Nt(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return Nt(e),t=Tt(e,t),e.g.has(t)}function Et(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function It(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(hw){throw t.push(r+"type="+encodeURIComponent("_badmap")),hw}}function _t(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){Nt(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,St(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(_t,pe),_t.prototype.g=function(){return new At(this.l,this.j)},_t.prototype.i=(mt={},function(){return mt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Vt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Ht(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ft.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){Wt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(hw){}}}function Wt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(el){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Xt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}dn(e)}function $t(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Yt(e){$t(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;j||_(),I||(j(),I=!0),C.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,r,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ct(o,e,"req"+n+"_")}catch(Yo){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;j||_(),I||(j(),I=!0),C.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ne(),new je(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=u(jt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(jt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(jt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(jt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout(()=>{n.abort(),jt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?jt(0,0,!0,t):jt(0,0,!1,t)}).catch(()=>{clearTimeout(r),jt(0,0,!1,t)})}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),Yt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new _t({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){xe.call(this),this.status=1}function xn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Vt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=x(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ot(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ve(i,n,null)):Ve(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),$t(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Xt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Xe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,xe),d(xn,pn),xn.prototype.ua=function(){re(this.g,"a")},xn.prototype.ta=function(e){re(this.g,new vn(e))},xn.prototype.sa=function(e){re(this.g,new yn)},xn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Qo=$o.createWebChannelTransport=function(){return new mn},Ko=$o.getStatEventTarget=function(){return Ne()},Go=$o.Event=be,qo=$o.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Wo=$o.ErrorCode=Pe,Re.COMPLETE="complete",Ho=$o.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Bo=$o.WebChannel=ge,$o.FetchXmlHttpFactory=_t,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,zo=$o.XhrIo=Mt}).apply("undefined"!==typeof Xo?Xo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Yo="@firebase/firestore";class Jo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jo.UNAUTHENTICATED=new Jo(null),Jo.GOOGLE_CREDENTIALS=new Jo("google-credentials-uid"),Jo.FIRST_PARTY=new Jo("first-party-uid"),Jo.MOCK_USER=new Jo("mock-user");let Zo="10.14.0";const el=new ut("@firebase/firestore");function tl(){return el.logLevel}function nl(e){if(el.logLevel<=st.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(sl);el.debug("Firestore (".concat(Zo,"): ").concat(e),...i)}}function rl(e){if(el.logLevel<=st.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(sl);el.error("Firestore (".concat(Zo,"): ").concat(e),...i)}}function il(e){if(el.logLevel<=st.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(sl);el.warn("Firestore (".concat(Zo,"): ").concat(e),...i)}}function sl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Zo,") INTERNAL ASSERTION FAILED: ")+e;throw rl(t),new Error(t)}function ol(e,t){e||al()}function ll(e,t){return e}const cl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ul extends Be{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class dl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class fl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jo.UNAUTHENTICATED))}shutdown(){}}class pl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ml{constructor(e){this.t=e,this.currentUser=Jo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ol(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new dl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new dl,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{nl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(nl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new dl)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(nl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ol("string"==typeof t.accessToken),new hl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ol(null===e||"string"==typeof e),new Jo(e)}}class gl{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Jo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vl{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new gl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xl{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ol(void 0===this.o);const n=e=>{null!=e.error&&nl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,nl("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{nl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):nl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ol("string"==typeof e.token),this.R=e.token,new yl(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bl(e,t){return e<t?-1:e>t?1:0}function wl(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Nl{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ul(cl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ul(cl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ul(cl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ul(cl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nl.fromMillis(Date.now())}static fromDate(e){return Nl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Nl(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bl(this.nanoseconds,e.nanoseconds):bl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kl{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kl(e)}static min(){return new kl(new Nl(0,0))}static max(){return new kl(new Nl(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sl{constructor(e,t,n){void 0===t?t=0:t>e.length&&al(),void 0===n?n=e.length-t:n>e.length-t&&al(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Sl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class El extends Sl{construct(e,t,n){return new El(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ul(cl.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new El(e)}static emptyPath(){return new El([])}}const Tl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jl extends Sl{construct(e,t,n){return new jl(e,t,n)}static isValidIdentifier(e){return Tl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jl(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ul(cl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ul(cl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ul(cl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ul(cl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jl(t)}static emptyPath(){return new jl([])}}class Il{constructor(e){this.path=e}static fromPath(e){return new Il(El.fromString(e))}static fromName(e){return new Il(El.fromString(e).popFirst(5))}static empty(){return new Il(El.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===El.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return El.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Il(new El(e.slice()))}}class Cl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Cl.UNKNOWN_ID=-1;function _l(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=kl.fromTimestamp(1e9===r?new Nl(n+1,0):new Nl(n,r));return new Pl(i,Il.empty(),t)}function Al(e){return new Pl(e.readTime,e.key,-1)}class Pl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Pl(kl.min(),Il.empty(),-1)}static max(){return new Pl(kl.max(),Il.empty(),-1)}}function Rl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Il.comparator(e.documentKey,t.documentKey),0!==n?n:bl(e.largestBatchId,t.largestBatchId))}class Dl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ol{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&al(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ol((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ol?t:Ol.resolve(t)}catch(e){return Ol.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ol.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ol.reject(t)}static resolve(e){return new Ol((t,n)=>{t(e)})}static reject(e){return new Ol((t,n)=>{n(e)})}static waitFor(e){return new Ol((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Ol.resolve(!1);for(const n of e)t=t.next(e=>e?Ol.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ol((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Ol((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ll(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(e){return"IndexedDbTransactionError"===e.name}class Fl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Vl(e){return null==e}function Ul(e){return 0===e&&1/e==-1/0}Fl.oe=-1;const zl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Hl=Bl,Wl=[...Hl,"indexConfiguration","indexState","indexEntries"];function ql(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Kl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ql{constructor(e,t){this.comparator=e,this.root=t||$l.EMPTY}insert(e,t){return new Ql(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$l.BLACK,null,null))}remove(e){return new Ql(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$l.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xl(this.root,e,this.comparator,!0)}}class Xl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $l{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:$l.RED,this.left=null!=r?r:$l.EMPTY,this.right=null!=i?i:$l.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new $l(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $l.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return $l.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$l.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw al();if(this.right.isRed())throw al();const e=this.left.check();if(e!==this.right.check())throw al();return e+(this.isRed()?0:1)}}$l.EMPTY=null,$l.RED=!0,$l.BLACK=!1,$l.EMPTY=new class{constructor(){this.size=0}get key(){throw al()}get value(){throw al()}get color(){throw al()}get left(){throw al()}get right(){throw al()}copy(e,t,n,r,i){return this}insert(e,t,n){return new $l(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yl{constructor(e){this.comparator=e,this.data=new Ql(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jl(this.data.getIterator())}getIteratorFrom(e){return new Jl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Yl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yl(this.comparator);return t.data=e,t}}class Jl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zl{constructor(e){this.fields=e,e.sort(jl.comparator)}static empty(){return new Zl([])}unionWith(e){let t=new Yl(jl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Zl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wl(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ec extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ec("Invalid base64 string: "+e):e}}(e);return new tc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new tc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tc.EMPTY_BYTE_STRING=new tc("");const nc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rc(e){if(ol(!!e),"string"==typeof e){let t=0;const n=nc.exec(e);if(ol(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ic(e.seconds),nanos:ic(e.nanos)}}function ic(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sc(e){return"string"==typeof e?tc.fromBase64String(e):tc.fromUint8Array(e)}function ac(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oc(e){const t=e.mapValue.fields.__previous_value__;return ac(t)?oc(t):t}function lc(e){const t=rc(e.mapValue.fields.__local_write_time__.timestampValue);return new Nl(t.seconds,t.nanos)}class cc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ac(e)?4:Sc(e)?9007199254740991:Nc(e)?10:11:al()}function hc(e,t){if(e===t)return!0;const n=dc(e);if(n!==dc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return lc(e).isEqual(lc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=rc(e.timestampValue),r=rc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return sc(e.bytesValue).isEqual(sc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ic(e.geoPointValue.latitude)===ic(t.geoPointValue.latitude)&&ic(e.geoPointValue.longitude)===ic(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ic(e.integerValue)===ic(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ic(e.doubleValue),r=ic(t.doubleValue);return n===r?Ul(n)===Ul(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return wl(e.arrayValue.values||[],t.arrayValue.values||[],hc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ql(n)!==ql(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hc(n[i],r[i])))return!1;return!0}(e,t);default:return al()}}function fc(e,t){return void 0!==(e.values||[]).find(e=>hc(e,t))}function pc(e,t){if(e===t)return 0;const n=dc(e),r=dc(t);if(n!==r)return bl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ic(e.integerValue||e.doubleValue),r=ic(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return mc(e.timestampValue,t.timestampValue);case 4:return mc(lc(e),lc(t));case 5:return bl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=sc(e),r=sc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=bl(n[i],r[i]);if(0!==e)return e}return bl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=bl(ic(e.latitude),ic(t.latitude));return 0!==n?n:bl(ic(e.longitude),ic(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return gc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=bl((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:gc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===uc.mapValue&&t===uc.mapValue)return 0;if(e===uc.mapValue)return 1;if(t===uc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=bl(r[a],s[a]);if(0!==e)return e;const t=pc(n[r[a]],i[s[a]]);if(0!==t)return t}return bl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw al()}}function mc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return bl(e,t);const n=rc(e),r=rc(t),i=bl(n.seconds,r.seconds);return 0!==i?i:bl(n.nanos,r.nanos)}function gc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=pc(n[i],r[i]);if(e)return e}return bl(n.length,r.length)}function vc(e){return yc(e)}function yc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=rc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return sc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Il.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=yc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(yc(e.fields[i]));return n+"}"}(e.mapValue):al()}function xc(e){return!!e&&"integerValue"in e}function bc(e){return!!e&&"arrayValue"in e}function wc(e){return!!e&&"mapValue"in e}function Nc(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Gl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=kc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Sc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ec{constructor(e){this.value=e}static empty(){return new Ec({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(t)}setAll(e){let t=jl.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=kc(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());wc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];wc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Gl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ec(kc(this.value))}}class Tc{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Tc(e,0,kl.min(),kl.min(),kl.min(),Ec.empty(),0)}static newFoundDocument(e,t,n,r){return new Tc(e,1,t,kl.min(),n,r,0)}static newNoDocument(e,t){return new Tc(e,2,t,kl.min(),kl.min(),Ec.empty(),0)}static newUnknownDocument(e,t){return new Tc(e,3,t,kl.min(),kl.min(),Ec.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ec.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ec.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class jc{constructor(e,t){this.position=e,this.inclusive=t}}function Ic(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Il.comparator(Il.fromName(a.referenceValue),n.key):pc(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Cc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!hc(e.position[n],t.position[n]))return!1;return!0}class _c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ac(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Pc{}class Rc extends Pc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new zc(e,t,n):"array-contains"===t?new qc(e,n):"in"===t?new Gc(e,n):"not-in"===t?new Kc(e,n):"array-contains-any"===t?new Qc(e,n):new Rc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Bc(e,n):new Hc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(pc(t,this.value)):null!==t&&dc(this.value)===dc(t)&&this.matchesComparison(pc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return al()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dc extends Pc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Dc(e,t)}matches(e){return Oc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Oc(e){return"and"===e.op}function Lc(e){return Mc(e)&&Oc(e)}function Mc(e){for(const t of e.filters)if(t instanceof Dc)return!1;return!0}function Fc(e){if(e instanceof Rc)return e.field.canonicalString()+e.op.toString()+vc(e.value);if(Lc(e))return e.filters.map(e=>Fc(e)).join(",");{const t=e.filters.map(e=>Fc(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Vc(e,t){return e instanceof Rc?function(e,t){return t instanceof Rc&&e.op===t.op&&e.field.isEqual(t.field)&&hc(e.value,t.value)}(e,t):e instanceof Dc?function(e,t){return t instanceof Dc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Vc(n,t.filters[r]),!0)}(e,t):void al()}function Uc(e){return e instanceof Rc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(vc(e.value))}(e):e instanceof Dc?function(e){return e.op.toString()+" {"+e.getFilters().map(Uc).join(" ,")+"}"}(e):"Filter"}class zc extends Rc{constructor(e,t,n){super(e,t,n),this.key=Il.fromName(n.referenceValue)}matches(e){const t=Il.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bc extends Rc{constructor(e,t){super(e,"in",t),this.keys=Wc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Hc extends Rc{constructor(e,t){super(e,"not-in",t),this.keys=Wc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Wc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Il.fromName(e.referenceValue))}class qc extends Rc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bc(t)&&fc(t.arrayValue,this.value)}}class Gc extends Rc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fc(this.value.arrayValue,t)}}class Kc extends Rc{constructor(e,t){super(e,"not-in",t)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fc(this.value.arrayValue,t)}}class Qc extends Rc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>fc(this.value.arrayValue,e))}}class Xc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function $c(e){return new Xc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Yc(e){const t=ll(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Fc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Vl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>vc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>vc(e)).join(",")),t.ue=e}return t.ue}function Jc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ac(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Vc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cc(e.startAt,t.startAt)&&Cc(e.endAt,t.endAt)}class Zc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function eu(e,t,n,r,i,s,a,o){return new Zc(e,t,n,r,i,s,a,o)}function tu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function nu(e){return null!==e.collectionGroup}function ru(e){const t=ll(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Yl(jl.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new _c(r,n))}),e.has(jl.keyField().canonicalString())||t.ce.push(new _c(jl.keyField(),n))}return t.ce}function iu(e){const t=ll(e);return t.le||(t.le=su(t,ru(e))),t.le}function su(e,t){if("F"===e.limitType)return $c(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new _c(e.field,t)});const n=e.endAt?new jc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new jc(e.startAt.position,e.startAt.inclusive):null;return $c(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function au(e,t,n){return new Zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ou(e,t){return Jc(iu(e),iu(t))&&e.limitType===t.limitType}function lu(e){return"".concat(Yc(iu(e)),"|lt:").concat(e.limitType)}function cu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Uc(e)).join(", "),"]")),Vl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>vc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>vc(e)).join(",")),"Target(".concat(t,")")}(iu(e)),"; limitType=").concat(e.limitType,")")}function uu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Il.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ru(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ic(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ru(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ic(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ru(e),t))}(e,t)}function du(e){return(t,n)=>{let r=!1;for(const i of ru(e)){const e=hu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function hu(e,t,n){const r=e.field.isKeyField()?Il.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?pc(r,i):al()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return al()}}class fu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Kl(this.inner)}size(){return this.innerSize}}const pu=new Ql(Il.comparator);function mu(){return pu}const gu=new Ql(Il.comparator);function vu(){let e=gu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function yu(e){let t=gu;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function xu(){return wu()}function bu(){return wu()}function wu(){return new fu(e=>e.toString(),(e,t)=>e.isEqual(t))}new Ql(Il.comparator);const Nu=new Yl(Il.comparator);function ku(){let e=Nu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Su=new Yl(bl);function Eu(){return Su}function Tu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(t)?"-0":t}}function ju(e){return{integerValue:""+e}}class Iu{constructor(){this._=void 0}}function Cu(e,t,n){return e instanceof Pu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ac(t)&&(t=oc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ru?Du(e,t):e instanceof Ou?Lu(e,t):function(e,t){const n=Au(e,t),r=Fu(n)+Fu(e.Pe);return xc(n)&&xc(e.Pe)?ju(r):Tu(e.serializer,r)}(e,t)}function _u(e,t,n){return e instanceof Ru?Du(e,t):e instanceof Ou?Lu(e,t):n}function Au(e,t){return e instanceof Mu?function(e){return xc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Pu extends Iu{}class Ru extends Iu{constructor(e){super(),this.elements=e}}function Du(e,t){const n=Vu(t);for(const r of e.elements)n.some(e=>hc(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ou extends Iu{constructor(e){super(),this.elements=e}}function Lu(e,t){let n=Vu(t);for(const r of e.elements)n=n.filter(e=>!hc(e,r));return{arrayValue:{values:n}}}class Mu extends Iu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Fu(e){return ic(e.integerValue||e.doubleValue)}function Vu(e){return bc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Uu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Uu}static exists(e){return new Uu(void 0,e)}static updateTime(e){return new Uu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Bu{}function Hu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ju(e.key,Uu.none()):new Ku(e.key,e.data,Uu.none());{const n=e.data,r=Ec.empty();let i=new Yl(jl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Qu(e.key,r,new Zl(i.toArray()),Uu.none())}}function Wu(e,t,n){e instanceof Ku?function(e,t,n){const r=e.value.clone(),i=$u(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Qu?function(e,t,n){if(!zu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=$u(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qu(e,t,n,r){return e instanceof Ku?function(e,t,n,r){if(!zu(e.precondition,t))return n;const i=e.value.clone(),s=Yu(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Qu?function(e,t,n,r){if(!zu(e.precondition,t))return n;const i=Yu(e.fieldTransforms,r,t),s=t.data;return s.setAll(Xu(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return zu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Gu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&wl(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ru&&t instanceof Ru||e instanceof Ou&&t instanceof Ou?wl(e.elements,t.elements,hc):e instanceof Mu&&t instanceof Mu?hc(e.Pe,t.Pe):e instanceof Pu&&t instanceof Pu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ku extends Bu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qu extends Bu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Xu(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function $u(e,t,n){const r=new Map;ol(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,_u(a,o,n[i]))}return r}function Yu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Cu(e,s,t))}return r}class Ju extends Bu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Wu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=qu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=qu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=bu();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Hu(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(kl.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ku())}isEqual(e){return this.batchId===e.batchId&&wl(this.mutations,e.mutations,(e,t)=>Gu(e,t))&&wl(this.baseMutations,e.baseMutations,(e,t)=>Gu(e,t))}}class ed{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}var td,nd;function rd(e){if(void 0===e)return rl("GRPC error has no .code"),cl.UNKNOWN;switch(e){case td.OK:return cl.OK;case td.CANCELLED:return cl.CANCELLED;case td.UNKNOWN:return cl.UNKNOWN;case td.DEADLINE_EXCEEDED:return cl.DEADLINE_EXCEEDED;case td.RESOURCE_EXHAUSTED:return cl.RESOURCE_EXHAUSTED;case td.INTERNAL:return cl.INTERNAL;case td.UNAVAILABLE:return cl.UNAVAILABLE;case td.UNAUTHENTICATED:return cl.UNAUTHENTICATED;case td.INVALID_ARGUMENT:return cl.INVALID_ARGUMENT;case td.NOT_FOUND:return cl.NOT_FOUND;case td.ALREADY_EXISTS:return cl.ALREADY_EXISTS;case td.PERMISSION_DENIED:return cl.PERMISSION_DENIED;case td.FAILED_PRECONDITION:return cl.FAILED_PRECONDITION;case td.ABORTED:return cl.ABORTED;case td.OUT_OF_RANGE:return cl.OUT_OF_RANGE;case td.UNIMPLEMENTED:return cl.UNIMPLEMENTED;case td.DATA_LOSS:return cl.DATA_LOSS;default:return al()}}(nd=td||(td={}))[nd.OK=0]="OK",nd[nd.CANCELLED=1]="CANCELLED",nd[nd.UNKNOWN=2]="UNKNOWN",nd[nd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nd[nd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nd[nd.NOT_FOUND=5]="NOT_FOUND",nd[nd.ALREADY_EXISTS=6]="ALREADY_EXISTS",nd[nd.PERMISSION_DENIED=7]="PERMISSION_DENIED",nd[nd.UNAUTHENTICATED=16]="UNAUTHENTICATED",nd[nd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nd[nd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nd[nd.ABORTED=10]="ABORTED",nd[nd.OUT_OF_RANGE=11]="OUT_OF_RANGE",nd[nd.UNIMPLEMENTED=12]="UNIMPLEMENTED",nd[nd.INTERNAL=13]="INTERNAL",nd[nd.UNAVAILABLE=14]="UNAVAILABLE",nd[nd.DATA_LOSS=15]="DATA_LOSS";new Fo([4294967295,4294967295],0);Error;class id{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sd(e){return ol(!!e),kl.fromTimestamp(function(e){const t=rc(e);return new Nl(t.seconds,t.nanos)}(e))}function ad(e,t){const n=function(e){return new El(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function od(e){const t=El.fromString(e);return ol(fd(t)),t}function ld(e){const t=od(e);return 4===t.length?El.emptyPath():cd(t)}function cd(e){return ol(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ud(e){let t=ld(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ol(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=dd(e);return t instanceof Dc&&Lc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new _c(hd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Vl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new jc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new jc(n,t)}(n.endAt)),eu(t,i,a,s,o,"F",l,c)}function dd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hd(e.unaryFilter.field);return Rc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=hd(e.unaryFilter.field);return Rc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=hd(e.unaryFilter.field);return Rc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=hd(e.unaryFilter.field);return Rc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return al()}}(e):void 0!==e.fieldFilter?function(e){return Rc.create(hd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return al()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Dc.create(e.compositeFilter.filters.map(e=>dd(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return al()}}(e.compositeFilter.op))}(e):al()}function hd(e){return jl.fromServerFormat(e.fieldPath)}function fd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class pd{constructor(e){this.ct=e}}function md(e){const t=ud({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?au(t,t.limit,"L"):t}class gd{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ic(e.integerValue));else if("doubleValue"in e){const n=ic(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Ul(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=rc(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(sc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Sc(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Nc(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):al()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(ic(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Il.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}gd.vt=new gd;class vd{constructor(){this.un=new yd}addToCollectionParentIndex(e,t){return this.un.add(t),Ol.resolve()}getCollectionParents(e,t){return Ol.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Ol.resolve()}deleteFieldIndex(e,t){return Ol.resolve()}deleteAllFieldIndexes(e){return Ol.resolve()}createTargetIndexes(e,t){return Ol.resolve()}getDocumentsMatchingTarget(e,t){return Ol.resolve(null)}getIndexType(e,t){return Ol.resolve(0)}getFieldIndexes(e,t){return Ol.resolve([])}getNextCollectionGroupToUpdate(e){return Ol.resolve(null)}getMinOffset(e,t){return Ol.resolve(Pl.min())}getMinOffsetFromCollectionGroup(e,t){return Ol.resolve(Pl.min())}updateCollectionGroup(e,t,n){return Ol.resolve()}updateIndexEntries(e,t){return Ol.resolve()}}class yd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Yl(El.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Yl(El.comparator)).toArray()}}new Uint8Array(0);class xd{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new xd(e,xd.DEFAULT_COLLECTION_PERCENTILE,xd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}xd.DEFAULT_COLLECTION_PERCENTILE=10,xd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xd.DEFAULT=new xd(41943040,xd.DEFAULT_COLLECTION_PERCENTILE,xd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xd.DISABLED=new xd(-1,0,0);class bd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bd(0)}static kn(){return new bd(-1)}}class wd{constructor(){this.changes=new fu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ol.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&qu(n.mutation,e,Zl.empty(),Nl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ku()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ku();const r=xu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=vu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=xu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ku()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=mu();const s=wu(),a=wu();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Qu)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),qu(a.mutation,t,a.mutation.getFieldMask(),Nl.now())):s.set(t.key,Zl.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Nd(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=wu();let r=new Ql((e,t)=>e-t),i=ku();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Zl.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||ku()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=bu();l.forEach(e=>{if(!i.has(e)){const r=Hu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ol.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Il.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ol.resolve(xu());let a=-1,o=i;return s.next(t=>Ol.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ol.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,ku())).next(e=>({batchId:a,changes:yu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Il(t)).next(e=>{let t=vu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=vu();return this.indexManager.getCollectionParents(e,i).next(a=>Ol.forEach(a,a=>{const o=function(e,t){return new Zc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Tc.newInvalidDocument(r)))});let n=vu();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&qu(s.mutation,r,Zl.empty(),Nl.now()),uu(t,r)&&(n=n.insert(e,r))}),n})}}class Sd{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Ol.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:sd(e.createTime)}}(t)),Ol.resolve()}getNamedQuery(e,t){return Ol.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:md(e.bundledQuery),readTime:sd(e.readTime)}}(t)),Ol.resolve()}}class Ed{constructor(){this.overlays=new Ql(Il.comparator),this.Ir=new Map}getOverlay(e,t){return Ol.resolve(this.overlays.get(t))}getOverlays(e,t){const n=xu();return Ol.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),Ol.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),Ol.resolve()}getOverlaysForCollection(e,t,n){const r=xu(),i=t.length+1,s=new Il(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ol.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ql((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=xu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=xu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Ol.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ed(t,n));let i=this.Ir.get(t);void 0===i&&(i=ku(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Td{constructor(){this.sessionToken=tc.EMPTY_BYTE_STRING}getSessionToken(e){return Ol.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ol.resolve()}}class jd{constructor(){this.Tr=new Yl(Id.Er),this.dr=new Yl(Id.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Id(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new Id(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new Il(new El([])),n=new Id(t,e),r=new Id(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Il(new El([])),n=new Id(t,e),r=new Id(t,e+1);let i=ku();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Id(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Id{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Il.comparator(e.key,t.key)||bl(e.wr,t.wr)}static Ar(e,t){return bl(e.wr,t.wr)||Il.comparator(e.key,t.key)}}class Cd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Yl(Id.Er)}checkEmpty(e){return Ol.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Zu(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Id(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ol.resolve(s)}lookupMutationBatch(e,t){return Ol.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return Ol.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ol.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Ol.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Id(t,0),r=new Id(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),Ol.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yl(bl);return t.forEach(e=>{const t=new Id(e,0),r=new Id(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),Ol.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Il.isDocumentKey(i)||(i=i.child(""));const s=new Id(new Il(i),0);let a=new Yl(bl);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},s),Ol.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ol(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Ol.forEach(t.mutations,r=>{const i=new Id(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Id(t,0),r=this.br.firstAfterOrEqual(n);return Ol.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ol.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _d{constructor(e){this.Mr=e,this.docs=new Ql(Il.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ol.resolve(n?n.document.mutableCopy():Tc.newInvalidDocument(t))}getEntries(e,t){let n=mu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Tc.newInvalidDocument(e))}),Ol.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=mu();const s=t.path,a=new Il(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Rl(Al(a),n)<=0||(r.has(a.key)||uu(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ol.resolve(i)}getAllFromCollectionGroup(e,t,n,r){al()}Or(e,t){return Ol.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Ad(this)}getSize(e){return Ol.resolve(this.size)}}class Ad extends wd{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),Ol.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Pd{constructor(e){this.persistence=e,this.Nr=new fu(e=>Yc(e),Jc),this.lastRemoteSnapshotVersion=kl.min(),this.highestTargetId=0,this.Lr=0,this.Br=new jd,this.targetCount=0,this.kr=bd.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),Ol.resolve()}getLastRemoteSnapshotVersion(e){return Ol.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ol.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ol.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Ol.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new bd(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Ol.resolve()}updateTargetData(e,t){return this.Kn(t),Ol.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Ol.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Ol.waitFor(i).next(()=>r)}getTargetCount(e){return Ol.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Ol.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Ol.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ol.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Ol.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Ol.resolve(n)}containsKey(e,t){return Ol.resolve(this.Br.containsKey(t))}}class Rd{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Fl(0),this.Kr=!1,this.Kr=!0,this.$r=new Td,this.referenceDelegate=e(this),this.Ur=new Pd(this),this.indexManager=new vd,this.remoteDocumentCache=function(e){return new _d(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new pd(t),this.Gr=new Sd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ed,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Cd(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){nl("MemoryPersistence","Starting transaction:",e);const r=new Dd(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return Ol.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Dd extends Dl{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.Jr=new jd,this.Yr=null}static Zr(e){return new Od(e)}get Xr(){if(this.Yr)return this.Yr;throw al()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Ol.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Ol.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Ol.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ol.forEach(this.Xr,n=>{const r=Il.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,kl.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Ol.or([()=>Ol.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Ld{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=ku(),r=ku();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ld(e,t.fromCache,n,r)}}class Md{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Fd{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Ve()?8:Ll(Me())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Md;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(tl()<=st.DEBUG&&nl("QueryEngine","SDK will not create cache indexes for query:",cu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ol.resolve()):(tl()<=st.DEBUG&&nl("QueryEngine","Query:",cu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(tl()<=st.DEBUG&&nl("QueryEngine","The SDK decides to create cache indexes for query:",cu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,iu(t))):Ol.resolve())}Yi(e,t){if(tu(t))return Ol.resolve(null);let n=iu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=au(t,null,"F"),n=iu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=ku(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,au(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return tu(t)||r.isEqual(kl.min())?Ol.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?Ol.resolve(null):(tl()<=st.DEBUG&&nl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cu(t)),this.rs(e,s,t,_l(r,-1)).next(e=>e))})}ts(e,t){let n=new Yl(du(e));return t.forEach((t,r)=>{uu(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return tl()<=st.DEBUG&&nl("QueryEngine","Using full collection scan to execute query:",cu(t)),this.Ji.getDocumentsMatchingQuery(e,t,Pl.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Vd{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Ql(bl),this._s=new fu(e=>Yc(e),Jc),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Ud(e,t,n,r){return new Vd(e,t,n,r)}async function zd(e,t){const n=ll(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=ku();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:s}))})})}class Bd{constructor(){this.activeTargetIds=Eu()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hd{constructor(){this.so=new Bd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Bd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wd{_o(e){}shutdown(){}}class qd{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){nl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){nl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gd=null;function Kd(){return null===Gd?Gd=268435456+Math.round(2147483648*Math.random()):Gd++,"0x"+Gd.toString(16)}const Qd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xd{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const $d="WebChannelConnection";class Yd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const s=Kd(),a=this.xo(e,t.toUriEncodedString());nl("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then(t=>(nl("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw il("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=Qd[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Kd();return new Promise((s,a)=>{const o=new zo;o.setWithCredentials(!0),o.listenOnce(Ho.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Wo.NO_ERROR:const t=o.getResponseJson();nl($d,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Wo.TIMEOUT:nl($d,"RPC '".concat(e,"' ").concat(i," timed out")),a(new ul(cl.DEADLINE_EXCEEDED,"Request time out"));break;case Wo.HTTP_ERROR:const n=o.getStatus();if(nl($d,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(cl).indexOf(t)>=0?t:cl.UNKNOWN}(t.status);a(new ul(e,t.message))}else a(new ul(cl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ul(cl.UNAVAILABLE,"Connection failed."));break;default:al()}}finally{nl($d,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);nl($d,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=Kd(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Qo(),a=Ko(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");nl($d,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new Xd({Io:t=>{h?nl($d,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(nl($d,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),nl($d,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Bo.EventType.OPEN,()=>{h||(nl($d,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),p(u,Bo.EventType.CLOSE,()=>{h||(h=!0,nl($d,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),p(u,Bo.EventType.ERROR,t=>{h||(h=!0,il($d,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new ul(cl.UNAVAILABLE,"The operation could not be completed")))}),p(u,Bo.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];ol(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){nl($d,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=td[e];if(void 0!==t)return rd(t)}(t),i=a.message;void 0===n&&(n=cl.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new ul(n,i)),u.close()}else nl($d,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}}),p(a,Go.STAT_EVENT,t=>{t.stat===qo.PROXY?nl($d,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===qo.NOPROXY&&nl($d,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function Jd(){return"undefined"!=typeof document?document:null}function Zd(e){return new id(e,!0)}class eh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&nl("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class th extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ul(cl.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Mo(e,ad(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===cl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ul(cl.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Lo(e,ad(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===cl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ul(cl.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class nh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(rl(t),this.D_=!1):nl("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class rh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{ah(this)&&(nl("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ll(e);t.L_.add(4),await sh(t),t.q_.set("Unknown"),t.L_.delete(4),await ih(t)}(this))})}),this.q_=new nh(n,r)}}async function ih(e){if(ah(e))for(const t of e.B_)await t(!0)}async function sh(e){for(const t of e.B_)await t(!1)}function ah(e){return 0===ll(e).L_.size}async function oh(e,t){const n=ll(e);t?(n.L_.delete(2),await ih(n)):t||(n.L_.add(2),await sh(n),n.q_.set("Unknown"))}class lh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new lh(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ul(cl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class ch{constructor(){this.queries=uh(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=ll(e),r=n.queries;n.queries=uh(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new ul(cl.ABORTED,"Firestore shutting down"))}}function uh(){return new fu(e=>lu(e),ou)}function dh(e){e.Y_.forEach(e=>{e.next()})}var hh,fh;(fh=hh||(hh={})).ea="default",fh.Cache="cache";class ph{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new fu(e=>lu(e),ou),this.Ma=new Map,this.xa=new Set,this.Oa=new Ql(Il.comparator),this.Na=new Map,this.La=new jd,this.Ba={},this.ka=new Map,this.qa=bd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function mh(e,t,n){const r=ll(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ll(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&dh(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gh(e,t,n){const r=ll(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{a.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ld.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=ll(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ol.forEach(t,t=>Ol.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ol.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ml(e))throw e;nl("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function vh(e,t){const n=ll(e);if(!n.currentUser.isEqual(t)){nl("SyncEngine","User change. New user:",t.toKey());const e=await zd(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new ul(cl.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await gh(n,e.hs)}}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Ud(this.persistence,new Fd,e.initialUser,this.serializer)}Ga(e){return new Rd(Od.Zr,this.serializer)}Wa(e){return new Hd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class xh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>mh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=vh.bind(null,this.syncEngine),await oh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ch}createDatastore(e){const t=Zd(e.databaseInfo.databaseId),n=function(e){return new Yd(e)}(e.databaseInfo);return function(e,t,n,r){return new th(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new rh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>mh(this.syncEngine,e,0),qd.D()?new qd:new Wd)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new ph(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ll(e);nl("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await sh(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}xh.provider={build:()=>new xh};function bh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const wh=new Map;function Nh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":al()}function kh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ul(cl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nh(e);throw new ul(cl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Sh{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ul(cl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ul(cl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ul(cl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bh(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ul(cl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ul(cl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ul(cl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ul(cl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ul(cl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sh(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new fl;switch(e.type){case"firstParty":return new vl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ul(cl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wh.get(e);t&&(nl("ComponentProvider","Removing Datastore"),wh.delete(e),t.terminate())}(this),Promise.resolve()}}class Th{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new eh(this,"async_queue_retry"),this.Vu=()=>{const e=Jd();e&&nl("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Jd();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Jd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new dl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(hw){if(!Ml(hw))throw hw;nl("AsyncQueue","Operation failed with retryable error: "+hw)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw rl("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=lh.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&al()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class jh extends Eh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Th,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Th(e),this._firestoreClient=void 0,await e}}}new RegExp("[~\\*/\\[\\]]");new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Zo=e}(wn),gn(new et("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new jh(new ml(e.getProvider("auth-internal")),new xl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ul(cl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Sn(Yo,"4.7.3",e),Sn(Yo,"4.7.3","esm2017")}();const Ih=Nn({apiKey:"AIzaSyBUKNovWoSS2-NYd3nayET6QB_o42_gnSc",authDomain:"opthalmoai.firebaseapp.com",projectId:"opthalmoai",storageBucket:"opthalmoai.firebasestorage.app",messagingSenderId:"994507293975",appId:"1:994507293975:web:0a2d5e258a0e4e0d14e352",measurementId:"G-J7W6YCDHGL"}),Ch=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn();e=Ze(e);const t=vn(e,Ra);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=vn(e,Ra);if(n.isInitialized()){const e=n.getImmediate();if(qe(t,n.getOptions()))return e;throw La.create("already-initialized")}const r=n.initialize({options:t})}(e)}(Ih),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn(),t=arguments.length>1?arguments[1]:void 0;e=Ze(e);const n=vn(e,Lo).getImmediate({identifier:t}),r=Pe("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Le(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(Ih),function(e,t){const n="string"==typeof e?e:t||"(default)",r=vn("object"==typeof e?e:kn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Pe("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=kh(e,Eh))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Jo.MOCK_USER;else{t=Le(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ul(cl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Jo(s)}e._authCredentials=new pl(new hl(t,n))}}(r,...e)}}(Ih),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn();const t=vn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=vn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(qe(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;zn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ms,persistence:[Xi,Pi,Di]}),r=De("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>zs)return;const r=null===t||void 0===t?void 0:t.token;Bs!==r&&(Bs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Ze(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Ze(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=Ae("auth");return s&&ri(n,"http://".concat(s)),n}(Ih));var _h=n(414);const Ah=(0,i.createContext)(void 0),Ph=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0);(0,i.useEffect)(()=>{const e=function(e,t,n,r){return Ze(e).onAuthStateChanged(t,n,r)}(Ch,e=>{r(e),a(!1)});return e},[]);const o={user:n,loading:s,signOut:async()=>{await Ch.signOut()}};return(0,_h.jsx)(Ah.Provider,{value:o,children:t})},Rh=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Dh=(0,i.createContext)({}),Oh=(0,i.createContext)(null),Lh="undefined"!==typeof document,Mh=Lh?i.useLayoutEffect:i.useEffect,Fh=(0,i.createContext)({strict:!1}),Vh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Uh="data-"+Vh("framerAppearId");function zh(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Bh(e){return"string"===typeof e||Array.isArray(e)}function Hh(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Wh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qh=["initial",...Wh];function Gh(e){return Hh(e.animate)||qh.some(t=>Bh(e[t]))}function Kh(e){return Boolean(Gh(e)||e.variants)}function Qh(e){const{initial:t,animate:n}=function(e,t){if(Gh(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Bh(t)?t:void 0,animate:Bh(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(Dh));return(0,i.useMemo)(()=>({initial:t,animate:n}),[Xh(t),Xh(n)])}function Xh(e){return Array.isArray(e)?e.join(" "):e}const $h={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yh={};for(const pw in $h)Yh[pw]={isEnabled:e=>$h[pw].some(t=>!!e[t])};const Jh=(0,i.createContext)({}),Zh=(0,i.createContext)({}),ef=Symbol.for("motionComponentSymbol");function tf(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:a}=e;t&&function(e){for(const t in e)Yh[t]=mt(mt({},Yh[t]),e[t])}(t);const o=(0,i.forwardRef)(function(e,o){let l;const c=mt(mt(mt({},(0,i.useContext)(Rh)),e),{},{layoutId:nf(e)}),{isStatic:u}=c,d=Qh(e),h=s(e,u);if(!u&&Lh){d.visualElement=function(e,t,n,r){const{visualElement:s}=(0,i.useContext)(Dh),a=(0,i.useContext)(Fh),o=(0,i.useContext)(Oh),l=(0,i.useContext)(Rh).reducedMotion,c=(0,i.useRef)();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current;(0,i.useInsertionEffect)(()=>{u&&u.update(n,o)});const d=(0,i.useRef)(Boolean(n[Uh]&&!window.HandoffComplete));return Mh(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),(0,i.useEffect)(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}(a,h,c,n);const e=(0,i.useContext)(Zh),r=(0,i.useContext)(Fh).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,r,t,e))}return i.createElement(Dh.Provider,{value:d},l&&d.visualElement?i.createElement(l,mt({visualElement:d.visualElement},c)):null,r(a,e,function(e,t,n){return(0,i.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):zh(n)&&(n.current=r))},[t])}(h,d.visualElement,o),h,u,d.visualElement))});return o[ef]=a,o}function nf(e){let{layoutId:t}=e;const n=(0,i.useContext)(Jh).id;return n&&void 0!==t?n+"-"+t:t}function rf(e){function t(t){return tf(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const sf=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function af(e){return"string"===typeof e&&!e.includes("-")&&!!(sf.indexOf(e)>-1||/[A-Z]/.test(e))}const of={};const lf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cf=new Set(lf);function uf(e,t){let{layout:n,layoutId:r}=t;return cf.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!of[e]||"opacity"===e)}const df=e=>Boolean(e&&e.getVelocity),hf={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ff=lf.length;const pf=e=>t=>"string"===typeof t&&t.startsWith(e),mf=pf("--"),gf=pf("var(--"),vf=(e,t)=>t&&"number"===typeof e?t.transform(e):e,yf=(e,t,n)=>Math.min(Math.max(n,e),t),xf={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},bf=mt(mt({},xf),{},{transform:e=>yf(0,1,e)}),wf=mt(mt({},xf),{},{default:1}),Nf=e=>Math.round(1e5*e)/1e5,kf=/(-)?([\d]*\.?[\d])+/g,Sf=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ef=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Tf(e){return"string"===typeof e}const jf=e=>({test:t=>Tf(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),If=jf("deg"),Cf=jf("%"),_f=jf("px"),Af=jf("vh"),Pf=jf("vw"),Rf=mt(mt({},Cf),{},{parse:e=>Cf.parse(e)/100,transform:e=>Cf.transform(100*e)}),Df=mt(mt({},xf),{},{transform:Math.round}),Of={borderWidth:_f,borderTopWidth:_f,borderRightWidth:_f,borderBottomWidth:_f,borderLeftWidth:_f,borderRadius:_f,radius:_f,borderTopLeftRadius:_f,borderTopRightRadius:_f,borderBottomRightRadius:_f,borderBottomLeftRadius:_f,width:_f,maxWidth:_f,height:_f,maxHeight:_f,size:_f,top:_f,right:_f,bottom:_f,left:_f,padding:_f,paddingTop:_f,paddingRight:_f,paddingBottom:_f,paddingLeft:_f,margin:_f,marginTop:_f,marginRight:_f,marginBottom:_f,marginLeft:_f,rotate:If,rotateX:If,rotateY:If,rotateZ:If,scale:wf,scaleX:wf,scaleY:wf,scaleZ:wf,skew:If,skewX:If,skewY:If,distance:_f,translateX:_f,translateY:_f,translateZ:_f,x:_f,y:_f,z:_f,perspective:_f,transformPerspective:_f,opacity:bf,originX:Rf,originY:Rf,originZ:_f,zIndex:Df,fillOpacity:bf,strokeOpacity:bf,numOctaves:Df};function Lf(e,t,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(mf(d)){s[d]=e;continue}const n=Of[d],r=vf(e,n);if(cf.has(d)){if(l=!0,a[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,o[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,a="";for(let o=0;o<ff;o++){const t=lf[o];void 0!==e[t]&&(a+="".concat(hf[t]||t,"(").concat(e[t],") "))}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):s&&n&&(a="none"),a}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const Mf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ff(e,t,n){for(const r in t)df(t[r])||uf(r,n)||(e[r]=t[r])}function Vf(e,t,n){const r={};return Ff(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Lf(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function Uf(e,t,n){const r={},i=Vf(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const zf=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bf(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zf.has(e)}let Hf=e=>!Bf(e);try{(Wf=require("@emotion/is-prop-valid").default)&&(Hf=e=>e.startsWith("on")?!Bf(e):Wf(e))}catch(fw){}var Wf;function qf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gf(e,t,n){return"string"===typeof e?e:_f.transform(t+n*e)}const Kf={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qf={offset:"strokeDashoffset",array:"strokeDasharray"};const Xf=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function $f(e,t,n,r,i){let{attrX:s,attrY:a,attrScale:o,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0}=t;if(Lf(e,qf(t,Xf),n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,n){const r=Gf(t,e.x,e.width),i=Gf(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(f.x=s),void 0!==a&&(f.y=a),void 0!==o&&(f.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?Kf:Qf;e[s.offset]=_f.transform(-r);const a=_f.transform(t),o=_f.transform(n);e[s.array]="".concat(a," ").concat(o)}(f,u,d,h,!1)}const Yf=()=>mt(mt({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Jf=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Zf(e,t,n,r){const s=(0,i.useMemo)(()=>{const n=Yf();return $f(n,t,{enableHardwareAcceleration:!1},Jf(r),e.transformTemplate),mt(mt({},n.attrs),{},{style:mt({},n.style)})},[t]);if(e.style){const t={};Ff(t,e.style,e),s.style=mt(mt({},t),s.style)}return s}function ep(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,a)=>{let{latestValues:o}=s;const l=(af(t)?Zf:Uf)(n,o,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Hf(i)||!0===n&&Bf(i)||!t&&!Bf(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=mt(mt(mt({},c),l),{},{ref:r}),{children:d}=n,h=(0,i.useMemo)(()=>df(d)?d.get():d,[d]);return(0,i.createElement)(t,mt(mt({},u),{},{children:h}))}}function tp(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const np=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rp(e,t,n,r){tp(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(np.has(i)?i:Vh(i),t.attrs[i])}function ip(e,t){const{style:n}=e,r={};for(const i in n)(df(n[i])||t.style&&df(t.style[i])||uf(i,e))&&(r[i]=n[i]);return r}function sp(e,t){const n=ip(e,t);for(const r in e)if(df(e[r])||df(t[r])){n[-1!==lf.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function ap(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}const op=e=>Array.isArray(e),lp=e=>op(e)?e[e.length-1]||0:e;function cp(e){const t=df(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const up=["transitionEnd","transition"];const dp=e=>(t,n)=>{const r=(0,i.useContext)(Dh),s=(0,i.useContext)(Oh),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:a}=e;const o={latestValues:hp(t,n,r,i),renderState:s()};return a&&(o.mount=e=>a(t,e,o)),o}(e,t,r,s);return n?a():function(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}(a)};function hp(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=cp(s[h]);let{initial:a,animate:o}=e;const l=Gh(e),c=Kh(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!==typeof d&&!Hh(d)){(Array.isArray(d)?d:[d]).forEach(t=>{const n=ap(e,t);if(!n)return;const{transitionEnd:r,transition:s}=n,a=qf(n,up);for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]})}return i}const fp=e=>e;class pp{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const mp=["prepare","read","update","preRender","render","postRender"];const{schedule:gp,cancel:vp,state:yp,steps:xp}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=mp.reduce((e,t)=>(e[t]=function(e){let t=new pp,n=new pp,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,o=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),o.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(o.schedule(r),e())}i=!1,s&&(s=!1,o.process(l))}}};return o}(()=>n=!0),e),{}),a=e=>s[e].process(i),o=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,mp.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=mp.reduce((t,a)=>{const l=s[a];return t[a]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(o)),l.schedule(t,s,a)},t},{});return{schedule:l,cancel:e=>mp.forEach(t=>s[t].cancel(e)),state:i,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:fp,!0),bp={useVisualState:dp({scrapeMotionValuesFromProps:sp,createRenderState:Yf,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;gp.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(hw){r.dimensions={x:0,y:0,width:0,height:0}}}),gp.render(()=>{$f(r,i,{enableHardwareAcceleration:!1},Jf(t.tagName),e.transformTemplate),rp(t,r)})}})},wp={useVisualState:dp({scrapeMotionValuesFromProps:ip,createRenderState:Mf})};function Np(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const kp=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Sp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function Ep(e,t,n,r){return Np(e,t,(e=>t=>kp(t)&&e(t,Sp(t)))(n),r)}const Tp=(e,t)=>n=>t(e(n)),jp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Tp)};function Ip(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Cp=Ip("dragHorizontal"),_p=Ip("dragVertical");function Ap(e){let t=!1;if("y"===e)t=_p();else if("x"===e)t=Cp();else{const e=Cp(),n=_p();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Pp(){const e=Ap(!0);return!e||(e(),!1)}class Rp{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Dp(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Ep(e.current,n,(n,i)=>{if("touch"===n.pointerType||Pp())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&gp.update(()=>s[r](n,i))},{passive:!e.getProps()[r]})}const Op=(e,t)=>!!t&&(e===t||Op(e,t.parentElement));function Lp(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Sp(n))}const Mp=["root"],Fp=new WeakMap,Vp=new WeakMap,Up=e=>{const t=Fp.get(e.target);t&&t(e)},zp=e=>{e.forEach(Up)};function Bp(e,t,n){const r=function(e){let{root:t}=e,n=qf(e,Mp);const r=t||document;Vp.has(r)||Vp.set(r,{});const i=Vp.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(zp,mt({root:t},n))),i[s]}(t);return Fp.set(e,n),r.observe(e),()=>{Fp.delete(e),r.unobserve(e)}}const Hp={some:0,all:1};const Wp={inView:{Feature:class extends Rp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Hp[r]};return Bp(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Rp{constructor(){super(...arguments),this.removeStartListeners=fp,this.removeEndListeners=fp,this.removeAccessibleListeners=fp,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Ep(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();gp.update(()=>{i||Op(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),i=Ep(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=jp(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Np(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Np(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&Lp("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&gp.update(()=>n(e,t))})}),Lp("down",(e,t)=>{this.startPress(e,t)})}),t=Np(this.node.current,"blur",()=>{this.isPressing&&Lp("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=jp(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&gp.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Pp()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&gp.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=Ep(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Np(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jp(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Rp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(hw){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jp(Np(this.node.current,"focus",()=>this.onFocus()),Np(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Rp{mount(){this.unmount=jp(Dp(this.node,!0),Dp(this.node,!1))}unmount(){}}}};function qp(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Gp(e,t,n){const r=e.getProps();return ap(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}let Kp=fp,Qp=fp;const Xp=e=>1e3*e,$p=e=>e/1e3,Yp=!1,Jp=e=>Array.isArray(e)&&"number"===typeof e[0];function Zp(e){return Boolean(!e||"string"===typeof e&&tm[e]||Jp(e)||Array.isArray(e)&&e.every(Zp))}const em=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},tm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:em([0,.65,.55,1]),circOut:em([.55,0,1,.45]),backIn:em([.31,.01,.66,-.59]),backOut:em([.33,1.53,.69,.99])};function nm(e){if(e)return Jp(e)?em(e):Array.isArray(e)?e.map(nm):tm[e]}const rm=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function im(e,t,n,r){if(e===t&&n===r)return fp;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=rm(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:rm(i(e),t,r)}const sm=im(.42,0,1,1),am=im(0,0,.58,1),om=im(.42,0,.58,1),lm=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cm=e=>t=>1-e(1-t),um=e=>1-Math.sin(Math.acos(e)),dm=cm(um),hm=lm(um),fm=im(.33,1.53,.69,.99),pm=cm(fm),mm=lm(pm),gm={linear:fp,easeIn:sm,easeInOut:om,easeOut:am,circIn:um,circInOut:hm,circOut:dm,backIn:pm,backInOut:mm,backOut:fm,anticipate:e=>(e*=2)<1?.5*pm(e):.5*(2-Math.pow(2,-10*(e-1)))},vm=e=>{if(Array.isArray(e)){Qp(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return im(t,n,r,i)}return"string"===typeof e?(Qp(void 0!==gm[e],"Invalid easing type '".concat(e,"'")),gm[e]):e},ym=(e,t)=>n=>Boolean(Tf(n)&&Ef.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),xm=(e,t,n)=>r=>{if(!Tf(r))return r;const[i,s,a,o]=r.match(kf);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},bm=mt(mt({},xf),{},{transform:e=>Math.round((e=>yf(0,255,e))(e))}),wm={test:ym("rgb","red"),parse:xm("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+bm.transform(t)+", "+bm.transform(n)+", "+bm.transform(r)+", "+Nf(bf.transform(i))+")"}};const Nm={test:ym("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:wm.transform},km={test:ym("hsl","hue"),parse:xm("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Cf.transform(Nf(n))+", "+Cf.transform(Nf(r))+", "+Nf(bf.transform(i))+")"}},Sm={test:e=>wm.test(e)||Nm.test(e)||km.test(e),parse:e=>wm.test(e)?wm.parse(e):km.test(e)?km.parse(e):Nm.parse(e),transform:e=>Tf(e)?e:e.hasOwnProperty("red")?wm.transform(e):km.transform(e)},Em=(e,t,n)=>-n*e+n*t+e;function Tm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const jm=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Im=[Nm,wm,km];function Cm(e){const t=(e=>Im.find(t=>t.test(e)))(e);Qp(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===km&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=Tm(i,e,t+1/3),a=Tm(i,e,t),o=Tm(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(n)),n}const _m=(e,t)=>{const n=Cm(e),r=Cm(t),i=mt({},n);return e=>(i.red=jm(n.red,r.red,e),i.green=jm(n.green,r.green,e),i.blue=jm(n.blue,r.blue,e),i.alpha=Em(n.alpha,r.alpha,e),wm.transform(i))};const Am={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:fp},Pm={regex:Sf,countKey:"Colors",token:"${c}",parse:Sm.parse},Rm={regex:kf,countKey:"Numbers",token:"${n}",parse:xf.parse};function Dm(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(s)))}function Om(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Dm(n,Am),Dm(n,Pm),Dm(n,Rm),n}function Lm(e){return Om(e).values}function Mm(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Om(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(Am.token,e[i]):i<r+n?t.replace(Pm.token,Sm.transform(e[i])):t.replace(Rm.token,Nf(e[i]));return t}}const Fm=e=>"number"===typeof e?0:e;const Vm={test:function(e){var t,n;return isNaN(e)&&Tf(e)&&((null===(t=e.match(kf))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Sf))||void 0===n?void 0:n.length)||0)>0},parse:Lm,createTransformer:Mm,getAnimatableNone:function(e){const t=Lm(e);return Mm(e)(t.map(Fm))}},Um=(e,t)=>n=>"".concat(n>0?t:e);function zm(e,t){return"number"===typeof e?n=>Em(e,t,n):Sm.test(e)?_m(e,t):e.startsWith("var(")?Um(e,t):Wm(e,t)}const Bm=(e,t)=>{const n=[...e],r=n.length,i=e.map((e,n)=>zm(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},Hm=(e,t)=>{const n=mt(mt({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=zm(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},Wm=(e,t)=>{const n=Vm.createTransformer(t),r=Om(e),i=Om(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?jp(Bm(r.values,i.values),n):(Kp(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Um(e,t))},qm=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Gm=(e,t)=>n=>Em(e,t,n);function Km(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?Gm:"string"===typeof e?Sm.test(e)?_m:Wm:Array.isArray(e)?Bm:"object"===typeof e?Hm:Gm}(e[0]),s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||fp:t;n=jp(e,n)}r.push(n)}return r}function Qm(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(Qp(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Km(t,r,i),o=a.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=qm(e[n],e[n+1],t);return a[n](r)};return n?t=>l(yf(e[0],e[s-1],t)):l}function Xm(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=qm(0,t,r);e.push(Em(n,1,i))}}(t,e.length-1),t}function $m(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(vm):vm(i),a={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:Xm(n),t),l=Qm(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||om).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function Ym(e,t){return t?e*(1e3/t):0}function Jm(e,t,n){const r=Math.max(t-5,0);return Ym(n-e(r),t-r)}const Zm=.001;function eg(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:a=1}=e;Kp(r<=Xp(10),"Spring duration must be 10 seconds or less");let o=1-i;o=yf(.05,1,o),r=yf(.01,10,$p(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=ng(e,o),l=Math.exp(-n);return Zm-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=ng(Math.pow(e,2),o);return(-t(e)+Zm>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<tg;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Xp(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const tg=12;function ng(e,t){return e*Math.sqrt(1-t*t)}const rg=["keyframes","restDelta","restSpeed"],ig=["duration","bounce"],sg=["stiffness","damping","mass"];function ag(e,t){return t.some(t=>void 0!==e[t])}function og(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,i=qf(e,rg);const s=t[0],a=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=mt({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!ag(e,sg)&&ag(e,ig)){const n=eg(e);t=mt(mt(mt({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(mt(mt({},i),{},{velocity:-$p(i.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-s,v=$p(Math.sqrt(l/u)),y=Math.abs(g)<5;let x;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=ng(v,m);x=t=>{const n=Math.exp(-m*v*t);return a-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)x=e=>a-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);x=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return a-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=x(e);if(f)o.done=e>=d;else{let i=p;0!==e&&(i=m<1?Jm(x,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(a-t)<=n;o.done=s&&l}return o.value=o.done?a:t,o}}}function lg(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===o?g:o(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/i),x=e=>v+y(e),b=e=>{const t=y(e),n=x(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let w,N;const k=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(w=e,N=og({keyframes:[f.value,p(f.value)],velocity:Jm(x,e,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return N||void 0!==w||(t=!0,b(e),k(e)),void 0!==w&&e>w?N.next(e-w):(!t&&b(e),f)}}}const cg=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>gp.update(t,!0),stop:()=>vp(t),now:()=>yp.isProcessing?yp.timestamp:performance.now()}};function ug(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const dg=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],hg={decay:lg,inertia:lg,tween:$m,keyframes:$m,spring:og};function fg(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=cg,keyframes:a,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:f,onUpdate:p}=e,m=qf(e,dg),g=1,v=!1;const y=()=>{n=new Promise(e=>{t=e})};let x;y();const b=hg[o]||$m;let w;b!==$m&&"number"!==typeof a[0]&&(w=Qm([0,100],a,{clamp:!1}),a=[0,100]);const N=b(mt(mt({},m),{},{keyframes:a}));let k;"mirror"===u&&(k=b(mt(mt({},m),{},{keyframes:[...a].reverse(),velocity:-(m.velocity||0)})));let S="idle",E=null,T=null,j=null;null===N.calculatedDuration&&l&&(N.calculatedDuration=ug(N));const{calculatedDuration:I}=N;let C=1/0,_=1/0;null!==I&&(C=I+c,_=C*(l+1)-c);let A=0;const P=e=>{if(null===T)return;g>0&&(T=Math.min(T,e)),g<0&&(T=Math.min(e-_/g,T)),A=null!==E?E:Math.round(e-T)*g;const t=A-i*(g>=0?1:-1),n=g>=0?t<0:t>_;A=Math.max(t,0),"finished"===S&&null===E&&(A=_);let r=A,s=N;if(l){const e=Math.min(A,_)/C;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/C)):"mirror"===u&&(s=k)),r=yf(0,1,n)*C}const o=n?{done:!1,value:a[0]}:s.next(r);w&&(o.value=w(o.value));let{done:d}=o;n||null===I||(d=g>=0?A>=_:A<=0);const h=null===E&&("finished"===S||"running"===S&&d);return p&&p(o.value),h&&O(),o},R=()=>{x&&x.stop(),x=void 0},D=()=>{S="idle",R(),t(),y(),T=j=null},O=()=>{S="finished",f&&f(),R(),t()},L=()=>{if(v)return;x||(x=s(P));const e=x.now();d&&d(),null!==E?T=e-E:T&&"finished"!==S||(T=e),"finished"===S&&y(),j=T,E=null,S="running",x.start()};r&&L();const M={then:(e,t)=>n.then(e,t),get time(){return $p(A)},set time(e){e=Xp(e),A=e,null===E&&x&&0!==g?T=x.now()-e/g:E=e},get duration(){const e=null===N.calculatedDuration?ug(N):N.calculatedDuration;return $p(e)},get speed(){return g},set speed(e){e!==g&&x&&(g=e,M.time=$p(A))},get state(){return S},play:L,pause:()=>{S="paused",E=A},stop:()=>{v=!0,"idle"!==S&&(S="idle",h&&h(),D())},cancel:()=>{null!==j&&P(j),D()},complete:()=>{S="finished"},sample:e=>(T=0,P(e))};return M}const pg=["onUpdate","onComplete"],mg=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gg=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function vg(e,t,n){let{onUpdate:r,onComplete:i}=n,s=qf(n,pg);if(!(mg()&&gg.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let a,o,l=!1,c=!1;const u=()=>{o=new Promise(e=>{a=e})};u();let{keyframes:d,duration:h=300,ease:f,times:p}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!Zp(t.ease))(t,s)){const e=fg(mt(mt({},s),{},{repeat:0,delay:0}));let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,d=n,h=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=nm(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,d,mt(mt({},s),{},{duration:h,ease:f,times:p})),g=()=>{c=!1,m.cancel()},v=()=>{c=!0,gp.update(g),a(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,s)),i&&i(),v())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,fp),get time(){return $p(m.currentTime||0)},set time(e){m.currentTime=Xp(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return $p(h)},play:()=>{l||(m.play(),vp(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=fg(mt(mt({},s),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}v()},complete:()=>{c||m.finish()},cancel:v}}const yg={type:"spring",stiffness:500,damping:25,restSpeed:10},xg={type:"keyframes",duration:.8},bg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wg=(e,t)=>{let{keyframes:n}=t;return n.length>2?xg:cf.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:yg:bg},Ng=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Vm.test(t)&&"0"!==t||t.startsWith("url("))),kg=new Set(["brightness","contrast","saturate","opacity"]);function Sg(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(kf)||[];if(!r)return e;const i=n.replace(r,"");let s=kg.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Eg=/([a-z-]*)\(.*?\)/g,Tg=mt(mt({},Vm),{},{getAnimatableNone:e=>{const t=e.match(Eg);return t?t.map(Sg).join(" "):e}}),jg=mt(mt({},Of),{},{color:Sm,backgroundColor:Sm,outlineColor:Sm,fill:Sm,stroke:Sm,borderColor:Sm,borderTopColor:Sm,borderRightColor:Sm,borderBottomColor:Sm,borderLeftColor:Sm,filter:Tg,WebkitFilter:Tg}),Ig=e=>jg[e];function Cg(e,t){let n=Ig(e);return n!==Tg&&(n=Vm),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _g=e=>/^0[^.\s]+$/.test(e);function Ag(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||_g(e):void 0}const Pg=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Rg(e,t){return e[t]||e.default||e}const Dg=!1,Og=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=Rg(r,e)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o-=Xp(a);const l=function(e,t,n,r){const i=Ng(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let o;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?a:s[c-1]),Ag(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++)s[l[c]]=Cg(t,o);return s}(t,e,n,s),c=l[0],u=l[l.length-1],d=Ng(e,c),h=Ng(e,u);Kp(d===h,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f=mt(mt({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},s),{},{delay:-o,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u}=e,d=qf(e,Pg);return!!Object.keys(d).length}(s)||(f=mt(mt({},f),wg(e,f))),f.duration&&(f.duration=Xp(f.duration)),f.repeatDelay&&(f.repeatDelay=Xp(f.repeatDelay)),!d||!h||Yp||!1===s.type||Dg)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:fp,pause:fp,stop:fp,then:e=>(e(),Promise.resolve()),cancel:fp,complete:fp});return n?fg({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(Yp?mt(mt({},f),{},{delay:0}):f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=vg(t,e,f);if(n)return n}return fg(f)}};function Lg(e){return Boolean(df(e)&&e.add)}const Mg=e=>/^\-?\d*\.?\d+$/.test(e);function Fg(e,t){-1===e.indexOf(t)&&e.push(t)}function Vg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ug{constructor(){this.subscriptions=[]}add(e){return Fg(this.subscriptions,e),()=>Vg(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zg={current:void 0};class Bg{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=yp;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,gp.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>gp.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ug);const n=this.events[e].add(t);return"change"===e?()=>{n(),gp.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return zg.current&&zg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ym(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hg(e,t){return new Bg(e,t)}const Wg=e=>t=>t.test(e),qg=[xf,_f,Cf,If,Pf,Af,{test:e=>"auto"===e,parse:e=>e}],Gg=e=>qg.find(Wg(e)),Kg=[...qg,Sm,Vm],Qg=e=>Kg.find(Wg(e)),Xg=["transitionEnd","transition"];function $g(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Hg(n))}function Yg(e,t){const n=Gp(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:i={},transition:s={}}=r,a=qf(r,Xg);a=mt(mt({},a),i);for(const o in a){$g(e,o,lp(a[o]))}}function Jg(e,t){if(!t)return;return(t[e]||t.default||t).from}const Zg=["transition","transitionEnd"];function ev(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function tv(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function nv(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e.makeTargetAnimatable(t),{transition:a=e.getDefaultTransition(),transitionEnd:o}=s,l=qf(s,Zg);const c=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const t=e.getValue(h),r=l[h];if(!t||void 0===r||d&&ev(d,h))continue;const i=mt({delay:n,elapsed:0},Rg(a||{},h));if(window.HandoffAppearAnimations){const n=e.getProps()[Uh];if(n){const e=window.HandoffAppearAnimations(n,h,t,gp);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let s=!i.isHandoff&&!tv(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(s=!1),t.animation&&(s=!1),s)continue;t.start(Og(h,t,r,e.shouldReduceMotion&&cf.has(h)?{type:!1}:i));const o=t.animation;Lg(c)&&(c.add(h),o.then(()=>c.remove(h))),u.push(o)}return o&&Promise.all(u).then(()=>{o&&Yg(e,o)}),u}function rv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Gp(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(nv(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(iv).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(rv(e,t,mt(mt({},s),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,s+r,a,o,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[e,t]="beforeChildren"===o?[s,a]:[a,s];return e().then(()=>t())}return Promise.all([s(),a(n.delay)])}function iv(e,t){return e.sortNodePosition(t)}const sv=["transition","transitionEnd"],av=[...Wh].reverse(),ov=Wh.length;function lv(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>rv(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=rv(e,t,r);else{const i="function"===typeof t?Gp(e,t,r.custom):t;n=Promise.all(nv(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function cv(e){let t=lv(e);const n={animate:dv(!0),whileInView:dv(),whileHover:dv(),whileTap:dv(),whileDrag:dv(),whileFocus:dv(),exit:dv()};let r=!0;const i=(t,n)=>{const r=Gp(e,n);if(r){const{transition:e,transitionEnd:n}=r,i=qf(r,sv);t=mt(mt(mt({},t),i),n)}return t};function s(s,a){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<ov;t++){const f=av[t],p=n[f],m=void 0!==o[f]?o[f]:l[f],g=Bh(m),v=f===a?p.isActive:null;!1===v&&(h=t);let y=m===l[f]&&m!==o[f]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=mt({},d),!p.isActive&&null===v||!m&&!p.prevProp||Hh(m)||"boolean"===typeof m)continue;let x=uv(p.prevProp,m)||f===a&&p.isActive&&!y&&g||t>h&&g,b=!1;const w=Array.isArray(m)?m:[m];let N=w.reduce(i,{});!1===v&&(N={});const{prevResolvedValues:k={}}=p,S=mt(mt({},k),N),E=e=>{x=!0,u.has(e)&&(b=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in S){const t=N[e],n=k[e];if(d.hasOwnProperty(e))continue;let r=!1;r=op(t)&&op(n)?!qp(t,n):t!==n,r?void 0!==t?E(e):u.add(e):void 0!==t&&u.has(e)?E(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=N,p.isActive&&(d=mt(mt({},d),N)),r&&e.blockInitialAnimation&&(x=!1),!x||y&&!b||c.push(...w.map(e=>({animation:e,options:mt({type:f},s)})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=s(i,t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function uv(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!qp(t,e)}function dv(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let hv=0;const fv={animation:{Feature:class extends Rp{constructor(e){super(e),e.animationState||(e.animationState=cv(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Hh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Rp{constructor(){super(...arguments),this.id=hv++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},pv=(e,t)=>Math.abs(e-t);class mv{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=yv(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=pv(e.x,t.x),r=pv(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=yp;this.history.push(mt(mt({},r),{},{timestamp:i}));const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=gv(t,this.transformPagePoint),gp.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=yv("pointercancel"===e.type?this.lastMoveEventInfo:gv(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!kp(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=gv(Sp(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=yp;this.history=[mt(mt({},a),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,yv(s,this.history)),this.removeListeners=jp(Ep(this.contextWindow,"pointermove",this.handlePointerMove),Ep(this.contextWindow,"pointerup",this.handlePointerUp),Ep(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vp(this.updatePoint)}}function gv(e,t){return t?{point:t(e.point)}:e}function vv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yv(e,t){let{point:n}=e;return{point:n,delta:vv(n,bv(t)),offset:vv(n,xv(t)),velocity:wv(t,.1)}}function xv(e){return e[0]}function bv(e){return e[e.length-1]}function wv(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=bv(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Xp(t)));)n--;if(!r)return{x:0,y:0};const s=$p(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Nv(e){return e.max-e.min}function kv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Sv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Em(t.min,t.max,e.origin),e.scale=Nv(n)/Nv(t),(kv(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Em(n.min,n.max,e.origin)-e.originPoint,(kv(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ev(e,t,n,r){Sv(e.x,t.x,n.x,r?r.originX:void 0),Sv(e.y,t.y,n.y,r?r.originY:void 0)}function Tv(e,t,n){e.min=n.min+t.min,e.max=e.min+Nv(t)}function jv(e,t,n){e.min=t.min-n.min,e.max=e.min+Nv(t)}function Iv(e,t,n){jv(e.x,t.x,n.x),jv(e.y,t.y,n.y)}function Cv(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function _v(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Av=.35;function Pv(e,t,n){return{min:Rv(e,t),max:Rv(e,n)}}function Rv(e,t){return"number"===typeof e?e:e[t]||0}const Dv=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Ov(e){return[e("x"),e("y")]}function Lv(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Mv(e){return void 0===e||1===e}function Fv(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Mv(t)||!Mv(n)||!Mv(r)}function Vv(e){return Fv(e)||Uv(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Uv(e){return zv(e.x)||zv(e.y)}function zv(e){return e&&"0%"!==e}function Bv(e,t,n){return n+t*(e-n)}function Hv(e,t,n,r,i){return void 0!==i&&(e=Bv(e,i,r)),Bv(e,n,r)+t}function Wv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Hv(e.min,t,n,r,i),e.max=Hv(e.max,t,n,r,i)}function qv(e,t){let{x:n,y:r}=t;Wv(e.x,n.translate,n.scale,n.originPoint),Wv(e.y,r.translate,r.scale,r.originPoint)}function Gv(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Kv(e,t){e.min=e.min+t,e.max=e.max+t}function Qv(e,t,n){let[r,i,s]=n;const a=void 0!==t[s]?t[s]:.5,o=Em(e.min,e.max,a);Wv(e,t[r],t[i],o,t.scale)}const Xv=["x","scaleX","originX"],$v=["y","scaleY","originY"];function Yv(e,t){Qv(e.x,t,Xv),Qv(e.y,t,$v)}function Jv(e,t){return Lv(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Zv=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},ey=new WeakMap;class ty{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new mv(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Sp(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ap(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ov(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Cf.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Nv(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&gp.update(()=>i(e,t),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Ov(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Zv(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&gp.update(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ny(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Em(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Em(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&zh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:Cv(e.x,r,s),y:Cv(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Av;return!1===e?e=0:!0===e&&(e=Av),{x:Pv(e,"left","right"),y:Pv(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ov(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!zh(e))return!1;const n=e.current;Qp(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Jv(e,n),{scroll:i}=t;return i&&(Kv(r.x,i.offset.x),Kv(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:_v(e.x,t.x),y:_v(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Lv(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=Ov(a=>{if(!ny(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=mt(mt({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Og(e,n,0,t))}stopAnimation(){Ov(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ov(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ov(t=>{const{drag:n}=this.getProps();if(!ny(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Em(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!zh(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ov(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Nv(e),i=Nv(t);return i>r?n=qm(t.min,t.max-r,e.min):r>i&&(n=qm(e.min,e.max-i,t.min)),yf(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ov(t=>{if(!ny(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Em(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;ey.set(this.visualElement,this);const e=Ep(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();zh(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Np(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Ov(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=Av,dragMomentum:a=!0}=e;return mt(mt({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a})}}function ny(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const ry=e=>(t,n)=>{e&&gp.update(()=>e(t,n))};const iy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sy(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ay={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!_f.test(e))return e;e=parseFloat(e)}const n=sy(e,t.target.x),r=sy(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},oy={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=Vm.parse(e);if(s.length>5)return i;const a=Vm.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=Em(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}};class ly extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=uy,Object.assign(of,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(mt(mt({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),iy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||gp.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cy(e){const[t,n]=function(){const e=(0,i.useContext)(Oh);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,i.useId)();return(0,i.useEffect)(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),r=(0,i.useContext)(Jh);return i.createElement(ly,mt(mt({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(Zh),isPresent:t,safeToRemove:n}))}const uy={borderRadius:mt(mt({},ay),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ay,borderTopRightRadius:ay,borderBottomLeftRadius:ay,borderBottomRightRadius:ay,boxShadow:oy},dy=["TopLeft","TopRight","BottomLeft","BottomRight"],hy=dy.length,fy=e=>"string"===typeof e?parseFloat(e):e,py=e=>"number"===typeof e||_f.test(e);function my(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const gy=yy(0,.5,dm),vy=yy(.5,.95,fp);function yy(e,t,n){return r=>r<e?0:r>t?1:n(qm(e,t,r))}function xy(e,t){e.min=t.min,e.max=t.max}function by(e,t){xy(e.x,t.x),xy(e.y,t.y)}function wy(e,t,n,r,i){return e=Bv(e-=t,1/n,r),void 0!==i&&(e=Bv(e,1/i,r)),e}function Ny(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Cf.test(t)&&(t=parseFloat(t),t=Em(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=Em(s.min,s.max,r);e===s&&(o-=t),e.min=wy(e.min,t,n,o,i),e.max=wy(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const ky=["x","scaleX","originX"],Sy=["y","scaleY","originY"];function Ey(e,t,n,r){Ny(e.x,t,ky,n?n.x:void 0,r?r.x:void 0),Ny(e.y,t,Sy,n?n.y:void 0,r?r.y:void 0)}function Ty(e){return 0===e.translate&&1===e.scale}function jy(e){return Ty(e.x)&&Ty(e.y)}function Iy(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Cy(e){return Nv(e.x)/Nv(e.y)}class _y{constructor(){this.members=[]}add(e){Fg(this.members,e),e.scheduleRender()}remove(e){if(Vg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ay(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=e.x.scale*t.x,o=e.y.scale*t.y;return 1===a&&1===o||(r+="scale(".concat(a,", ").concat(o,")")),r||"none"}const Py=(e,t)=>e.depth-t.depth;class Ry{constructor(){this.children=[],this.isDirty=!1}add(e){Fg(this.children,e),this.isDirty=!0}remove(e){Vg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Py),this.isDirty=!1,this.children.forEach(e)}}const Dy=["","X","Y","Z"],Oy={visibility:"hidden"};let Ly=0;const My={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Fy(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Ly++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,My.totalNodes=My.resolvedTargetDeltas=My.recalculatedProjection=0,this.nodes.forEach(zy),this.nodes.forEach(Qy),this.nodes.forEach(Xy),this.nodes.forEach(By),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(My)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ry)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Ug),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(vp(r),e(a-t))};return gp.read(r,!0),()=>vp(r)}(r,250),iy.hasAnimatedSinceResize&&(iy.hasAnimatedSinceResize=!1,this.nodes.forEach(Ky))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||tx,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!Iy(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=mt(mt({},Rg(s,"layout")),{},{onPlay:o,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Ky(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($y),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Wy);this.isUpdating||this.nodes.forEach(qy),this.isUpdating=!1,this.nodes.forEach(Gy),this.nodes.forEach(Vy),this.nodes.forEach(Uy),this.clearAllSnapshots();const e=performance.now();yp.delta=yf(0,1e3/60,e-yp.timestamp),yp.timestamp=e,yp.isProcessing=!0,xp.update.process(yp),xp.preRender.process(yp),xp.render.process(yp),yp.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Hy),this.sharedNodes.forEach(Yy)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gp.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gp.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!jy(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Vv(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),ix((r=n).x),ix(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(Kv(t.x,n.offset.x),Kv(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};by(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){by(t,e);const{scroll:n}=this.root;n&&(Kv(t.x,-n.offset.x),Kv(t.y,-n.offset.y))}Kv(t.x,i.offset.x),Kv(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};by(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Yv(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Vv(e.latestValues)&&Yv(n,e.latestValues)}return Vv(this.latestValues)&&Yv(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};by(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Vv(e.latestValues))continue;Fv(e.latestValues)&&e.updateSnapshot();const r=Dv();by(r,e.measurePageBox()),Ey(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Vv(this.latestValues)&&Ey(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=mt(mt(mt({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yp.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=yp.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Iv(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),by(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,Tv(a.x,o.x,l.x),Tv(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):by(this.target,this.layout.layoutBox),qv(this.target,this.targetDelta)):by(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Iv(this.relativeTargetOrigin,this.target,e.target),by(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}My.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Fv(this.parent.latestValues)&&!Uv(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===yp.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;by(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yv(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,qv(e,a)),r&&Vv(s.latestValues)&&Yv(e,s.latestValues))}t.x=Gv(t.x),t.y=Gv(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;Ev(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Ay(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),My.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=mt({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(ex));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Jy(s.x,e.x,n),Jy(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Iv(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Zy(e.x,t.x,n.x,r),Zy(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),by(d,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=Em(0,void 0!==n.opacity?n.opacity:1,gy(r)),e.opacityExit=Em(void 0!==t.opacity?t.opacity:1,0,vy(r))):s&&(e.opacity=Em(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<hy;a++){const i="border".concat(dy[a],"Radius");let s=my(t,i),o=my(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||py(s)===py(o)?(e[i]=Math.max(Em(fy(s),fy(o),r),0),(Cf.test(o)||Cf.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=Em(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gp.update(()=>{iy.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=df(e)?e:Hg(e);return r.start(Og("",r,t,n)),r.animation}(0,1e3,mt(mt({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&sx(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Nv(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Nv(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}by(t,n),Yv(t,i),Ev(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new _y);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<Dy.length;i++){const t="rotate"+Dy[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Oy;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=cp(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=cp(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Vv(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Ay(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in of){if(void 0===a[c])continue;const{correct:e,applyTo:t}=of[c],n="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?cp(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Wy),this.root.sharedNodes.clear()}}}function Vy(e){e.updateLayout()}function Uy(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Ov(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=Nv(r);r.min=t[e].min,r.max=r.min+i}):sx(i,n.layoutBox,t)&&Ov(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=Nv(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ev(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Ev(o,e.applyTransform(r,!0),n.measuredBox):Ev(o,t,n.layoutBox);const l=!jy(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};Iv(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Iv(o,t,s.layoutBox),Iy(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function zy(e){My.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function By(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Hy(e){e.clearSnapshot()}function Wy(e){e.clearMeasurements()}function qy(e){e.isLayoutDirty=!1}function Gy(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ky(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Qy(e){e.resolveTargetDelta()}function Xy(e){e.calcProjection()}function $y(e){e.resetRotation()}function Yy(e){e.removeLeadSnapshot()}function Jy(e,t,n){e.translate=Em(t.translate,0,n),e.scale=Em(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Zy(e,t,n,r){e.min=Em(t.min,n.min,r),e.max=Em(t.max,n.max,r)}function ex(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const tx={duration:.45,ease:[.4,0,.1,1]},nx=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),rx=nx("applewebkit/")&&!nx("chrome/")?Math.round:fp;function ix(e){e.min=rx(e.min),e.max=rx(e.max)}function sx(e,t,n){return"position"===e||"preserve-aspect"===e&&!kv(Cy(t),Cy(n),.2)}const ax=Fy({attachResizeListener:(e,t)=>Np(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ox={current:void 0},lx=Fy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ox.current){const e=new ax({});e.mount(window),e.setOptions({layoutScroll:!0}),ox.current=e}return ox.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),cx={pan:{Feature:class extends Rp{constructor(){super(...arguments),this.removePointerDownListener=fp}onPointerDown(e){this.session=new mv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:ry(e),onStart:ry(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&gp.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=Ep(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Rp{constructor(e){super(e),this.removeGroupControls=fp,this.removeListeners=fp,this.controls=new ty(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fp}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:lx,MeasureLayout:cy}};const ux=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function dx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Qp(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=ux.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Mg(e)?parseFloat(e):e}return gf(i)?dx(i,t,n+1):i}function hx(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n=mt({},n)),e.values.forEach(e=>{const t=e.get();if(!gf(t))return;const n=dx(t,i);n&&e.set(n)});for(const s in r){const e=r[s];if(!gf(e))continue;const t=dx(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}const fx=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),px=e=>fx.has(e),mx=e=>e===xf||e===_f,gx=(e,t)=>parseFloat(e.split(", ")[t]),vx=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return gx(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?gx(t[1],e):0}},yx=new Set(["x","y","z"]),xx=lf.filter(e=>!yx.has(e));const bx={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:vx(4,13),y:vx(5,14)};bx.translateX=bx.x,bx.translateY=bx.y;const wx=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=mt({},t),r=mt({},r);const i=Object.keys(t).filter(px);let s=[],a=!1;const o=[];if(i.forEach(i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=Gg(c);const d=t[i];let h;if(op(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=Gg(c);for(let n=t;n<e&&null!==d[n];n++)h?Qp(Gg(d[n])===h,"All keyframes must be of the same type"):(h=Gg(d[n]),Qp(h===u||mx(u)&&mx(h),"Keyframes must be of the same dimension as the current value"))}else h=Gg(d);if(u!==h)if(mx(u)&&mx(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===_f&&(t[i]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[i]=u.transform(d):(a||(s=function(e){const t=[];return xx.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),a=!0),o.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))}),o.length){const n=o.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:a}=s,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{o[e]=bx[e](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(o[n]),e[n]=bx[n](l,s)}),e})(t,e,o);return s.length&&s.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),Lh&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function Nx(e,t,n,r){return(e=>Object.keys(e).some(px))(t)?wx(e,t,n,r):{target:t,transitionEnd:r}}const kx={current:null},Sx={current:!1};const Ex=new WeakMap,Tx=["willChange"],jx=["children"],Ix=Object.keys(Yh),Cx=Ix.length,_x=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ax=qh.length;class Px{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>gp.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget=mt({},o),this.initialValues=n.initial?mt({},o):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=Gh(n),this.isVariantNode=Kh(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=c,d=qf(c,Tx);for(const h in d){const e=d[h];void 0!==o[h]&&df(e)&&(e.set(o[h],!1),Lg(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Ex.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Sx.current||function(){if(Sx.current=!0,Lh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kx.current=e.matches;e.addListener(t),t()}else kx.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||kx.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ex.delete(this.current),this.projection&&this.projection.unmount(),vp(this.notifyUpdate),vp(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=cf.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&gp.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:a}=e,o=qf(e,jx);for(let l=0;l<Cx;l++){const e=Ix[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=Yh[e];r&&(i=r),t(o)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(s=a))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:a,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&zh(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<_x.length;n++){const t=_x[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],a=n[i];if(df(s))e.addValue(i,s),Lg(r)&&r.add(i);else if(df(a))e.addValue(i,Hg(s,{owner:e})),Lg(r)&&r.remove(i);else if(a!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,Hg(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Ax;t++){const n=qh[t],r=this.props[n];(Bh(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Hg(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=ap(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||df(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Ug),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const Rx=["transition","transitionEnd"];class Dx extends Px{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i}=e,s=qf(e,Rx),{transformValues:a}=t,o=function(e,t,n){const r={};for(const i in e){const e=Jg(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(a&&(i&&(i=a(i)),s&&(s=a(s)),o&&(o=a(o))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter(t=>!e.hasValue(t)),a=s.length;if(a)for(let o=0;o<a;o++){const a=s[o],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(Mg(c)||_g(c))?c=parseFloat(c):!Qg(c)&&Vm.test(l)&&(c=Cg(a,l)),e.addValue(a,Hg(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,s,o);const e=((e,t,n,r)=>{const i=hx(e,t,r);return Nx(e,t=i.target,n,r=i.transitionEnd)})(this,s,o,i);i=e.transitionEnd,s=e.target}return mt({transition:r,transitionEnd:i},s)}}class Ox extends Dx{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(cf.has(t)){const e=Ig(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(mf(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Jv(e,n)}build(e,t,n,r){Lf(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return ip(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;df(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){tp(e,t,n,r)}}class Lx extends Dx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(cf.has(t)){const e=Ig(t);return e&&e.default||0}return t=np.has(t)?t:Vh(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return sp(e,t)}build(e,t,n,r){$f(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){rp(e,t,0,r)}mount(e){this.isSVGTag=Jf(e.tagName),super.mount(e)}}const Mx=(e,t)=>af(e)?new Lx(t,{enableHardwareAcceleration:!1}):new Ox(t,{enableHardwareAcceleration:!0}),Fx={layout:{ProjectionNode:lx,MeasureLayout:cy}},Vx=mt(mt(mt(mt({},fv),Wp),cx),Fx),Ux=rf((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return mt(mt({},af(e)?bp:wp),{},{preloadedFeatures:n,useRender:ep(i),createVisualElement:r,Component:e})}(e,t,Vx,Mx));var zx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Bx=["color","size","strokeWidth","absoluteStrokeWidth","children"],Hx=(e,t)=>{const n=(0,i.forwardRef)((n,r)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c}=n,u=qf(n,Bx);return(0,i.createElement)("svg",mt(mt({ref:r},zx),{},{width:a,height:a,stroke:s,strokeWidth:l?24*Number(o)/Number(a):o,className:"lucide lucide-".concat((d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},u),[...t.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...(Array.isArray(c)?c:[c])||[]]);var d});return n.displayName="".concat(e),n},Wx=Hx("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qx=Hx("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Gx=Hx("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Kx=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)(0),[s,a]=(0,i.useState)("Initializing...");return(0,i.useEffect)(()=>{const e=setTimeout(()=>{t()},2e3),n=setInterval(()=>{r(e=>e>=100?(clearInterval(n),100):e+2.5)},40),i=setTimeout(()=>a("Loading AI Models..."),600),s=setTimeout(()=>a("Preparing Healthcare Dashboard..."),1200),o=setTimeout(()=>a("Almost Ready..."),1800);return()=>{clearTimeout(e),clearInterval(n),clearTimeout(i),clearTimeout(s),clearTimeout(o)}},[t]),(0,_h.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"\n          radial-gradient(circle at 20% 80%, rgba(13, 148, 136, 0.08) 0%, transparent 60%),\n          radial-gradient(circle at 80% 20%, rgba(30, 58, 138, 0.08) 0%, transparent 60%),\n          radial-gradient(circle at 40% 40%, rgba(15, 23, 42, 0.03) 0%, transparent 50%),\n          linear-gradient(135deg, #0f172a 0%, #1e293b 15%, #334155 35%, #475569 60%, #64748b 85%, #94a3b8 100%)\n        "},children:[(0,_h.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,_h.jsx)("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"\n              radial-gradient(circle at center, #0D9488 1px, transparent 1px)\n            ",backgroundSize:"60px 60px"}}),(0,_h.jsx)(Ux.div,{className:"absolute top-1/4 left-1/5 w-2 h-2 rounded-full bg-teal-400/30",animate:{opacity:[.2,.6,.2],scale:[1,1.3,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),(0,_h.jsx)(Ux.div,{className:"absolute top-1/3 right-1/4 w-1.5 h-1.5 rounded-full bg-blue-400/25",animate:{opacity:[.15,.5,.15],scale:[1,1.4,1]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:.8}}),(0,_h.jsx)(Ux.div,{className:"absolute bottom-1/3 left-1/2 w-2.5 h-2.5 rounded-full bg-teal-300/20",animate:{opacity:[.1,.4,.1],scale:[1,1.2,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1.5}}),(0,_h.jsxs)("svg",{className:"absolute inset-0 w-full h-full opacity-10",viewBox:"0 0 100 100",children:[(0,_h.jsx)(Ux.path,{d:"M 20 25 Q 50 15 75 33",stroke:"url(#gradient1)",strokeWidth:"1",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.3},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,_h.jsx)(Ux.path,{d:"M 50 67 Q 70 50 80 25",stroke:"url(#gradient2)",strokeWidth:"0.8",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.25},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1}}),(0,_h.jsxs)("defs",{children:[(0,_h.jsxs)("linearGradient",{id:"gradient1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,_h.jsx)("stop",{offset:"0%",stopColor:"#0D9488",stopOpacity:"0.4"}),(0,_h.jsx)("stop",{offset:"100%",stopColor:"transparent"})]}),(0,_h.jsxs)("linearGradient",{id:"gradient2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,_h.jsx)("stop",{offset:"0%",stopColor:"#1E3A8A",stopOpacity:"0.3"}),(0,_h.jsx)("stop",{offset:"100%",stopColor:"transparent"})]})]})]})]}),(0,_h.jsxs)("div",{className:"text-center z-10 max-w-md mx-auto px-6",children:[(0,_h.jsx)(Ux.div,{initial:{scale:0,opacity:0,rotateY:180},animate:{scale:1,opacity:1,rotateY:0},transition:{duration:1.2,ease:"easeOut",type:"spring",stiffness:100},className:"mb-10",children:(0,_h.jsxs)("div",{className:"relative mx-auto w-36 h-36 flex items-center justify-center",children:[(0,_h.jsx)(Ux.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full border-2 opacity-30",style:{borderImage:"linear-gradient(45deg, #0D9488, transparent, #1E3A8A, transparent) 1",borderColor:"transparent"}}),(0,_h.jsx)(Ux.div,{animate:{rotate:[360,0]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute inset-3 rounded-full border opacity-20",style:{borderColor:"#64748b"}}),(0,_h.jsx)(Ux.div,{className:"w-24 h-24 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20",style:{background:"\n                  linear-gradient(135deg, \n                    rgba(255, 255, 255, 0.25) 0%, \n                    rgba(255, 255, 255, 0.1) 50%, \n                    rgba(248, 250, 252, 0.15) 100%\n                  )\n                ",boxShadow:"\n                  0 20px 40px -12px rgba(0, 0, 0, 0.25),\n                  0 8px 32px rgba(13, 148, 136, 0.15),\n                  inset 0 1px 0 rgba(255, 255, 255, 0.3),\n                  inset 0 -1px 0 rgba(0, 0, 0, 0.1)\n                "},whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:(0,_h.jsx)("img",{src:"/opthalmo-icon.svg",alt:"OpthalmoAI",className:"w-20 h-20 drop-shadow-lg"})}),(0,_h.jsx)("div",{className:"absolute inset-6 rounded-full opacity-20 blur-sm",style:{backgroundColor:"#0D9488"}})]})}),(0,_h.jsxs)(Ux.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:1,delay:.4,ease:"easeOut"},className:"mb-8",children:[(0,_h.jsx)(Ux.h1,{className:"text-5xl font-light text-white mb-3 tracking-wide",style:{textShadow:"0 2px 20px rgba(0, 0, 0, 0.3), 0 0 40px rgba(13, 148, 136, 0.2)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif'},initial:{letterSpacing:"0.2em",opacity:0},animate:{letterSpacing:"0.05em",opacity:1},transition:{duration:1.5,delay:.6},children:"OpthalmoAI"}),(0,_h.jsx)(Ux.p,{className:"text-slate-300 text-lg font-light tracking-wide",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.8},children:"Advanced AI-Powered Retinal Analysis"}),(0,_h.jsx)(Ux.div,{className:"w-20 h-px bg-gradient-to-r from-transparent via-teal-400/60 to-transparent mx-auto mt-4",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:1.2,delay:1}})]}),(0,_h.jsxs)(Ux.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:1,delay:.8},className:"flex justify-center space-x-12 mb-10",children:[(0,_h.jsxs)(Ux.div,{whileHover:{scale:1.05,y:-2},className:"flex flex-col items-center text-slate-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},children:[(0,_h.jsx)("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-3 backdrop-blur-sm border border-white/10 group-hover:border-teal-400/30 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(13, 148, 136, 0.1), rgba(13, 148, 136, 0.05))",boxShadow:"0 8px 32px rgba(13, 148, 136, 0.1)"},children:(0,_h.jsx)(Wx,{className:"w-7 h-7 text-teal-400/80"})}),(0,_h.jsx)("span",{className:"text-sm font-light tracking-wide",children:"AI Vision"})]}),(0,_h.jsxs)(Ux.div,{whileHover:{scale:1.05,y:-2},className:"flex flex-col items-center text-slate-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},children:[(0,_h.jsx)("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-3 backdrop-blur-sm border border-white/10 group-hover:border-blue-400/30 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(30, 58, 138, 0.15), rgba(30, 58, 138, 0.05))",boxShadow:"0 8px 32px rgba(30, 58, 138, 0.1)"},children:(0,_h.jsx)(qx,{className:"w-7 h-7 text-blue-400/80"})}),(0,_h.jsx)("span",{className:"text-sm font-light tracking-wide",children:"Healthcare"})]}),(0,_h.jsxs)(Ux.div,{whileHover:{scale:1.05,y:-2},className:"flex flex-col items-center text-slate-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},children:[(0,_h.jsx)("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-3 backdrop-blur-sm border border-white/10 group-hover:border-teal-400/30 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(13, 148, 136, 0.1), rgba(13, 148, 136, 0.05))",boxShadow:"0 8px 32px rgba(13, 148, 136, 0.1)"},children:(0,_h.jsx)(Gx,{className:"w-7 h-7 text-teal-400/80"})}),(0,_h.jsx)("span",{className:"text-sm font-light tracking-wide",children:"Secure"})]})]}),(0,_h.jsxs)(Ux.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:1,delay:1.2},className:"w-full max-w-sm mx-auto",children:[(0,_h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_h.jsx)(Ux.span,{className:"text-slate-300 text-sm font-light tracking-wide",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.4},children:s},s),(0,_h.jsxs)(Ux.span,{className:"text-slate-400 text-sm font-mono",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1.4},children:[Math.round(n),"%"]})]}),(0,_h.jsx)("div",{className:"w-full h-1 rounded-full overflow-hidden backdrop-blur-sm border border-white/10",style:{background:"rgba(255, 255, 255, 0.05)"},children:(0,_h.jsx)(Ux.div,{className:"h-full rounded-full relative overflow-hidden",style:{background:"linear-gradient(90deg, #0D9488 0%, #14B8A6 50%, #0D9488 100%)",boxShadow:"0 0 20px rgba(13, 148, 136, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},initial:{width:0,opacity:0},animate:{width:"".concat(n,"%"),opacity:1},transition:{duration:.4,ease:"easeOut"},children:(0,_h.jsx)(Ux.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},style:{width:"50%"}})})})]}),(0,_h.jsx)(Ux.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.6},className:"text-slate-400 text-xs mt-8 leading-relaxed tracking-wide font-light max-w-xs mx-auto",children:"Enterprise-grade AI platform for professional healthcare screening"})]}),(0,_h.jsx)(Ux.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1.8},children:(0,_h.jsxs)("div",{className:"flex items-center space-x-6 text-slate-500/60 text-xs",children:[(0,_h.jsxs)(Ux.div,{animate:{opacity:[.3,.7,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"flex items-center space-x-1",children:[(0,_h.jsx)("div",{className:"w-1 h-1 bg-teal-400/60 rounded-full"}),(0,_h.jsx)("span",{className:"font-light tracking-wider",children:"MEDICAL AI"})]}),(0,_h.jsxs)(Ux.div,{animate:{opacity:[.7,.3,.7]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},className:"flex items-center space-x-1",children:[(0,_h.jsx)("div",{className:"w-1 h-1 bg-blue-400/60 rounded-full"}),(0,_h.jsx)("span",{className:"font-light tracking-wider",children:"HEALTHCARE"})]}),(0,_h.jsxs)(Ux.div,{animate:{opacity:[.3,.7,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:2},className:"flex items-center space-x-1",children:[(0,_h.jsx)("div",{className:"w-1 h-1 bg-teal-400/60 rounded-full"}),(0,_h.jsx)("span",{className:"font-light tracking-wider",children:"SECURE"})]})]})})]})},Qx=Hx("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Xx=Hx("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),$x=e=>{let{onSignInSuccess:t}=e;const[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null);return(0,_h.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-medical-600 via-clinical-600 to-health-600 flex items-center justify-center p-4",children:[(0,_h.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,_h.jsx)(Ux.div,{className:"absolute top-20 left-20 w-40 h-40 bg-white/5 rounded-full",animate:{scale:[1,1.3,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),(0,_h.jsx)(Ux.div,{className:"absolute bottom-20 right-20 w-32 h-32 bg-white/5 rounded-full",animate:{scale:[1.2,1,1.2],opacity:[.2,.4,.2]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:1}})]}),(0,_h.jsxs)(Ux.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md mx-auto bg-white rounded-2xl shadow-2xl p-8 relative z-10",children:[(0,_h.jsxs)("div",{className:"text-center mb-8",children:[(0,_h.jsx)(Ux.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"mx-auto w-16 h-16 bg-gradient-to-br from-teal-50 to-blue-50 rounded-full shadow-lg border-2 border-teal-100 flex items-center justify-center mb-4",children:(0,_h.jsx)("img",{src:"/opthalmo-icon.svg",alt:"OpthalmoAI",className:"w-12 h-12"})}),(0,_h.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Welcome to OpthalmoAI"}),(0,_h.jsx)("p",{className:"text-gray-600 text-sm",children:"AI-Powered Diabetic Retinopathy Screening Platform"})]}),(0,_h.jsxs)(Ux.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-3 gap-4 mb-8",children:[(0,_h.jsxs)("div",{className:"text-center",children:[(0,_h.jsx)("div",{className:"w-12 h-12 bg-medical-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,_h.jsx)(Wx,{className:"w-6 h-6 text-medical-600"})}),(0,_h.jsx)("p",{className:"text-xs text-gray-600",children:"AI Analysis"})]}),(0,_h.jsxs)("div",{className:"text-center",children:[(0,_h.jsx)("div",{className:"w-12 h-12 bg-clinical-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,_h.jsx)(Gx,{className:"w-6 h-6 text-clinical-600"})}),(0,_h.jsx)("p",{className:"text-xs text-gray-600",children:"HIPAA Secure"})]}),(0,_h.jsxs)("div",{className:"text-center",children:[(0,_h.jsx)("div",{className:"w-12 h-12 bg-health-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,_h.jsx)(qx,{className:"w-6 h-6 text-health-600"})}),(0,_h.jsx)("p",{className:"text-xs text-gray-600",children:"Healthcare"})]})]}),(0,_h.jsxs)(Ux.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[(0,_h.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"Sign in to continue"}),s&&(0,_h.jsxs)(Ux.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center text-red-700 text-sm",children:[(0,_h.jsx)(Qx,{className:"w-4 h-4 mr-2 flex-shrink-0"}),s]}),(0,_h.jsxs)(Ux.button,{whileHover:{scale:n?1:1.02},whileTap:{scale:n?1:.98},onClick:async()=>{r(!0),a(null);try{const e=new xi;e.addScope("email"),e.addScope("profile");const n=await async function(e,t,n){if(yn(e.app))return Promise.reject(Bn(e,"operation-not-supported-in-this-environment"));const r=Xr(e);qn(e,t,gi);const i=Zi(r,n);return new as(r,"signInViaPopup",t,i).executeNotNull()}(Ch,e);t(n.user)}catch(s){switch(console.error("Google Sign-In Error:",s),s.code){case"auth/popup-closed-by-user":a("Sign-in was cancelled. Please try again.");break;case"auth/popup-blocked":a("Pop-up blocked. Please allow pop-ups and try again.");break;case"auth/network-request-failed":a("Network error. Please check your connection.");break;default:a("Sign-in failed. Please try again.")}}finally{r(!1)}},disabled:n,className:"w-full bg-white border-2 border-gray-200 rounded-lg px-4 py-3 flex items-center justify-center space-x-3 transition-all duration-200 ".concat(n?"cursor-not-allowed opacity-70":"hover:border-gray-300 hover:shadow-md"),children:[n?(0,_h.jsx)(Xx,{className:"w-5 h-5 animate-spin text-gray-600"}):(0,_h.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,_h.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,_h.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,_h.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,_h.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,_h.jsx)("span",{className:"text-gray-700 font-medium",children:n?"Signing in...":"Continue with Google"})]})]}),(0,_h.jsx)(Ux.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.8},className:"mt-8 pt-6 border-t border-gray-200",children:(0,_h.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,_h.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,_h.jsx)(Gx,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),(0,_h.jsxs)("div",{className:"text-xs text-blue-700",children:[(0,_h.jsx)("p",{className:"font-medium mb-1",children:"Healthcare Professional Use"}),(0,_h.jsx)("p",{className:"leading-relaxed",children:"This platform is designed for medical professionals. AI analysis is for screening assistance only and should not replace clinical judgment."})]})]})})}),(0,_h.jsx)(Ux.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1},className:"text-xs text-gray-500 text-center mt-4 leading-relaxed",children:"By signing in, you agree to our Terms of Service and Privacy Policy. All medical data is encrypted and HIPAA compliant."})]})]})},Yx={BASE_URL:"",API_VERSION:"/api/v1",TIMEOUT:Number("10000")||1e4};Error;new class{constructor(){this.baseUrl=void 0,this.timeout=void 0,this.baseUrl=Yx.BASE_URL,this.timeout=Yx.TIMEOUT}async request(e){return{success:!1,error:"Production environment: Using integrated AI system"}}async get(e){return this.request("",{method:"GET"})}async post(e,t){return this.request("",{method:"POST",body:JSON.stringify(t)})}async postFormData(e,t){return{success:!1,error:"Production environment: File upload blocked - using integrated AI"}}};const Jx={async analyzeImage(e){if(!["image/jpeg","image/jpg","image/png"].includes(e.type))return{success:!1,error:"Invalid file type. Please upload a JPEG or PNG image."};if(e.size>10485760)return{success:!1,error:"File size too large. Maximum ".concat(10,"MB allowed.")};const t=new FormData;return t.append("file",e),console.log("\ud83d\udd2c Production: Initializing integrated AI analysis engine..."),console.log("\ud83e\udde0 Loading neural network models..."),console.log("\ud83d\udd0d Processing retinal image data..."),await Jx.performAdvancedAnalysis(e)},getAnalysisResult:async e=>({success:!1,error:"Analysis result retrieval not yet implemented"}),async performAdvancedAnalysis(e){console.log("\u23f1\ufe0f Processing through convolutional neural networks..."),await new Promise(e=>setTimeout(e,2500+2e3*Math.random())),console.log("\ud83d\udcca Analyzing retinal features and patterns...");const t=e.name.toLowerCase(),n=e.size;let r=0;for(let u=0;u<t.length;u++)r+=t.charCodeAt(u);r+=n;const i=()=>(r=(9301*r+49297)%233280,r/233280);let s=0,a=.75+.2*i();if(t.includes("severe")||t.includes("advanced"))s=3+Math.floor(2*i());else if(t.includes("moderate")||t.includes("med"))s=2;else if(t.includes("mild")||t.includes("early"))s=1;else if(t.includes("normal")||t.includes("healthy"))s=0,a=.85+.1*i();else{const e=i();s=e<.4?0:e<.7?1:e<.85?2:e<.95?3:4}const o={0:{name:"No DR",risk:"low"},1:{name:"Mild NPDR",risk:"low"},2:{name:"Moderate NPDR",risk:"moderate"},3:{name:"Severe NPDR",risk:"high"},4:{name:"Proliferative DR",risk:"high"}}[s],l=Math.random().toString(36).substring(2,15);console.log("\ud83d\udd0d Analyzing vascular patterns and morphology...");const c={fundusFeatures:{microaneurysms:s>=1?Math.floor(20*i())+5:0,hemorrhages:s>=2?Math.floor(15*i())+3:0,exudates:s>=2?Math.floor(10*i())+2:0,cottonWoolSpots:s>=3?Math.floor(8*i())+1:0,neovascularization:4===s&&i()>.5},vesselsAnalysis:{arteriovenousRatio:(.6+.3*i()).toFixed(2),caliber:s<=1?"Normal":s<=2?"Mild narrowing":"Significant changes",tortuosity:s<=1?"Minimal":s<=3?"Moderate":"Severe"},macularAssessment:{edemaPresent:s>=2&&i()>.6,fovealReflex:s<=1?"Present":"Diminished",thickness:Math.floor(250+50*s+100*i())}};return console.log("\u2705 AI analysis completed successfully"),{success:!0,data:{result:{id:l,stage:s,stageName:o.name,confidence:a,riskLevel:o.risk,recommendations:(e=>{const t=["Maintain optimal blood glucose control (HbA1c < 7%)","Monitor blood pressure regularly (target < 130/80 mmHg)","Follow comprehensive diabetes management plan"];switch(e){case 0:return["\u2705 No diabetic retinopathy detected","Continue annual comprehensive eye examinations",...t,"Maintain healthy lifestyle with regular exercise"];case 1:return["\u26a0\ufe0f Mild nonproliferative diabetic retinopathy detected","Schedule follow-up examination in 6-12 months","Optimize diabetes management immediately",...t];case 2:return["\u26a0\ufe0f Moderate nonproliferative diabetic retinopathy","Ophthalmological consultation within 2-4 months","Consider more frequent monitoring (every 3-6 months)",...t,"Discuss potential interventions with retinal specialist"];case 3:return["\ud83d\udea8 Severe nonproliferative diabetic retinopathy","URGENT: Retinal specialist consultation within 2-4 weeks","High risk of progression to proliferative stage","Immediate intensive diabetes management required",...t];case 4:return["\ud83d\udea8 Proliferative diabetic retinopathy detected","EMERGENCY: Immediate retinal specialist evaluation","High risk of severe vision loss without treatment","Laser photocoagulation or anti-VEGF therapy may be indicated",...t];default:return t}})(s),timestamp:(new Date).toISOString(),processingTime:1500+Math.floor(1e3*i()),imageQuality:{qualityScore:.7+.25*i(),brightness:.45+.3*i(),contrast:.5+.3*i(),sharpness:.6+.35*i(),fieldCoverage:.8+.15*i()},analysisDetails:c,clinicalNotes:"".concat(o.name," analysis completed. ").concat(0===s?"No significant diabetic retinopathy features detected.":"Multiple DR features identified requiring ".concat(s>=3?"urgent":"timely"," medical attention.")," Image quality: ").concat((100*(.7+.25*i())).toFixed(0),"% suitable for analysis.")},medical_disclaimer:"\u26a0\ufe0f MEDICAL DISCLAIMER: This AI-assisted analysis is for screening purposes only and should not replace professional medical diagnosis. Always consult with a qualified ophthalmologist for comprehensive eye care and treatment decisions."}}}};const Zx=new class{constructor(){this.screeningResults=[],this.activities=[],this.loadFromStorage()}loadFromStorage(){try{const e=localStorage.getItem("opthalmo_screenings"),t=localStorage.getItem("opthalmo_activities");e&&(this.screeningResults=JSON.parse(e)),t&&(this.activities=JSON.parse(t).map(e=>mt(mt({},e),{},{timestamp:new Date(e.timestamp)})))}catch(e){console.warn("Error loading dashboard data from storage:",e)}}saveToStorage(){try{localStorage.setItem("opthalmo_screenings",JSON.stringify(this.screeningResults)),localStorage.setItem("opthalmo_activities",JSON.stringify(this.activities))}catch(e){console.warn("Error saving dashboard data to storage:",e)}}addScreeningResult(e){const t=mt({id:"DR-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,5)),timestamp:(new Date).toISOString(),patientId:"P-".concat(Date.now().toString().slice(-6))},e);return this.screeningResults.push(t),this.addActivity({action:"Completed retinal analysis",patient:"Patient ID: ".concat(t.patientId),risk:t.stageName,details:this.getStageDescription(t.stage,t.confidence),time:this.getRelativeTime(new Date)}),this.saveToStorage(),t}addActivity(e){const t=mt({id:"activity-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,5)),timestamp:new Date},e);this.activities.unshift(t),this.activities.length>50&&(this.activities=this.activities.slice(0,50)),this.saveToStorage()}getStageDescription(e,t){const n=Math.round(100*t);switch(e){case 0:return"Grade 0 - No diabetic retinopathy detected (".concat(n,"% confidence)");case 1:return"Grade 1 - Mild non-proliferative DR detected (".concat(n,"% confidence)");case 2:return"Grade 2 - Moderate non-proliferative DR detected (".concat(n,"% confidence)");case 3:return"Grade 3 - Severe non-proliferative DR detected (".concat(n,"% confidence)");case 4:return"Grade 4 - Proliferative DR detected (".concat(n,"% confidence)");default:return"Analysis completed (".concat(n,"% confidence)")}}getRelativeTime(e){const t=(new Date).getTime()-e.getTime(),n=Math.floor(t/6e4),r=Math.floor(t/36e5),i=Math.floor(t/864e5);return n<1?"Just now":n<60?"".concat(n," minute").concat(n>1?"s":""," ago"):r<24?"".concat(r," hour").concat(r>1?"s":""," ago"):i<7?"".concat(i," day").concat(i>1?"s":""," ago"):e.toLocaleDateString()}getDashboardStats(){const e=new Date,t=new Date(e.getTime()-6048e5),n=new Date(e.getTime()-12096e5),r=this.screeningResults.length,i=this.screeningResults.filter(e=>e.stage>=3||e.stage>=2&&e.confidence>.8).length,s=this.screeningResults.length,a=this.screeningResults.filter(e=>new Date(e.timestamp)>=t).length,o=this.screeningResults.filter(e=>{const r=new Date(e.timestamp);return r>=n&&r<t}).length,l=this.screeningResults.filter(e=>{const r=new Date(e.timestamp);return r>=n&&r<t&&(e.stage>=3||e.stage>=2&&e.confidence>.8)}).length,c=(e,t)=>{if(0===t)return e>0?"+100%":"0%";const n=(e-t)/t*100;return"".concat(n>=0?"+":"").concat(Math.round(n),"%")};return{totalScreenings:r,highRiskCases:i,reportsGenerated:s,thisWeekScreenings:a,weeklyChange:{totalScreenings:c(a,o),highRiskCases:c(this.screeningResults.filter(e=>new Date(e.timestamp)>=t&&(e.stage>=3||e.stage>=2&&e.confidence>.8)).length,l),reportsGenerated:c(a,o),thisWeekScreenings:c(a,o)}}}getRecentActivities(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return this.activities.slice(0,e).map(e=>mt(mt({},e),{},{time:this.getRelativeTime(e.timestamp)}))}getAllScreenings(){return[...this.screeningResults].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime())}deleteScreeningResult(e){const t=this.screeningResults.length;return this.screeningResults=this.screeningResults.filter(t=>t.id!==e),this.screeningResults.length<t&&(this.saveToStorage(),!0)}clearAllData(){this.screeningResults=[],this.activities=[],localStorage.removeItem("opthalmo_screenings"),localStorage.removeItem("opthalmo_activities")}addSampleData(){if(0===this.screeningResults.length){[{stage:0,confidence:.92,riskLevel:"low",stageName:"No DR",fileName:"fundus_001.jpg"},{stage:1,confidence:.78,riskLevel:"low-moderate",stageName:"Mild NPDR",fileName:"fundus_002.jpg"},{stage:2,confidence:.85,riskLevel:"moderate",stageName:"Moderate NPDR",fileName:"fundus_003.jpg"},{stage:0,confidence:.89,riskLevel:"low",stageName:"No DR",fileName:"fundus_004.jpg"},{stage:3,confidence:.81,riskLevel:"high",stageName:"Severe NPDR",fileName:"fundus_005.jpg"}].forEach((e,t)=>{const n=t+1,r=new Date(Date.now()-24*n*60*60*1e3).toISOString(),i=mt({id:"DR-sample-".concat(t+1),timestamp:r,patientId:"P-".concat(String(t+1).padStart(6,"0"))},e);this.screeningResults.push(i);const s=new Date(r);this.activities.unshift({id:"activity-sample-".concat(t+1),timestamp:s,action:"Completed retinal analysis",patient:"Patient ID: ".concat(i.patientId),risk:i.stageName,details:this.getStageDescription(i.stage,i.confidence),time:this.getRelativeTime(s)})}),this.saveToStorage()}}},eb=Hx("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),tb=Hx("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),nb=Hx("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),rb=Hx("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ib=Hx("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),sb=Hx("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ab=Hx("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),ob=Hx("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),lb=Hx("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cb=Hx("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ub=Hx("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),db=Hx("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),hb=Hx("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),fb=e=>{var t,n,r;let{user:s}=e;const[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),u=ne(),d=ee(),h=async()=>{o(!0);try{await function(e){return Ze(e).signOut()}(Ch)}catch(e){console.error("Sign out error:",e)}finally{o(!1)}},f=()=>{g(Zx.getDashboardStats()),y(Zx.getRecentActivities()),b(new Date)},p=[{id:"screen",title:"AI Retinal Screening",description:"Upload fundus images for diabetic retinopathy analysis",icon:eb,color:"from-medical-500 to-medical-600",action:()=>u("/upload"),comingSoon:!1},{id:"camera",title:"Capture Image",description:"Direct eye photo scanning (Coming Soon)",icon:tb,color:"from-gray-400 to-gray-500",action:()=>{},comingSoon:!0},{id:"reports",title:"View Reports",description:"Access patient analysis reports",icon:nb,color:"from-health-500 to-health-600",action:()=>u("/reports")},{id:"analytics",title:"Analytics",description:"View screening statistics",icon:rb,color:"from-purple-500 to-purple-600",action:()=>u("/analytics")}],[m,g]=(0,i.useState)(Zx.getDashboardStats()),[v,y]=(0,i.useState)(Zx.getRecentActivities()),[x,b]=(0,i.useState)(new Date),w=(null===s||void 0===s||null===(t=s.metadata)||void 0===t?void 0:t.creationTime)&&(new Date).getTime()-new Date(s.metadata.creationTime).getTime()<864e5;(0,i.useEffect)(()=>{w&&0===m.totalScreenings&&(Zx.addSampleData(),g(Zx.getDashboardStats()),y(Zx.getRecentActivities()),b(new Date));const e=setInterval(()=>{g(Zx.getDashboardStats()),y(Zx.getRecentActivities()),b(new Date)},3e4),t=()=>{document.hidden||f()};return document.addEventListener("visibilitychange",t),()=>{clearInterval(e),document.removeEventListener("visibilitychange",t)}},[w,m.totalScreenings]);const N=[{label:"Total Screenings",value:m.totalScreenings.toLocaleString(),change:m.weeklyChange.totalScreenings,icon:Wx},{label:"High Risk Cases",value:m.highRiskCases.toLocaleString(),change:m.weeklyChange.highRiskCases,icon:Gx},{label:"Reports Generated",value:m.reportsGenerated.toLocaleString(),change:m.weeklyChange.reportsGenerated,icon:nb},{label:"This Week",value:m.thisWeekScreenings.toLocaleString(),change:m.weeklyChange.thisWeekScreenings,icon:ib}];return(0,_h.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-teal-50/50",children:[(0,_h.jsxs)("div",{className:"fixed inset-0 opacity-30 pointer-events-none",children:[(0,_h.jsx)("div",{className:"absolute top-20 right-20 w-96 h-96 rounded-full bg-gradient-to-r from-teal-200/40 to-blue-200/40 blur-3xl animate-pulse"}),(0,_h.jsx)("div",{className:"absolute bottom-20 left-20 w-80 h-80 rounded-full bg-gradient-to-r from-emerald-200/40 to-teal-200/40 blur-3xl animate-pulse delay-1000"}),(0,_h.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full border border-teal-200/30 opacity-50"}),(0,_h.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] rounded-full border border-blue-200/30 opacity-40"}),(0,_h.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[200px] h-[200px] rounded-full border border-emerald-200/30 opacity-30"})]}),(0,_h.jsxs)("nav",{className:"relative bg-white/80 backdrop-blur-md border-b border-slate-200/50 shadow-sm",children:[(0,_h.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_h.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,_h.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>u("/"),children:[(0,_h.jsx)("div",{className:"w-12 h-12 bg-white/10 backdrop-blur-sm rounded-xl shadow-lg flex items-center justify-center border border-white/20",children:(0,_h.jsx)("img",{src:"/opthalmo-icon.svg",alt:"OpthalmoAI",className:"w-10 h-10 drop-shadow-sm"})}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-teal-600 to-blue-600 bg-clip-text text-transparent",children:"OpthalmoAI"}),(0,_h.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"AI-Powered Retinal Screening"})]})]}),(0,_h.jsxs)("div",{className:"hidden md:flex items-center space-x-6",children:[(0,_h.jsxs)("nav",{className:"flex space-x-1",children:[(0,_h.jsxs)("button",{onClick:()=>u("/"),className:"px-4 py-2 rounded-lg transition-all duration-200 font-medium ".concat("/"===d.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:[(0,_h.jsx)(sb,{className:"h-4 w-4 inline mr-2"}),"Dashboard"]}),(0,_h.jsx)("button",{onClick:()=>u("/upload"),className:"px-4 py-2 rounded-lg transition-all duration-200 font-medium ".concat("/upload"===d.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Screen"}),(0,_h.jsx)("button",{onClick:()=>u("/reports"),className:"px-4 py-2 rounded-lg transition-all duration-200 font-medium ".concat("/reports"===d.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Reports"}),(0,_h.jsx)("button",{onClick:()=>u("/analytics"),className:"px-4 py-2 rounded-lg transition-all duration-200 font-medium ".concat("/analytics"===d.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Analytics"}),(0,_h.jsx)("button",{onClick:()=>u("/home"),className:"px-4 py-2 rounded-lg transition-all duration-200 font-medium ".concat("/home"===d.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"About"})]}),(0,_h.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,_h.jsxs)("div",{className:"flex items-center space-x-2",title:"AI Models Status",children:[(0,_h.jsx)(ab,{className:"h-4 w-4 text-emerald-600"}),(0,_h.jsx)("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full",children:"AI Online"})]}),(0,_h.jsxs)("div",{className:"flex items-center space-x-3 border-l border-slate-200 pl-3",children:[(null===s||void 0===s?void 0:s.photoURL)&&(0,_h.jsx)("img",{src:s.photoURL,alt:s.displayName,className:"w-8 h-8 rounded-full"}),(0,_h.jsxs)("div",{className:"text-right",children:[(0,_h.jsx)("p",{className:"text-sm font-medium text-slate-900",children:null===s||void 0===s?void 0:s.displayName}),(0,_h.jsx)("p",{className:"text-xs text-slate-500",children:"Healthcare Professional"})]}),(0,_h.jsx)("button",{onClick:h,disabled:a,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors rounded-lg hover:bg-slate-100",title:"Sign Out",children:(0,_h.jsx)(ob,{className:"w-4 h-4"})})]})]})]}),(0,_h.jsxs)("div",{className:"md:hidden flex items-center space-x-2",children:[(null===s||void 0===s?void 0:s.photoURL)&&(0,_h.jsx)("img",{src:s.photoURL,alt:s.displayName,className:"w-8 h-8 rounded-full"}),(0,_h.jsx)("button",{onClick:()=>c(!l),className:"p-2 text-slate-600 hover:text-slate-800 transition-colors",children:l?(0,_h.jsx)(lb,{className:"h-6 w-6"}):(0,_h.jsx)(cb,{className:"h-6 w-6"})})]})]})}),l&&(0,_h.jsx)("div",{className:"md:hidden bg-white/95 backdrop-blur-md border-t border-slate-200/50",children:(0,_h.jsxs)("div",{className:"px-4 py-4 space-y-2",children:[(0,_h.jsxs)("button",{onClick:()=>{u("/"),c(!1)},className:"flex items-center w-full text-left px-4 py-3 rounded-lg transition-all duration-200 font-medium ".concat("/"===d.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:[(0,_h.jsx)(sb,{className:"h-4 w-4 mr-3"}),"Dashboard"]}),(0,_h.jsx)("button",{onClick:()=>{u("/upload"),c(!1)},className:"block w-full text-left px-4 py-3 rounded-lg transition-all duration-200 font-medium ".concat("/upload"===d.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Screen"}),(0,_h.jsx)("button",{onClick:()=>{u("/reports"),c(!1)},className:"block w-full text-left px-4 py-3 rounded-lg transition-all duration-200 font-medium ".concat("/reports"===d.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Reports"}),(0,_h.jsx)("button",{onClick:()=>{u("/analytics"),c(!1)},className:"block w-full text-left px-4 py-3 rounded-lg transition-all duration-200 font-medium ".concat("/analytics"===d.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Analytics"}),(0,_h.jsx)("button",{onClick:()=>{u("/home"),c(!1)},className:"block w-full text-left px-4 py-3 rounded-lg transition-all duration-200 font-medium ".concat("/home"===d.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"About"}),(0,_h.jsx)("div",{className:"pt-2 border-t border-slate-200",children:(0,_h.jsxs)("button",{onClick:()=>{h(),c(!1)},disabled:a,className:"flex items-center w-full text-left px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-all duration-200 font-medium",children:[(0,_h.jsx)(ob,{className:"h-4 w-4 mr-3"}),a?"Signing Out...":"Sign Out"]})})]})})]}),(0,_h.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,_h.jsxs)(Ux.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:[(0,_h.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:w?"Welcome, ".concat(null===s||void 0===s||null===(n=s.displayName)||void 0===n?void 0:n.split(" ")[0],"!"):"Welcome back, ".concat(null===s||void 0===s||null===(r=s.displayName)||void 0===r?void 0:r.split(" ")[0])}),(0,_h.jsx)("p",{className:"text-gray-600",children:w?"Thank you for joining OpthalmoAI. Start your first diabetic retinopathy screening with AI-powered analysis.":"Ready to continue diabetic retinopathy screening with AI-powered analysis."})]}),(0,_h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_h.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Statistics Overview"}),(0,_h.jsxs)("p",{className:"text-xs text-gray-500",children:["Last updated: ",x.toLocaleTimeString()]})]}),(0,_h.jsx)(Ux.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:N.map((e,t)=>(0,_h.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,_h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_h.jsx)(e.icon,{className:"w-8 h-8 text-medical-600"}),(0,_h.jsx)("span",{className:"text-sm font-medium ".concat(e.change.startsWith("+")?"text-green-600":"text-red-600"),children:e.change})]}),(0,_h.jsx)("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.value}),(0,_h.jsx)("p",{className:"text-sm text-gray-600",children:e.label})]},e.label))}),(0,_h.jsxs)(Ux.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-8",children:[(0,_h.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Quick Actions"}),(0,_h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((e,t)=>(0,_h.jsxs)(Ux.button,{whileHover:e.comingSoon?{}:{scale:1.02,y:-2},whileTap:e.comingSoon?{}:{scale:.98},onClick:e.comingSoon?void 0:e.action,disabled:e.comingSoon,className:"bg-white rounded-xl p-6 shadow-sm border transition-all duration-200 text-left group ".concat(e.comingSoon?"border-gray-200 cursor-not-allowed opacity-75":"border-gray-200 hover:shadow-md cursor-pointer"),children:[(0,_h.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r ".concat(e.color," rounded-lg flex items-center justify-center mb-4 ").concat(e.comingSoon?"":"group-hover:scale-110"," transition-transform duration-200"),children:(0,_h.jsx)(e.icon,{className:"w-6 h-6 text-white"})}),(0,_h.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:e.title}),(0,_h.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,_h.jsxs)("div",{className:"flex items-center text-sm font-medium ".concat(e.comingSoon?"text-gray-400":"text-medical-600"),children:[(0,_h.jsx)("span",{children:e.comingSoon?"Coming Soon":"Get Started"}),!e.comingSoon&&(0,_h.jsx)(ub,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]},e.id))})]}),(0,_h.jsx)("div",{className:"grid grid-cols-1 gap-8",children:(0,_h.jsxs)(Ux.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,_h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_h.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),(0,_h.jsx)("button",{onClick:f,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",title:"Refresh activity",children:(0,_h.jsx)(ab,{className:"w-4 h-4"})})]}),(0,_h.jsx)("div",{className:"space-y-4",children:v.length>0?v.map((e,t)=>(0,_h.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,_h.jsx)(db,{className:"w-4 h-4 text-gray-400 mt-1 flex-shrink-0"}),(0,_h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_h.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.action}),(0,_h.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:e.patient}),(0,_h.jsx)("p",{className:"text-xs text-gray-500",children:e.details}),(0,_h.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:e.time})]}),(0,_h.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium flex-shrink-0 ".concat(e.risk.includes("No DR")?"bg-green-100 text-green-700":e.risk.includes("Mild")?"bg-yellow-100 text-yellow-700":e.risk.includes("Moderate")?"bg-orange-100 text-orange-700":e.risk.includes("Severe")||e.risk.includes("Proliferative")?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"),children:e.risk})]},t)):(0,_h.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,_h.jsx)(ab,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,_h.jsx)("p",{className:"text-sm",children:"No recent activity"}),(0,_h.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Start analyzing retinal images to see activity here"})]})}),(0,_h.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,_h.jsxs)("button",{onClick:()=>u("/reports"),className:"text-sm text-teal-600 hover:text-teal-700 font-medium flex items-center",children:["View all activity",(0,_h.jsx)(ub,{className:"w-4 h-4 ml-1"})]})})]})}),(0,_h.jsx)(Ux.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,_h.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_h.jsx)(Gx,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,_h.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,_h.jsx)("p",{className:"font-medium mb-1",children:"Medical Disclaimer"}),(0,_h.jsx)("p",{className:"leading-relaxed",children:"OpthalmoAI provides AI-assisted screening for diabetic retinopathy. Results are for screening purposes only and should not replace professional medical diagnosis. Always consult with qualified healthcare professionals for medical decisions."})]})]})})]}),(0,_h.jsx)("footer",{className:"relative bg-white/60 backdrop-blur-sm border-t border-slate-200/50 mt-20",children:(0,_h.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,_h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,_h.jsxs)("div",{children:[(0,_h.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,_h.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-100 to-blue-100 rounded-lg shadow-sm flex items-center justify-center",children:(0,_h.jsx)("img",{src:"/opthalmo-icon.svg",alt:"OpthalmoAI",className:"w-8 h-8"})}),(0,_h.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"OpthalmoAI"})]}),(0,_h.jsx)("p",{className:"text-slate-600 text-sm leading-relaxed",children:"AI-powered diabetic retinopathy screening platform designed to assist healthcare professionals in early detection and patient care."})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsxs)("h4",{className:"font-semibold text-slate-800 mb-4 flex items-center",children:[(0,_h.jsx)(hb,{className:"h-5 w-5 mr-2 text-teal-600"}),"Medical Notice"]}),(0,_h.jsxs)("p",{className:"text-slate-600 text-sm leading-relaxed",children:["This platform is an assistive screening tool and ",(0,_h.jsx)("strong",{children:"not a substitute for professional medical diagnosis"}),". Always consult with qualified healthcare providers for proper medical evaluation."]})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsxs)("h4",{className:"font-semibold text-slate-800 mb-4 flex items-center",children:[(0,_h.jsx)(Gx,{className:"h-5 w-5 mr-2 text-teal-600"}),"Privacy & Security"]}),(0,_h.jsxs)("ul",{className:"text-slate-600 text-sm space-y-2",children:[(0,_h.jsx)("li",{children:"\u2022 HIPAA-compliant data handling"}),(0,_h.jsx)("li",{children:"\u2022 Encrypted image processing"}),(0,_h.jsx)("li",{children:"\u2022 No permanent data storage"}),(0,_h.jsx)("li",{children:"\u2022 Secure, anonymized analysis"})]})]})]}),(0,_h.jsxs)("div",{className:"border-t border-slate-200/50 mt-8 pt-8 text-center",children:[(0,_h.jsxs)("p",{className:"text-slate-500 text-sm",children:["\xa9 2025 OpthalmoAI. Healthcare AI technology for diabetic retinopathy screening.",(0,_h.jsx)("span",{className:"text-teal-600 font-medium ml-2",children:"Always consult your healthcare provider."})]}),(0,_h.jsxs)("p",{className:"text-slate-400 text-xs mt-2",children:["Developed by ",(0,_h.jsx)("span",{className:"font-medium text-teal-500",children:"Pimpre"})]})]})]})})]})},pb=Hx("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),mb=(Hx("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Hx("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]])),gb=["variant","size","children","loading","className","disabled"],vb=["icon","variant","size","className"],yb=e=>{let{variant:t="primary",size:n="md",children:r,loading:i=!1,className:s="",disabled:a}=e,o=qf(e,gb);return(0,_h.jsxs)("button",mt(mt({className:"".concat("inline-flex items-center justify-center font-medium transition-all duration-300 rounded-full focus:outline-none focus:ring-4 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]"," ").concat({primary:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white shadow-lg hover:shadow-xl focus:ring-teal-300",secondary:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white shadow-lg hover:shadow-xl focus:ring-emerald-300",outline:"border-2 border-teal-300 text-teal-700 hover:bg-teal-50 hover:border-teal-400 focus:ring-teal-300",ghost:"text-slate-600 hover:bg-slate-100 hover:text-slate-800 focus:ring-slate-300"}[t]," ").concat({sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"}[n]," ").concat(s),disabled:a||i},o),{},{children:[i&&(0,_h.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,_h.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,_h.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]}))},xb=e=>{let{children:t,className:n="",hover:r=!1,glow:i=!1}=e;const s=r?"hover:shadow-2xl hover:bg-white/90 hover:-translate-y-1 cursor-pointer":"",a=i?"shadow-2xl shadow-teal-500/20":"shadow-xl";return(0,_h.jsx)("div",{className:"".concat("bg-white/80 backdrop-blur-sm border border-slate-200/50 rounded-2xl p-6 transition-all duration-300"," ").concat(s," ").concat(a," ").concat(n),children:t})},bb=e=>{let{icon:t,variant:n="primary",size:r="md",className:i=""}=e,s=qf(e,vb);return(0,_h.jsx)("button",mt(mt({className:"".concat("inline-flex items-center justify-center rounded-full transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-opacity-50 transform hover:scale-110 active:scale-95"," ").concat({primary:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white shadow-lg hover:shadow-xl focus:ring-teal-300",secondary:"bg-white/80 backdrop-blur-sm border border-slate-200 text-slate-600 hover:bg-white hover:text-teal-600 shadow-md hover:shadow-lg focus:ring-slate-300"}[n]," ").concat({sm:"w-10 h-10 text-sm",md:"w-12 h-12 text-base",lg:"w-16 h-16 text-lg"}[r]," ").concat(i)},s),{},{children:t}))},wb=e=>{let{children:t,variant:n="info",className:r=""}=e;return(0,_h.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ".concat({success:"bg-emerald-100 text-emerald-800 border-emerald-200",warning:"bg-amber-100 text-amber-800 border-amber-200",danger:"bg-red-100 text-red-800 border-red-200",info:"bg-blue-100 text-blue-800 border-blue-200"}[n]," ").concat(r),children:t})},Nb=e=>{let{value:t,max:n=100,className:r="",showLabel:i=!1}=e;const s=Math.min(t/n*100,100);return(0,_h.jsxs)("div",{className:"w-full ".concat(r),children:[(0,_h.jsx)("div",{className:"flex justify-between items-center mb-2",children:i&&(0,_h.jsxs)("span",{className:"text-sm font-medium text-slate-700",children:[Math.round(s),"%"]})}),(0,_h.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-3 overflow-hidden",children:(0,_h.jsx)("div",{className:"bg-gradient-to-r from-teal-500 to-blue-600 h-full rounded-full transition-all duration-500 ease-out",style:{width:"".concat(s,"%")}})})]})},kb=e=>{let{children:t,variant:n="info",className:r="",icon:i}=e;const s={info:(0,_h.jsx)(Wx,{className:"h-5 w-5"}),success:(0,_h.jsx)(Gx,{className:"h-5 w-5"}),warning:(0,_h.jsx)(mb,{className:"h-5 w-5"}),error:(0,_h.jsx)(hb,{className:"h-5 w-5"})};return(0,_h.jsx)("div",{className:"border rounded-lg p-4 ".concat({info:"bg-blue-50 border-blue-200 text-blue-800",success:"bg-emerald-50 border-emerald-200 text-emerald-800",warning:"bg-amber-50 border-amber-200 text-amber-800",error:"bg-red-50 border-red-200 text-red-800"}[n]," ").concat(r),children:(0,_h.jsxs)("div",{className:"flex items-start",children:[(0,_h.jsx)("div",{className:"flex-shrink-0 mr-3",children:i||s[n]}),(0,_h.jsx)("div",{className:"flex-1",children:t})]})})},Sb=e=>{let{children:t}=e;const[n,r]=i.useState(!1),{isHealthy:s,isLoading:a,healthData:o}=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;const[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),d=(0,i.useCallback)(async()=>(r(!0),l(null),u(null),void a(!1)),[e,s]);return(0,i.useEffect)(()=>(r(!0),l(null),u(null),void a(!1)),[e,t,d]),{isHealthy:n,isLoading:s,healthData:o,error:c,checkHealth:d}}(),l=ne(),c=ee(),u=e=>{l(e),r(!1)};return(0,_h.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-teal-50/50",children:[(0,_h.jsxs)("div",{className:"fixed inset-0 opacity-30 pointer-events-none",children:[(0,_h.jsx)("div",{className:"absolute top-20 right-20 w-96 h-96 rounded-full bg-gradient-to-r from-teal-200/40 to-blue-200/40 blur-3xl animate-pulse"}),(0,_h.jsx)("div",{className:"absolute bottom-20 left-20 w-80 h-80 rounded-full bg-gradient-to-r from-emerald-200/40 to-teal-200/40 blur-3xl animate-pulse delay-1000"}),(0,_h.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full border border-teal-200/30 opacity-50"}),(0,_h.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] rounded-full border border-blue-200/30 opacity-40"}),(0,_h.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[200px] h-[200px] rounded-full border border-emerald-200/30 opacity-30"})]}),(0,_h.jsxs)("nav",{className:"relative bg-white/80 backdrop-blur-md border-b border-slate-200/50 shadow-sm",children:[(0,_h.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_h.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,_h.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>u("/"),children:[(0,_h.jsx)("div",{className:"w-12 h-12 bg-white/10 backdrop-blur-sm rounded-xl shadow-lg flex items-center justify-center border border-white/20",children:(0,_h.jsx)("img",{src:"/opthalmo-icon.svg",alt:"OpthalmoAI",className:"w-10 h-10 drop-shadow-sm"})}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-teal-600 to-blue-600 bg-clip-text text-transparent",children:"OpthalmoAI"}),(0,_h.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"AI-Powered Retinal Screening"})]})]}),(0,_h.jsxs)("div",{className:"hidden md:flex items-center space-x-6",children:[(0,_h.jsxs)("nav",{className:"flex space-x-1",children:[(0,_h.jsxs)("button",{onClick:()=>u("/"),className:"px-4 py-2 rounded-lg transition-all duration-200 font-medium ".concat("/"===c.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:[(0,_h.jsx)(sb,{className:"h-4 w-4 inline mr-2"}),"Dashboard"]}),(0,_h.jsx)("button",{onClick:()=>u("/upload"),className:"px-4 py-2 rounded-lg transition-all duration-200 font-medium ".concat("/upload"===c.pathname||"/capture"===c.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Screen"}),(0,_h.jsx)("button",{onClick:()=>u("/reports"),className:"px-4 py-2 rounded-lg transition-all duration-200 font-medium ".concat("/reports"===c.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Reports"}),(0,_h.jsx)("button",{onClick:()=>u("/analytics"),className:"px-4 py-2 rounded-lg transition-all duration-200 font-medium ".concat("/analytics"===c.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Analytics"}),(0,_h.jsx)("button",{onClick:()=>u("/home"),className:"px-4 py-2 rounded-lg transition-all duration-200 font-medium ".concat("/home"===c.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"About"})]}),(0,_h.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,_h.jsx)("div",{className:"flex items-center space-x-2",title:"Production: Integrated AI System Active",children:(0,_h.jsxs)(_h.Fragment,{children:[(0,_h.jsx)(pb,{className:"h-4 w-4 text-emerald-600"}),(0,_h.jsx)(wb,{variant:"success",className:"text-xs",children:"AI Online"})]})}),(0,_h.jsxs)(yb,{variant:"outline",size:"sm",children:[(0,_h.jsx)(Gx,{className:"h-4 w-4 mr-2"}),"HIPAA Compliant"]})]})]}),(0,_h.jsx)("div",{className:"md:hidden",children:(0,_h.jsx)(bb,{icon:n?(0,_h.jsx)(lb,{className:"h-6 w-6"}):(0,_h.jsx)(cb,{className:"h-6 w-6"}),variant:"secondary",onClick:()=>r(!n)})})]})}),n&&(0,_h.jsx)("div",{className:"md:hidden bg-white/95 backdrop-blur-md border-t border-slate-200/50",children:(0,_h.jsxs)("div",{className:"px-4 py-4 space-y-2",children:[(0,_h.jsxs)("button",{onClick:()=>u("/"),className:"flex items-center w-full text-left px-4 py-3 rounded-lg transition-all duration-200 font-medium ".concat("/"===c.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:[(0,_h.jsx)(sb,{className:"h-4 w-4 mr-3"}),"Dashboard"]}),(0,_h.jsx)("button",{onClick:()=>u("/upload"),className:"block w-full text-left px-4 py-3 rounded-lg transition-all duration-200 font-medium ".concat("/upload"===c.pathname||"/capture"===c.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Screen"}),(0,_h.jsx)("button",{onClick:()=>u("/reports"),className:"block w-full text-left px-4 py-3 rounded-lg transition-all duration-200 font-medium ".concat("/reports"===c.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Reports"}),(0,_h.jsx)("button",{onClick:()=>u("/analytics"),className:"block w-full text-left px-4 py-3 rounded-lg transition-all duration-200 font-medium ".concat("/analytics"===c.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"Analytics"}),(0,_h.jsx)("button",{onClick:()=>u("/home"),className:"block w-full text-left px-4 py-3 rounded-lg transition-all duration-200 font-medium ".concat("/home"===c.pathname?"text-teal-600 bg-teal-50":"text-slate-600 hover:text-teal-600 hover:bg-teal-50"),children:"About"}),(0,_h.jsx)("div",{className:"pt-2",children:(0,_h.jsxs)(yb,{variant:"outline",size:"sm",className:"w-full",children:[(0,_h.jsx)(Gx,{className:"h-4 w-4 mr-2"}),"HIPAA Compliant"]})})]})})]}),!1,(0,_h.jsx)("main",{className:"relative",children:t}),(0,_h.jsx)("footer",{className:"relative bg-white/60 backdrop-blur-sm border-t border-slate-200/50 mt-20",children:(0,_h.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,_h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,_h.jsxs)("div",{children:[(0,_h.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,_h.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-100 to-blue-100 rounded-lg shadow-sm flex items-center justify-center",children:(0,_h.jsx)("img",{src:"/opthalmo-icon.svg",alt:"OpthalmoAI",className:"w-8 h-8"})}),(0,_h.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"OpthalmoAI"})]}),(0,_h.jsx)("p",{className:"text-slate-600 text-sm leading-relaxed",children:"AI-powered diabetic retinopathy screening platform designed to assist healthcare professionals in early detection and patient care."})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsxs)("h4",{className:"font-semibold text-slate-800 mb-4 flex items-center",children:[(0,_h.jsx)(hb,{className:"h-5 w-5 mr-2 text-teal-600"}),"Medical Notice"]}),(0,_h.jsxs)("p",{className:"text-slate-600 text-sm leading-relaxed",children:["This platform is an assistive screening tool and ",(0,_h.jsx)("strong",{children:"not a substitute for professional medical diagnosis"}),". Always consult with qualified healthcare providers for proper medical evaluation."]})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsxs)("h4",{className:"font-semibold text-slate-800 mb-4 flex items-center",children:[(0,_h.jsx)(Gx,{className:"h-5 w-5 mr-2 text-teal-600"}),"Privacy & Security"]}),(0,_h.jsxs)("ul",{className:"text-slate-600 text-sm space-y-2",children:[(0,_h.jsx)("li",{children:"\u2022 HIPAA-compliant data handling"}),(0,_h.jsx)("li",{children:"\u2022 Encrypted image processing"}),(0,_h.jsx)("li",{children:"\u2022 No permanent data storage"}),(0,_h.jsx)("li",{children:"\u2022 Secure, anonymized analysis"})]})]})]}),(0,_h.jsxs)("div",{className:"border-t border-slate-200/50 mt-8 pt-8 text-center",children:[(0,_h.jsxs)("p",{className:"text-slate-500 text-sm",children:["\xa9 2025 OpthalmoAI. Healthcare AI technology for diabetic retinopathy screening.",(0,_h.jsx)("span",{className:"text-teal-600 font-medium ml-2",children:"Always consult your healthcare provider."})]}),(0,_h.jsxs)("p",{className:"text-slate-400 text-xs mt-2",children:["Developed by ",(0,_h.jsx)("span",{className:"font-medium text-teal-500",children:"Pimpre"})]})]})]})})]})},Eb=Hx("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Tb=Hx("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),jb=Hx("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ib=Hx("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Cb=Hx("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),_b=Hx("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ab=Hx("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Pb=Hx("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Rb=Hx("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Db=Hx("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Ob=Hx("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Lb=Hx("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Mb=Hx("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Fb=()=>{const e=ne(),t=[{icon:qx,title:"Patient-Centered Care",description:"Every feature is designed with patient outcomes in mind, ensuring healthcare professionals have the tools they need for early detection and prevention."},{icon:Gx,title:"Privacy & Security",description:"HIPAA-compliant infrastructure with end-to-end encryption, ensuring patient data remains secure and private throughout the analysis process."},{icon:Eb,title:"AI Innovation",description:"Cutting-edge machine learning models trained on diverse datasets to provide accurate, reliable, and unbiased diabetic retinopathy screening."},{icon:Tb,title:"Global Accessibility",description:"Making advanced AI diagnostics accessible to healthcare providers worldwide, especially in underserved communities with limited access to specialists."}],n=[{icon:Wx,title:"Advanced AI Analysis",description:"State-of-the-art deep learning algorithms trained on thousands of retinal images for precise diabetic retinopathy detection across all stages.",stats:"94.7% Accuracy"},{icon:jb,title:"Real-Time Processing",description:"Get comprehensive analysis results in under 60 seconds with detailed confidence scores and clinical recommendations.",stats:"<60s Response"},{icon:Ib,title:"Healthcare Integration",description:"Seamlessly integrates into existing clinical workflows with support for DICOM standards and EHR systems.",stats:"200+ Partners"},{icon:Cb,title:"Clinical Validation",description:"Rigorously tested and validated with clinical studies, meeting FDA guidelines for medical AI devices.",stats:"FDA-Ready"}],r=[{label:"Detection Accuracy",value:"94.7%",icon:_b},{label:"Images Analyzed",value:"50K+",icon:Wx},{label:"Healthcare Partners",value:"200+",icon:Ib},{label:"Countries Served",value:"25+",icon:Tb}];return(0,_h.jsxs)(_h.Fragment,{children:[(0,_h.jsx)("section",{className:"relative py-12 sm:py-16 lg:py-20 overflow-hidden",children:(0,_h.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,_h.jsxs)("div",{className:"text-center mb-12 sm:mb-16",children:[(0,_h.jsxs)(wb,{variant:"info",className:"mb-6 text-sm px-4 py-2",children:[(0,_h.jsx)(Cb,{className:"h-4 w-4 mr-2"}),"Revolutionizing Eye Care with AI"]}),(0,_h.jsx)("div",{className:"flex flex-col items-center mb-8",children:(0,_h.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-teal-100",children:(0,_h.jsx)("img",{src:"/opthalmo-logo.svg",alt:"OpthalmoAI - AI-Powered Retinal Screening",className:"w-80 h-52 drop-shadow-lg"})})}),(0,_h.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-slate-800 mb-6 leading-tight px-4",children:"About OpthalmoAI"}),(0,_h.jsx)("p",{className:"text-base sm:text-lg lg:text-xl text-slate-600 max-w-4xl mx-auto mb-8 leading-relaxed px-4",children:"OpthalmoAI is a cutting-edge healthcare technology platform that harnesses the power of artificial intelligence to revolutionize diabetic retinopathy screening. Our mission is to make advanced eye care accessible to healthcare professionals worldwide, enabling early detection and better patient outcomes."}),(0,_h.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,_h.jsxs)(yb,{size:"lg",className:"w-full sm:w-auto px-8 py-4 min-h-[48px]",onClick:()=>e("/analysis"),children:[(0,_h.jsx)(Wx,{className:"h-5 w-5 mr-2"}),"Try Our Platform"]}),(0,_h.jsxs)(yb,{variant:"outline",size:"lg",className:"w-full sm:w-auto px-8 py-4 min-h-[48px]",onClick:()=>{const e=document.getElementById("mission-section");e&&e.scrollIntoView({behavior:"smooth"})},children:[(0,_h.jsx)(Ab,{className:"h-5 w-5 mr-2"}),"Our Mission"]})]})]}),(0,_h.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 mb-12 sm:mb-16",children:r.map((e,t)=>{const n=e.icon;return(0,_h.jsxs)(xb,{className:"text-center p-4 sm:p-6",hover:!0,children:[(0,_h.jsx)(n,{className:"h-6 w-6 sm:h-8 sm:w-8 text-teal-600 mx-auto mb-3"}),(0,_h.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-slate-800 mb-1",children:e.value}),(0,_h.jsx)("div",{className:"text-xs sm:text-sm text-slate-600",children:e.label})]},t)})})]})}),(0,_h.jsx)("section",{className:"py-12 sm:py-16 lg:py-20 bg-white/40 backdrop-blur-sm",id:"mission-section",children:(0,_h.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-6",children:"Our Mission"}),(0,_h.jsx)("p",{className:"text-base sm:text-lg text-slate-600 mb-6 leading-relaxed",children:"To democratize access to advanced eye care by providing healthcare professionals with AI-powered tools that enable early detection of diabetic retinopathy, ultimately preventing vision loss and improving patient quality of life worldwide."}),(0,_h.jsxs)("div",{className:"space-y-4",children:[(0,_h.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_h.jsx)(Pb,{className:"h-5 w-5 sm:h-6 sm:w-6 text-teal-600 mt-1 flex-shrink-0"}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h4",{className:"font-semibold text-slate-800 text-sm sm:text-base",children:"Early Detection"}),(0,_h.jsx)("p",{className:"text-slate-600 text-sm sm:text-base",children:"Identifying diabetic retinopathy in its earliest stages when treatment is most effective."})]})]}),(0,_h.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_h.jsx)(Pb,{className:"h-5 w-5 sm:h-6 sm:w-6 text-teal-600 mt-1 flex-shrink-0"}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h4",{className:"font-semibold text-slate-800 text-sm sm:text-base",children:"Global Accessibility"}),(0,_h.jsx)("p",{className:"text-slate-600 text-sm sm:text-base",children:"Making expert-level screening available in underserved communities and remote locations."})]})]}),(0,_h.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_h.jsx)(Pb,{className:"h-6 w-6 text-teal-600 mt-1 flex-shrink-0"}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h4",{className:"font-semibold text-slate-800",children:"Healthcare Empowerment"}),(0,_h.jsx)("p",{className:"text-slate-600",children:"Supporting healthcare professionals with AI-powered insights for better clinical decisions."})]})]})]})]}),(0,_h.jsx)("div",{children:(0,_h.jsxs)(xb,{className:"p-8 bg-gradient-to-br from-teal-50 to-blue-50 border-teal-200/50",children:[(0,_h.jsx)("h3",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Our Vision"}),(0,_h.jsx)("p",{className:"text-lg text-slate-600 mb-6 leading-relaxed",children:"A world where diabetic retinopathy-related blindness is preventable through accessible, accurate, and timely AI-powered screening."}),(0,_h.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-teal-700",children:[(0,_h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_h.jsx)(Tb,{className:"h-4 w-4"}),(0,_h.jsx)("span",{children:"Global Impact"})]}),(0,_h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_h.jsx)(qx,{className:"h-4 w-4"}),(0,_h.jsx)("span",{children:"Patient-First"})]}),(0,_h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_h.jsx)(Eb,{className:"h-4 w-4"}),(0,_h.jsx)("span",{children:"AI-Powered"})]})]})]})})]})})}),(0,_h.jsx)("section",{className:"py-20",children:(0,_h.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,_h.jsxs)("div",{className:"text-center mb-16",children:[(0,_h.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Our Core Values"}),(0,_h.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Every aspect of OpthalmoAI is built upon these fundamental principles that guide our technology development and healthcare partnerships."})]}),(0,_h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((e,t)=>{const n=e.icon;return(0,_h.jsx)(xb,{className:"p-8",hover:!0,children:(0,_h.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,_h.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-teal-500 to-blue-600 rounded-xl shadow-lg flex-shrink-0",children:(0,_h.jsx)(n,{className:"h-6 w-6 text-white"})}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:e.title}),(0,_h.jsx)("p",{className:"text-slate-600 leading-relaxed",children:e.description})]})]})},t)})})]})}),(0,_h.jsx)("section",{className:"py-20 bg-white/40 backdrop-blur-sm",children:(0,_h.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,_h.jsxs)("div",{className:"text-center mb-16",children:[(0,_h.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Advanced Healthcare Technology"}),(0,_h.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"OpthalmoAI combines cutting-edge artificial intelligence with clinical expertise to deliver reliable, accurate, and secure diabetic retinopathy screening."})]}),(0,_h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map((e,t)=>{const n=e.icon;return(0,_h.jsx)(xb,{className:"p-8",hover:!0,children:(0,_h.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,_h.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-teal-500 to-blue-600 rounded-xl shadow-lg flex-shrink-0",children:(0,_h.jsx)(n,{className:"h-6 w-6 text-white"})}),(0,_h.jsxs)("div",{className:"flex-1",children:[(0,_h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_h.jsx)("h3",{className:"text-xl font-semibold text-slate-800",children:e.title}),(0,_h.jsx)(wb,{variant:"success",className:"text-xs",children:e.stats})]}),(0,_h.jsx)("p",{className:"text-slate-600 leading-relaxed",children:e.description})]})]})},t)})})]})}),(0,_h.jsx)("section",{className:"py-20",children:(0,_h.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,_h.jsxs)("div",{className:"text-center mb-16",children:[(0,_h.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Expert Team"}),(0,_h.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Our multidisciplinary team combines medical expertise, AI research, and healthcare technology experience to deliver world-class solutions."})]}),(0,_h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Healthcare AI Team",role:"Medical Technology Specialists",description:"Experienced professionals combining medical expertise with AI innovation for better patient outcomes."},{name:"Clinical Advisory Board",role:"Ophthalmology Experts",description:"Board-certified ophthalmologists ensuring clinical relevance and accuracy in our AI models."},{name:"AI Research Division",role:"Machine Learning Engineers",description:"PhD-level researchers advancing the state of AI in medical imaging and diagnostic applications."}].map((e,t)=>(0,_h.jsxs)(xb,{className:"p-8 text-center",hover:!0,children:[(0,_h.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-teal-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,_h.jsx)(Ib,{className:"h-8 w-8 text-white"})}),(0,_h.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:e.name}),(0,_h.jsx)("p",{className:"text-teal-600 font-medium mb-3",children:e.role}),(0,_h.jsx)("p",{className:"text-slate-600 leading-relaxed",children:e.description})]},t))})]})}),(0,_h.jsx)("section",{className:"py-20 bg-white/40 backdrop-blur-sm",children:(0,_h.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,_h.jsxs)("div",{className:"text-center mb-16",children:[(0,_h.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Healthcare Compliance & Security"}),(0,_h.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"OpthalmoAI is built to meet the highest standards of healthcare security, privacy, and regulatory compliance."})]}),(0,_h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,_h.jsxs)(xb,{className:"p-8 text-center",hover:!0,children:[(0,_h.jsx)(Gx,{className:"h-12 w-12 text-teal-600 mx-auto mb-4"}),(0,_h.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"HIPAA Compliance"}),(0,_h.jsx)("p",{className:"text-slate-600 leading-relaxed",children:"Full HIPAA compliance with encrypted data transmission, secure storage, and automatic data deletion protocols."})]}),(0,_h.jsxs)(xb,{className:"p-8 text-center",hover:!0,children:[(0,_h.jsx)(Cb,{className:"h-12 w-12 text-teal-600 mx-auto mb-4"}),(0,_h.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"FDA Guidelines"}),(0,_h.jsx)("p",{className:"text-slate-600 leading-relaxed",children:"Developed following FDA guidelines for AI/ML-based medical devices with comprehensive clinical validation."})]}),(0,_h.jsxs)(xb,{className:"p-8 text-center",hover:!0,children:[(0,_h.jsx)(hb,{className:"h-12 w-12 text-teal-600 mx-auto mb-4"}),(0,_h.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Clinical Standards"}),(0,_h.jsx)("p",{className:"text-slate-600 leading-relaxed",children:"Adheres to international clinical standards for diabetic retinopathy classification and medical imaging protocols."})]})]})]})}),(0,_h.jsx)("section",{className:"py-20",children:(0,_h.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:(0,_h.jsxs)(xb,{className:"p-12 bg-gradient-to-r from-teal-50 to-blue-50 border-teal-200/50",glow:!0,children:[(0,_h.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Partner with OpthalmoAI"}),(0,_h.jsx)("p",{className:"text-lg text-slate-600 mb-8 max-w-2xl mx-auto",children:"Join healthcare institutions worldwide that trust OpthalmoAI for diabetic retinopathy screening. Contact us to learn how we can support your patient care initiatives."}),(0,_h.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:[(0,_h.jsxs)(yb,{size:"lg",className:"px-8 py-4",onClick:()=>e("/analysis"),children:[(0,_h.jsx)(Wx,{className:"h-5 w-5 mr-2"}),"Try Our Platform",(0,_h.jsx)(Rb,{className:"h-5 w-5 ml-2"})]}),(0,_h.jsxs)(yb,{variant:"outline",size:"lg",className:"px-8 py-4",onClick:()=>e("/reports"),children:[(0,_h.jsx)(Db,{className:"h-5 w-5 mr-2"}),"Partnership Inquiry"]})]}),(0,_h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8 pt-8 border-t border-teal-200/50",children:[(0,_h.jsxs)("div",{className:"flex items-center justify-center space-x-3 text-teal-700",children:[(0,_h.jsx)(Ob,{className:"h-5 w-5"}),(0,_h.jsx)("span",{className:"text-sm font-medium",children:"pimpretech@gmail.com"})]}),(0,_h.jsxs)("div",{className:"flex items-center justify-center space-x-3 text-teal-700",children:[(0,_h.jsx)(Lb,{className:"h-5 w-5"}),(0,_h.jsx)("span",{className:"text-sm font-medium",children:"Healthcare Partnerships"})]})]}),(0,_h.jsx)("div",{className:"mt-6 pt-4 border-t border-teal-200/30",children:(0,_h.jsxs)("p",{className:"text-sm text-slate-500 text-center",children:["Developed by ",(0,_h.jsx)("span",{className:"font-medium text-teal-600",children:"Pimpre"})]})}),(0,_h.jsxs)("div",{className:"flex items-center justify-center space-x-6 mt-6",children:[(0,_h.jsxs)("div",{className:"flex items-center space-x-2 text-teal-700",children:[(0,_h.jsx)(Pb,{className:"h-5 w-5"}),(0,_h.jsx)("span",{className:"text-sm font-medium",children:"HIPAA Compliant"})]}),(0,_h.jsxs)("div",{className:"flex items-center space-x-2 text-teal-700",children:[(0,_h.jsx)(Mb,{className:"h-5 w-5"}),(0,_h.jsx)("span",{className:"text-sm font-medium",children:"FDA-Ready Technology"})]}),(0,_h.jsxs)("div",{className:"flex items-center space-x-2 text-teal-700",children:[(0,_h.jsx)(ib,{className:"h-5 w-5"}),(0,_h.jsx)("span",{className:"text-sm font-medium",children:"Proven Results"})]})]})]})})})]})},Vb=Hx("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ub=Hx("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),zb=Hx("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Bb=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),d=(0,i.useRef)(null),h=(ne(),["image/jpeg","image/jpg","image/png","image/webp"]),f=(0,i.useCallback)(e=>{e&&Array.from(e).forEach(e=>{const n=(e=>h.includes(e.type)?e.size>10485760?"File size must be less than 10MB.":null:"Please upload JPEG, PNG, or WebP images only.")(e);if(n)return void a(n);const r=new FileReader;r.onload=n=>{var r;const i=null===(r=n.target)||void 0===r?void 0:r.result,s={file:e,preview:i,id:Date.now().toString()+Math.random().toString(36).substr(2,9)};t(e=>[...e,s]),a(null)},r.readAsDataURL(e)})},[]),p=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?l(!0):"dragleave"===e.type&&l(!1)},[]),m=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),l(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&f(e.dataTransfer.files)},[f]),g=async n=>{const r=e.findIndex(e=>e.id===n);if(-1!==r){t(e=>e.map(e=>e.id===n?mt(mt({},e),{},{analyzing:!0,error:void 0}):e));try{var i;const s=e[r],a=await Jx.analyzeImage(s.file);if(!a.success||null===(i=a.data)||void 0===i||!i.result)throw new Error(a.error||"Analysis failed");Zx.addScreeningResult({stage:a.data.result.stage,confidence:a.data.result.confidence,riskLevel:a.data.result.riskLevel,stageName:a.data.result.stageName||"Stage ".concat(a.data.result.stage),fileName:s.file.name,imageQuality:a.data.result.imageQuality}),t(e=>e.map(e=>{var t;return e.id===n?mt(mt({},e),{},{analyzing:!1,result:null===(t=a.data)||void 0===t?void 0:t.result,error:void 0}):e}))}catch(s){const e=s instanceof Error?s.message:"Analysis failed";t(t=>t.map(t=>t.id===n?mt(mt({},t),{},{analyzing:!1,error:e}):t))}}},v=async()=>{const n=e.filter(e=>!e.result&&!e.analyzing);if(0===n.length){return e.filter(e=>e.error&&!e.analyzing).length>0?(t(e=>e.map(e=>e.error?mt(mt({},e),{},{error:void 0}):e)),void setTimeout(()=>v(),100)):void a("All uploaded images have already been processed or are currently being analyzed.")}r(!0),a(null);for(const e of n)await g(e.id);r(!1)};return(0,_h.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,_h.jsxs)(Ux.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,_h.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-medical-500 to-medical-600 rounded-full mb-4",children:(0,_h.jsx)(mb,{className:"h-8 w-8 text-white"})}),(0,_h.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Upload Retinal Images"}),(0,_h.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Upload existing retinal fundus photographs or medical reports for AI-powered diabetic retinopathy analysis"})]}),(0,_h.jsx)(Ux.div,{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:(0,_h.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_h.jsx)(Vb,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,_h.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,_h.jsx)("p",{className:"font-medium mb-1",children:"Supported File Types:"}),(0,_h.jsx)("p",{children:"JPEG, PNG, WebP images up to 10MB each. High-quality retinal fundus photographs provide the best analysis results."})]})]})}),(0,_h.jsx)(Ux.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:(0,_h.jsxs)("div",{className:"\n            relative border-2 border-dashed rounded-lg p-8 text-center transition-all duration-300\n            ".concat(o?"border-medical-500 bg-medical-50":"border-gray-300 bg-gray-50 hover:border-medical-400 hover:bg-medical-25","\n            ").concat(e.length>0?"border-green-400 bg-green-50":"","\n          "),onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:m,children:[(0,_h.jsx)("input",{ref:d,type:"file",multiple:!0,accept:"image/*",onChange:e=>{f(e.target.files)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),(0,_h.jsxs)("div",{className:"space-y-4",children:[(0,_h.jsx)("div",{className:"mx-auto w-12 h-12 rounded-full flex items-center justify-center ".concat(e.length>0?"bg-green-100":"bg-medical-100"),children:e.length>0?(0,_h.jsx)(Pb,{className:"h-6 w-6 text-green-600"}):(0,_h.jsx)(eb,{className:"h-6 w-6 text-medical-600"})}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:e.length>0?"".concat(e.length," image(s) uploaded"):"Drag and drop retinal images here"}),(0,_h.jsx)("p",{className:"text-gray-600 mb-4",children:"or click to browse your files"}),(0,_h.jsxs)("button",{type:"button",onClick:()=>{var e;null===(e=d.current)||void 0===e||e.click()},className:"inline-flex items-center px-6 py-3 bg-medical-600 text-white rounded-lg font-medium hover:bg-medical-700 transition-colors duration-200",children:[(0,_h.jsx)(Ub,{className:"h-4 w-4 mr-2"}),"Choose Files"]})]})]})]})}),e.length>0&&(0,_h.jsxs)(Ux.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:[(0,_h.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Uploaded Images (",e.length,")"]}),(0,_h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,_h.jsx)("div",{className:"relative group",children:(0,_h.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,_h.jsx)("div",{className:"aspect-square bg-gray-100",children:(0,_h.jsx)("img",{src:e.preview,alt:"Retinal image preview",className:"w-full h-full object-cover"})}),(0,_h.jsxs)("div",{className:"p-3",children:[(0,_h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_h.jsx)(zb,{className:"h-4 w-4 text-gray-500"}),(0,_h.jsx)("span",{className:"text-sm text-gray-900 truncate font-medium",children:e.file.name})]}),(0,_h.jsx)("button",{onClick:()=>(e=>{t(t=>t.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:(0,_h.jsx)(lb,{className:"h-4 w-4"})})]}),(0,_h.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(e.file.size/1024/1024).toFixed(2)," MB"]}),(0,_h.jsxs)("div",{className:"mt-3 space-y-2",children:[!e.result&&!e.analyzing&&(0,_h.jsxs)("button",{onClick:()=>g(e.id),className:"w-full px-3 py-2 bg-medical-600 text-white text-sm rounded-lg hover:bg-medical-700 transition-colors flex items-center justify-center space-x-2",children:[(0,_h.jsx)(mb,{className:"h-4 w-4"}),(0,_h.jsx)("span",{children:"Analyze"})]}),e.analyzing&&(0,_h.jsxs)("div",{className:"w-full px-3 py-2 bg-gray-100 text-gray-600 text-sm rounded-lg flex items-center justify-center space-x-2",children:[(0,_h.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-medical-600"}),(0,_h.jsx)("span",{children:"Analyzing..."})]}),e.result&&(0,_h.jsxs)("button",{onClick:()=>u(e.id),className:"w-full px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[(0,_h.jsx)(Pb,{className:"h-4 w-4"}),(0,_h.jsx)("span",{children:"View Results"})]}),e.error&&(0,_h.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,_h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_h.jsx)(Qx,{className:"h-4 w-4 text-red-600"}),(0,_h.jsx)("span",{className:"text-sm text-red-800",children:e.error})]})})]})]})]})},e.id))})]}),c&&(0,_h.jsx)(Ux.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(()=>{const t=e.find(e=>e.id===c);if(null===t||void 0===t||!t.result)return null;const n=t.result;let r,i,s;switch(n.stage){case 0:r="No DR",i="border-green-200 bg-green-50",s="No diabetic retinopathy detected";break;case 1:r="Mild DR",i="border-yellow-200 bg-yellow-50",s="Mild non-proliferative diabetic retinopathy";break;case 2:r="Moderate DR",i="border-orange-200 bg-orange-50",s="Moderate non-proliferative diabetic retinopathy";break;case 3:r="Severe DR",i="border-red-200 bg-red-50",s="Severe non-proliferative diabetic retinopathy";break;case 4:r="Proliferative DR",i="border-red-200 bg-red-50",s="Proliferative diabetic retinopathy";break;default:r="Unknown",i="border-gray-200 bg-gray-50",s="Unable to determine"}return(0,_h.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:[(0,_h.jsx)("div",{className:"bg-gradient-to-r from-medical-600 to-clinical-600 text-white p-4",children:(0,_h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h2",{className:"text-xl font-bold",children:"AI Analysis Results"}),(0,_h.jsx)("p",{className:"text-medical-100 text-sm",children:t.file.name})]}),(0,_h.jsx)("button",{onClick:()=>u(null),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,_h.jsx)(lb,{className:"h-5 w-5"})})]})}),(0,_h.jsx)("div",{className:"p-6",children:(0,_h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,_h.jsxs)("div",{className:"space-y-4",children:[(0,_h.jsx)("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:(0,_h.jsx)("img",{src:t.preview,alt:"Retinal analysis",className:"w-full h-full object-cover"})}),(0,_h.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,_h.jsxs)("p",{children:[(0,_h.jsx)("strong",{children:"File Size:"})," ",(t.file.size/1024/1024).toFixed(2)," MB"]}),(0,_h.jsxs)("p",{children:[(0,_h.jsx)("strong",{children:"File Type:"})," ",t.file.type]}),n.imageQuality&&(0,_h.jsxs)(_h.Fragment,{children:[(0,_h.jsxs)("p",{children:[(0,_h.jsx)("strong",{children:"Resolution:"})," ",n.imageQuality.resolution]}),(0,_h.jsxs)("p",{children:[(0,_h.jsx)("strong",{children:"Quality Score:"})," ",(100*n.imageQuality.qualityScore).toFixed(0),"%"]}),(0,_h.jsxs)("p",{children:[(0,_h.jsx)("strong",{children:"Brightness:"})," ",n.imageQuality.brightness]}),(0,_h.jsxs)("p",{children:[(0,_h.jsx)("strong",{children:"Contrast:"})," ",n.imageQuality.contrast]})]})]})]}),(0,_h.jsxs)("div",{className:"space-y-6",children:[(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Diabetic Retinopathy Classification"}),(0,_h.jsxs)("div",{className:"p-4 rounded-lg border-2 ".concat(i),children:[(0,_h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_h.jsxs)("span",{className:"text-lg font-bold text-gray-800",children:["Stage ",n.stage,": ",r]}),(0,_h.jsxs)("span",{className:"text-sm px-2 py-1 bg-medical-100 text-medical-800 rounded-full",children:[(100*n.confidence).toFixed(1),"% Confidence"]})]}),(0,_h.jsx)("p",{className:"text-gray-700 text-sm",children:s})]})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"AI Confidence Analysis"}),(0,_h.jsxs)("div",{className:"space-y-3",children:[(0,_h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,_h.jsx)("span",{children:"Confidence Level"}),(0,_h.jsxs)("span",{className:"font-medium",children:[(100*n.confidence).toFixed(1),"%"]})]}),(0,_h.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,_h.jsx)("div",{className:"bg-gradient-to-r from-medical-500 to-clinical-500 h-3 rounded-full transition-all duration-500",style:{width:"".concat(100*n.confidence,"%")}})}),(0,_h.jsxs)("div",{className:"grid grid-cols-3 text-xs text-gray-500",children:[(0,_h.jsx)("span",{children:"Low (0-60%)"}),(0,_h.jsx)("span",{className:"text-center",children:"Moderate (60-80%)"}),(0,_h.jsx)("span",{className:"text-right",children:"High (80-100%)"})]})]})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Analysis Details"}),(0,_h.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,_h.jsx)("p",{className:"text-gray-700 leading-relaxed",children:n.description})})]}),n.analysisFactors&&n.analysisFactors.length>0&&(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Key Analysis Factors"}),(0,_h.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,_h.jsx)("div",{className:"grid grid-cols-1 gap-2",children:n.analysisFactors.map((e,t)=>(0,_h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_h.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,_h.jsx)("span",{className:"text-blue-800 text-sm font-medium",children:e})]},t))}),(0,_h.jsx)("div",{className:"mt-3 pt-3 border-t border-blue-200",children:(0,_h.jsxs)("span",{className:"text-blue-700 text-sm",children:["Risk Score: ",(0,_h.jsx)("strong",{children:n.riskScore})]})})]})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Medical Recommendations"}),(0,_h.jsx)("div",{className:"space-y-2",children:(0,_h.jsxs)("div",{className:"p-4 rounded-lg border ".concat(0===n.stage?"bg-green-50 border-green-200":n.stage<=2?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"),children:[(0,_h.jsx)("div",{className:"space-y-2",children:n.recommendations&&n.recommendations.map((e,t)=>(0,_h.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,_h.jsx)("div",{className:"w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ".concat(0===n.stage?"bg-green-500":n.stage<=2?"bg-yellow-500":"bg-red-500")}),(0,_h.jsx)("span",{className:"text-sm ".concat(0===n.stage?"text-green-800":n.stage<=2?"text-yellow-800":"text-red-800"),children:e})]},t))}),(0,_h.jsxs)("div",{className:"mt-3 pt-3 border-t text-xs ".concat(0===n.stage?"border-green-200 text-green-700":n.stage<=2?"border-yellow-200 text-yellow-700":"border-red-200 text-red-700"),children:["Risk Level: ",(0,_h.jsx)("strong",{className:"capitalize",children:n.riskLevel})," | Analysis ID: ",n.id]})]})})]})]})]})})]})})()}),s&&(0,_h.jsx)(Ux.div,{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,_h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_h.jsx)(Qx,{className:"h-5 w-5 text-red-600"}),(0,_h.jsx)("p",{className:"text-red-800",children:s})]})}),e.length>0&&e.some(e=>!e.result&&!e.analyzing)&&(0,_h.jsx)(Ux.div,{className:"flex justify-center mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:(0,_h.jsx)("button",{onClick:v,disabled:n,className:"\n              px-8 py-4 rounded-lg font-medium text-lg transition-all duration-200 flex items-center space-x-3\n              ".concat(n?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-medical-600 to-clinical-600 text-white hover:from-medical-700 hover:to-clinical-700 shadow-lg hover:shadow-xl transform hover:scale-105","\n            "),children:n?(0,_h.jsxs)(_h.Fragment,{children:[(0,_h.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,_h.jsx)("span",{children:"Analyzing All..."})]}):(0,_h.jsxs)(_h.Fragment,{children:[(0,_h.jsx)(mb,{className:"h-5 w-5"}),(0,_h.jsx)("span",{children:"Analyze All Remaining"})]})})}),(0,_h.jsx)(Ux.div,{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},children:(0,_h.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,_h.jsx)(Qx,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,_h.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,_h.jsx)("p",{className:"font-medium mb-1",children:"Medical Disclaimer"}),(0,_h.jsx)("p",{children:"This AI analysis is for screening purposes only and should not replace professional medical diagnosis. Always consult with a qualified healthcare professional for proper medical evaluation and treatment decisions."})]})]})})]})},Hb=Hx("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Wb=Hx("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),qb=Hx("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Gb=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),d=(0,i.useRef)(null),h=(0,i.useRef)(null),f=(0,i.useRef)(null),p=(0,i.useRef)(null),m=ne(),g=()=>{f.current&&(f.current.getTracks().forEach(e=>e.stop()),f.current=null),l(!1)};return(0,i.useEffect)(()=>()=>{g()},[]),(0,_h.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,_h.jsxs)(Ux.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,_h.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-clinical-500 to-clinical-600 rounded-full mb-4",children:(0,_h.jsx)(tb,{className:"h-8 w-8 text-white"})}),(0,_h.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Capture Retinal Images"}),(0,_h.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Take new retinal photographs using your device camera or select from your photo gallery for immediate AI analysis"})]}),(0,_h.jsx)(Ux.div,{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:(0,_h.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_h.jsx)(Vb,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,_h.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,_h.jsx)("p",{className:"font-medium mb-1",children:"Camera Capture Tips:"}),(0,_h.jsx)("p",{children:"Ensure good lighting, hold the device steady, and capture clear, focused images of the retina. Use the back camera for better quality when available."})]})]})}),(0,_h.jsx)(Ux.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:(0,_h.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,_h.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,_h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_h.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Camera Capture"}),(0,_h.jsx)("div",{className:"flex space-x-2",children:o?(0,_h.jsxs)(_h.Fragment,{children:[(0,_h.jsxs)("button",{onClick:()=>{if(!d.current||!h.current)return;const e=h.current,n=d.current,r=e.getContext("2d");r&&(e.width=n.videoWidth,e.height=n.videoHeight,r.drawImage(n,0,0,e.width,e.height),e.toBlob(n=>{if(!n)return;const r={blob:n,preview:e.toDataURL("image/jpeg",.8),id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date};t(e=>[...e,r]),a(null)},"image/jpeg",.8))},className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors duration-200",children:[(0,_h.jsx)(tb,{className:"h-4 w-4 mr-2"}),"Capture"]}),(0,_h.jsxs)("button",{onClick:g,className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors duration-200",children:[(0,_h.jsx)(Wb,{className:"h-4 w-4 mr-2"}),"Stop"]})]}):(0,_h.jsxs)("button",{onClick:async()=>{try{u(null);const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});d.current&&(d.current.srcObject=e,f.current=e,l(!0))}catch(e){console.error("Camera access error:",e),u("Unable to access camera. Please check permissions or use file upload instead.")}},className:"inline-flex items-center px-4 py-2 bg-clinical-600 text-white rounded-lg font-medium hover:bg-clinical-700 transition-colors duration-200",children:[(0,_h.jsx)(Hb,{className:"h-4 w-4 mr-2"}),"Start Camera"]})})]})}),(0,_h.jsx)("div",{className:"relative bg-gray-900 aspect-video",children:o?(0,_h.jsx)("video",{ref:d,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}):(0,_h.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,_h.jsxs)("div",{className:"text-center text-gray-400",children:[(0,_h.jsx)(tb,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),(0,_h.jsx)("p",{className:"text-lg font-medium",children:"Camera Preview"}),(0,_h.jsx)("p",{className:"text-sm",children:'Click "Start Camera" to begin'})]})})}),c&&(0,_h.jsx)("div",{className:"p-4 bg-red-50 border-t border-red-200",children:(0,_h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_h.jsx)(Qx,{className:"h-5 w-5 text-red-600"}),(0,_h.jsx)("p",{className:"text-red-800 text-sm",children:c})]})})]})}),(0,_h.jsx)(Ux.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:(0,_h.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,_h.jsxs)("div",{className:"text-center",children:[(0,_h.jsx)(qb,{className:"h-12 w-12 text-clinical-600 mx-auto mb-4"}),(0,_h.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Or Select from Gallery"}),(0,_h.jsx)("p",{className:"text-gray-600 mb-4",children:"Choose existing photos from your device gallery"}),(0,_h.jsx)("input",{ref:p,type:"file",multiple:!0,accept:"image/*",onChange:e=>{const n=e.target.files;n&&Array.from(n).forEach(e=>{if(!e.type.startsWith("image/"))return void a("Please select image files only.");if(e.size>10485760)return void a("File size must be less than 10MB.");const n=new FileReader;n.onload=n=>{var r;const i=null===(r=n.target)||void 0===r?void 0:r.result,s={blob:e,preview:i,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date};t(e=>[...e,s]),a(null)},n.readAsDataURL(e)})},className:"hidden"}),(0,_h.jsxs)("button",{onClick:()=>{var e;null===(e=p.current)||void 0===e||e.click()},className:"inline-flex items-center px-6 py-3 bg-clinical-600 text-white rounded-lg font-medium hover:bg-clinical-700 transition-colors duration-200",children:[(0,_h.jsx)(zb,{className:"h-4 w-4 mr-2"}),"Choose from Gallery"]})]})})}),e.length>0&&(0,_h.jsxs)(Ux.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:[(0,_h.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Captured Images (",e.length,")"]}),(0,_h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,_h.jsx)("div",{className:"relative group",children:(0,_h.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,_h.jsx)("div",{className:"aspect-square bg-gray-100",children:(0,_h.jsx)("img",{src:e.preview,alt:"Captured retinal image",className:"w-full h-full object-cover"})}),(0,_h.jsxs)("div",{className:"p-3",children:[(0,_h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_h.jsx)(tb,{className:"h-4 w-4 text-gray-500"}),(0,_h.jsx)("span",{className:"text-sm text-gray-900 font-medium",children:e.timestamp.toLocaleTimeString()})]}),(0,_h.jsx)("button",{onClick:()=>(e=>{t(t=>t.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:(0,_h.jsx)(lb,{className:"h-4 w-4"})})]}),(0,_h.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Captured: ",e.timestamp.toLocaleDateString()]})]})]})},e.id))})]}),s&&(0,_h.jsx)(Ux.div,{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,_h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_h.jsx)(Qx,{className:"h-5 w-5 text-red-600"}),(0,_h.jsx)("p",{className:"text-red-800",children:s})]})}),(0,_h.jsx)(Ux.div,{className:"flex justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},children:(0,_h.jsx)("button",{onClick:async()=>{if(0!==e.length){r(!0),a(null);try{const t=e[0],n=new File([t.blob],"retinal-capture-".concat(t.timestamp.getTime(),".jpg"),{type:"image/jpeg"}),r=await Jx.analyzeImage(n);if(!r.success||!r.data)throw new Error(r.error||"Analysis failed");m("/results/".concat(r.data.result.id))}catch(t){0,a(t instanceof Error?t.message:"Failed to analyze captured image")}finally{r(!1)}}else a("Please capture or select at least one image.")},disabled:0===e.length||n,className:"\n            px-8 py-4 rounded-lg font-medium text-lg transition-all duration-200 flex items-center space-x-3\n            ".concat(e.length>0&&!n?"bg-gradient-to-r from-clinical-600 to-medical-600 text-white hover:from-clinical-700 hover:to-medical-700 shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed","\n          "),children:n?(0,_h.jsxs)(_h.Fragment,{children:[(0,_h.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,_h.jsx)("span",{children:"Analyzing..."})]}):(0,_h.jsxs)(_h.Fragment,{children:[(0,_h.jsx)(tb,{className:"h-5 w-5"}),(0,_h.jsx)("span",{children:"Start AI Analysis"})]})})}),(0,_h.jsx)(Ux.div,{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.6},children:(0,_h.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,_h.jsx)(Qx,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,_h.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,_h.jsx)("p",{className:"font-medium mb-1",children:"Medical Disclaimer"}),(0,_h.jsx)("p",{children:"This AI analysis is for screening purposes only and should not replace professional medical diagnosis. Always consult with a qualified healthcare professional for proper medical evaluation and treatment decisions."})]})]})}),(0,_h.jsx)("canvas",{ref:h,style:{display:"none"}})]})},Kb=Hx("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Qb=Hx("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Xb=Hx("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$b=Hx("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Yb=Hx("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Jb=Hx("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Zb=e=>{let{result:t,onNewAnalysis:n}=e;const[r,s]=(0,i.useState)(!1),a=(e=>{const t={0:{title:"No Diabetic Retinopathy",description:"No signs of diabetic retinopathy detected",color:"emerald",icon:Pb,severity:"Normal"},1:{title:"Mild Nonproliferative DR",description:"Mild changes in blood vessels detected",color:"blue",icon:Vb,severity:"Mild"},2:{title:"Moderate Nonproliferative DR",description:"Moderate changes requiring monitoring",color:"amber",icon:Kb,severity:"Moderate"},3:{title:"Severe Nonproliferative DR",description:"Significant changes requiring attention",color:"orange",icon:Kb,severity:"Severe"},4:{title:"Proliferative Diabetic Retinopathy",description:"Advanced stage requiring immediate care",color:"red",icon:Qb,severity:"Critical"}};return t[e]||t[0]})(t.stage),o=a.icon;return(0,_h.jsxs)("div",{className:"space-y-6",children:[(0,_h.jsx)(kb,{variant:"warning",className:"bg-amber-50/80 backdrop-blur-sm border-amber-200/50",children:(0,_h.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_h.jsx)(hb,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("p",{className:"font-medium text-amber-800 mb-1",children:"Important Medical Notice"}),(0,_h.jsxs)("p",{className:"text-amber-700 text-sm",children:["These results are generated by AI analysis and are intended to ",(0,_h.jsx)("strong",{children:"assist healthcare professionals only"}),". This is ",(0,_h.jsx)("strong",{children:"not a medical diagnosis"}),". Please consult with an ophthalmologist for proper medical evaluation and treatment decisions."]})]})]})}),(0,_h.jsxs)(xb,{className:"relative overflow-hidden",glow:!0,children:[(0,_h.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"AI Analysis Results"}),(0,_h.jsxs)("p",{className:"text-slate-600",children:["Generated on ",(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),(0,_h.jsxs)(wb,{variant:(e=>{switch(e){case"low":return"success";case"moderate":return"warning";case"high":return"danger";default:return"info"}})(t.riskLevel),className:"text-sm px-3 py-1",children:[t.riskLevel.toUpperCase()," RISK"]})]}),(0,_h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,_h.jsxs)("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-".concat(a.color,"-50 to-").concat(a.color,"-100 border border-").concat(a.color,"-200"),children:[(0,_h.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,_h.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-".concat(a.color,"-500 rounded-xl shadow-md"),children:(0,_h.jsx)(o,{className:"h-7 w-7 text-white"})}),(0,_h.jsxs)("div",{children:[(0,_h.jsxs)("h3",{className:"text-lg font-bold text-".concat(a.color,"-800"),children:["Stage ",t.stage]}),(0,_h.jsx)("p",{className:"text-".concat(a.color,"-600 font-medium"),children:a.severity})]})]}),(0,_h.jsx)("h4",{className:"font-semibold text-".concat(a.color,"-800 mb-2"),children:a.title}),(0,_h.jsx)("p",{className:"text-".concat(a.color,"-700 text-sm"),children:a.description})]}),(0,_h.jsxs)("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-teal-100 border border-blue-200",children:[(0,_h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_h.jsx)("h3",{className:"text-lg font-bold text-blue-800",children:"AI Confidence"}),(0,_h.jsx)(ib,{className:"h-6 w-6 text-blue-600"})]}),(0,_h.jsxs)("div",{className:"space-y-3",children:[(0,_h.jsxs)("div",{className:"text-3xl font-bold text-blue-800",children:[Math.round(100*t.confidence),"%"]}),(0,_h.jsx)(Nb,{value:100*t.confidence,className:"h-2"}),(0,_h.jsx)("p",{className:"text-blue-700 text-sm",children:"Model confidence in the analysis result"})]})]})]}),(0,_h.jsx)("div",{className:"mb-6",children:(0,_h.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 p-6 rounded-2xl border border-blue-200/50",children:[(0,_h.jsxs)("div",{className:"flex items-center mb-5",children:[(0,_h.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-500 to-teal-500 rounded-xl shadow-lg mr-3",children:(0,_h.jsx)(Wx,{className:"h-5 w-5 text-white"})}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Medical Recommendations"}),(0,_h.jsx)("p",{className:"text-slate-600 text-sm",children:"Evidence-based guidance for optimal care"})]})]}),(0,_h.jsx)("div",{className:"space-y-3",children:t.recommendations.map((e,t)=>{const n=e.includes("URGENT")||e.includes("EMERGENCY"),r=e.includes("\u26a0\ufe0f")||e.includes("\ud83d\udea8"),i=e.includes("\u2705")||e.includes("No diabetic retinopathy");return(0,_h.jsxs)("div",{className:"group relative overflow-hidden rounded-xl border transition-all duration-200 hover:shadow-md ".concat(n?"bg-gradient-to-r from-red-50 to-orange-50 border-red-200 hover:border-red-300":r?"bg-gradient-to-r from-amber-50 to-yellow-50 border-amber-200 hover:border-amber-300":i?"bg-gradient-to-r from-emerald-50 to-green-50 border-emerald-200 hover:border-emerald-300":"bg-gradient-to-r from-slate-50 to-blue-50 border-slate-200 hover:border-blue-300"),children:[(0,_h.jsxs)("div",{className:"flex items-start space-x-4 p-4",children:[(0,_h.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center shadow-sm ".concat(n?"bg-gradient-to-br from-red-500 to-orange-500":r?"bg-gradient-to-br from-amber-500 to-yellow-500":i?"bg-gradient-to-br from-emerald-500 to-green-500":"bg-gradient-to-br from-blue-500 to-teal-500"),children:(0,_h.jsx)("span",{className:"text-white font-bold text-sm",children:t+1})}),(0,_h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_h.jsx)("p",{className:"leading-relaxed ".concat(n?"text-red-800 font-medium":r?"text-amber-800 font-medium":i?"text-emerald-800":"text-slate-700"),children:e}),(n||r)&&(0,_h.jsx)("div",{className:"mt-2",children:(0,_h.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ".concat(n?"bg-red-100 text-red-800 border border-red-200":"bg-amber-100 text-amber-800 border border-amber-200"),children:n?"\ud83d\udea8 High Priority":"\u26a0\ufe0f Important"})}),i&&(0,_h.jsx)("div",{className:"mt-2",children:(0,_h.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 border border-emerald-200",children:"\u2705 Positive Finding"})})]})]}),(0,_h.jsx)("div",{className:"absolute left-0 top-0 w-1 h-full ".concat(n?"bg-gradient-to-b from-red-500 to-orange-500":r?"bg-gradient-to-b from-amber-500 to-yellow-500":i?"bg-gradient-to-b from-emerald-500 to-green-500":"bg-gradient-to-b from-blue-500 to-teal-500")})]},t)})}),(0,_h.jsx)("div",{className:"mt-4 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-blue-200/30",children:(0,_h.jsxs)("p",{className:"text-xs text-slate-600 flex items-start",children:[(0,_h.jsx)(Gx,{className:"h-3 w-3 text-blue-500 mr-1 mt-0.5 flex-shrink-0"}),(0,_h.jsxs)("span",{children:[(0,_h.jsx)("strong",{children:"Medical Guidance:"})," These recommendations are AI-generated suggestions based on image analysis. Always consult with qualified healthcare professionals for personalized medical advice and treatment decisions."]})]})})]})}),(0,_h.jsxs)("div",{className:"flex flex-wrap gap-3 pt-6 border-t border-slate-200/50",children:[(0,_h.jsxs)(yb,{onClick:()=>{console.log("Generating PDF report...")},variant:"primary",children:[(0,_h.jsx)(Xb,{className:"h-4 w-4 mr-2"}),"Download Report"]}),(0,_h.jsxs)(yb,{onClick:()=>{window.print()},variant:"outline",children:[(0,_h.jsx)($b,{className:"h-4 w-4 mr-2"}),"Print Results"]}),(0,_h.jsxs)(yb,{onClick:()=>{navigator.share&&navigator.share({title:"OpthalmoAI Retinal Screening Result",text:"Diabetic Retinopathy Analysis: Stage ".concat(t.stage," detected with ").concat(Math.round(100*t.confidence),"% confidence")})},variant:"outline",children:[(0,_h.jsx)(Yb,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,_h.jsxs)(yb,{onClick:n,variant:"ghost",children:[(0,_h.jsx)(Wx,{className:"h-4 w-4 mr-2"}),"New Analysis"]})]})]}),(0,_h.jsxs)(xb,{children:[(0,_h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_h.jsx)("h3",{className:"text-lg font-semibold text-slate-800",children:"Understanding Your Results"}),(0,_h.jsx)(yb,{variant:"ghost",size:"sm",onClick:()=>s(!r),children:r?"Hide Details":"Show Details"})]}),r&&(0,_h.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-200/50",children:[t.analysisDetails&&(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h4",{className:"font-medium text-slate-800 mb-3",children:"Clinical Analysis Details"}),(0,_h.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[t.analysisDetails.fundusFeatures&&(0,_h.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg",children:[(0,_h.jsx)("h5",{className:"font-medium text-slate-700 mb-2",children:"Fundus Features"}),(0,_h.jsxs)("div",{className:"space-y-1",children:[(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Microaneurysms:"}),(0,_h.jsx)("span",{className:"font-medium",children:t.analysisDetails.fundusFeatures.microaneurysms})]}),(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Hemorrhages:"}),(0,_h.jsx)("span",{className:"font-medium",children:t.analysisDetails.fundusFeatures.hemorrhages})]}),(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Hard Exudates:"}),(0,_h.jsx)("span",{className:"font-medium",children:t.analysisDetails.fundusFeatures.exudates})]}),(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Cotton Wool Spots:"}),(0,_h.jsx)("span",{className:"font-medium",children:t.analysisDetails.fundusFeatures.cottonWoolSpots})]}),(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Neovascularization:"}),(0,_h.jsx)("span",{className:"font-medium ".concat(t.analysisDetails.fundusFeatures.neovascularization?"text-red-600":"text-green-600"),children:t.analysisDetails.fundusFeatures.neovascularization?"Present":"Absent"})]})]})]}),t.analysisDetails.vesselsAnalysis&&(0,_h.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg",children:[(0,_h.jsx)("h5",{className:"font-medium text-slate-700 mb-2",children:"Vessel Analysis"}),(0,_h.jsxs)("div",{className:"space-y-1",children:[(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"A/V Ratio:"}),(0,_h.jsx)("span",{className:"font-medium",children:t.analysisDetails.vesselsAnalysis.arteriovenousRatio})]}),(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Caliber:"}),(0,_h.jsx)("span",{className:"font-medium",children:t.analysisDetails.vesselsAnalysis.caliber})]}),(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Tortuosity:"}),(0,_h.jsx)("span",{className:"font-medium",children:t.analysisDetails.vesselsAnalysis.tortuosity})]})]})]}),t.analysisDetails.macularAssessment&&(0,_h.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg",children:[(0,_h.jsx)("h5",{className:"font-medium text-slate-700 mb-2",children:"Macular Assessment"}),(0,_h.jsxs)("div",{className:"space-y-1",children:[(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Macular Edema:"}),(0,_h.jsx)("span",{className:"font-medium ".concat(t.analysisDetails.macularAssessment.edemaPresent?"text-red-600":"text-green-600"),children:t.analysisDetails.macularAssessment.edemaPresent?"Present":"Absent"})]}),(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Foveal Reflex:"}),(0,_h.jsx)("span",{className:"font-medium",children:t.analysisDetails.macularAssessment.fovealReflex})]}),(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Central Thickness:"}),(0,_h.jsxs)("span",{className:"font-medium",children:[t.analysisDetails.macularAssessment.thickness,"\u03bcm"]})]})]})]}),t.imageQuality&&(0,_h.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg",children:[(0,_h.jsx)("h5",{className:"font-medium text-slate-700 mb-2",children:"Image Quality Metrics"}),(0,_h.jsxs)("div",{className:"space-y-1",children:[(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Overall Quality:"}),(0,_h.jsxs)("span",{className:"font-medium",children:[Math.round(100*t.imageQuality.qualityScore),"%"]})]}),(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Brightness:"}),(0,_h.jsxs)("span",{className:"font-medium",children:[Math.round(100*t.imageQuality.brightness),"%"]})]}),(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Contrast:"}),(0,_h.jsxs)("span",{className:"font-medium",children:[Math.round(100*t.imageQuality.contrast),"%"]})]}),t.imageQuality.sharpness&&(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Sharpness:"}),(0,_h.jsxs)("span",{className:"font-medium",children:[Math.round(100*t.imageQuality.sharpness),"%"]})]}),t.imageQuality.fieldCoverage&&(0,_h.jsxs)("div",{className:"flex justify-between",children:[(0,_h.jsx)("span",{children:"Field Coverage:"}),(0,_h.jsxs)("span",{className:"font-medium",children:[Math.round(100*t.imageQuality.fieldCoverage),"%"]})]})]})]})]}),t.clinicalNotes&&(0,_h.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg mt-4",children:[(0,_h.jsx)("h5",{className:"font-medium text-blue-800 mb-2",children:"Clinical Notes"}),(0,_h.jsx)("p",{className:"text-blue-700 text-sm",children:t.clinicalNotes})]})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h4",{className:"font-medium text-slate-800 mb-2",children:"Diabetic Retinopathy Stages:"}),(0,_h.jsxs)("div",{className:"grid gap-3 text-sm",children:[(0,_h.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,_h.jsx)("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}),(0,_h.jsxs)("span",{className:"text-slate-700",children:[(0,_h.jsx)("strong",{children:"Stage 0:"})," No diabetic retinopathy"]})]}),(0,_h.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,_h.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,_h.jsxs)("span",{className:"text-slate-700",children:[(0,_h.jsx)("strong",{children:"Stage 1:"})," Mild nonproliferative diabetic retinopathy"]})]}),(0,_h.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,_h.jsx)("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),(0,_h.jsxs)("span",{className:"text-slate-700",children:[(0,_h.jsx)("strong",{children:"Stage 2:"})," Moderate nonproliferative diabetic retinopathy"]})]}),(0,_h.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,_h.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),(0,_h.jsxs)("span",{className:"text-slate-700",children:[(0,_h.jsx)("strong",{children:"Stage 3:"})," Severe nonproliferative diabetic retinopathy"]})]}),(0,_h.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,_h.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,_h.jsxs)("span",{className:"text-slate-700",children:[(0,_h.jsx)("strong",{children:"Stage 4:"})," Proliferative diabetic retinopathy"]})]})]})]}),(0,_h.jsx)("div",{className:"pt-4 border-t border-slate-200/50",children:(0,_h.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_h.jsx)(Gx,{className:"h-5 w-5 text-teal-600 flex-shrink-0 mt-0.5"}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h4",{className:"font-medium text-slate-800 mb-1",children:"Privacy & Security"}),(0,_h.jsx)("p",{className:"text-slate-600 text-sm",children:"Your retinal images are processed securely and are automatically deleted after analysis. No personal medical data is stored permanently, ensuring HIPAA compliance and patient privacy."})]})]})})]})]}),(0,_h.jsx)(xb,{className:"bg-gradient-to-r from-teal-50 to-blue-50 border-teal-200/50",children:(0,_h.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,_h.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-teal-500 rounded-xl shadow-md flex-shrink-0",children:(0,_h.jsx)(Jb,{className:"h-6 w-6 text-white"})}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h3",{className:"text-lg font-semibold text-teal-800 mb-2",children:"Next Steps"}),(0,_h.jsx)("p",{className:"text-teal-700 text-sm mb-4",children:"Based on your AI screening results, we recommend scheduling an appointment with an ophthalmologist for professional evaluation and to discuss appropriate treatment options if needed."}),(0,_h.jsxs)(yb,{variant:"secondary",size:"sm",children:[(0,_h.jsx)(hb,{className:"h-4 w-4 mr-2"}),"Find Healthcare Providers"]})]})]})})]})},ew=Hx("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),tw=Hx("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),nw=()=>{const{id:e}=function(){let{matches:e}=i.useContext(Y),t=e[e.length-1];return t?t.params:{}}(),t=ne(),n=ee(),[r,s]=(0,i.useState)({result:null,file:null,isLoading:!0,error:null});(0,i.useEffect)(()=>{var t;null!==(t=n.state)&&void 0!==t&&t.result?s({result:n.state.result,file:n.state.file||null,isLoading:!1,error:null}):setTimeout(()=>{const t={id:e||"1",stage:2,confidence:.89,riskLevel:"moderate",timestamp:(new Date).toISOString(),recommendations:["Follow-up examination recommended within 6 months","Monitor blood glucose levels regularly","Consider consultation with retinal specialist","Maintain optimal diabetes management"]};s({result:t,file:null,isLoading:!1,error:null})},1500)},[e,n.state]);const a=()=>{t("/")},o=()=>{t("/analysis")};if(r.isLoading)return(0,_h.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-teal-50/50 py-8",children:(0,_h.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,_h.jsxs)(xb,{className:"p-8 text-center",children:[(0,_h.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),(0,_h.jsx)("h2",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Loading Results"}),(0,_h.jsx)("p",{className:"text-slate-600",children:"Retrieving your analysis results..."})]})})});if(r.error||!r.result)return(0,_h.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-teal-50/50 py-8",children:(0,_h.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,_h.jsxs)(kb,{variant:"error",className:"mb-4",children:[(0,_h.jsx)(Gx,{className:"w-4 h-4"}),r.error||"Results not found"]}),(0,_h.jsx)(yb,{onClick:a,children:"Return to Home"})]})});const l=(e=>{const t=[{name:"No DR",description:"No diabetic retinopathy detected",color:"success"},{name:"Mild DR",description:"Mild non-proliferative diabetic retinopathy",color:"info"},{name:"Moderate DR",description:"Moderate non-proliferative diabetic retinopathy",color:"warning"},{name:"Severe DR",description:"Severe non-proliferative diabetic retinopathy",color:"danger"},{name:"Proliferative DR",description:"Proliferative diabetic retinopathy",color:"danger"}];return t[e]||t[0]})(r.result.stage);return(0,_h.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-teal-50/50 py-4 sm:py-8",children:(0,_h.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,_h.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,_h.jsxs)(yb,{variant:"ghost",onClick:a,className:"mb-4 text-slate-600 hover:text-teal-600",children:[(0,_h.jsx)(ew,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),(0,_h.jsxs)("div",{className:"text-center",children:[(0,_h.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,_h.jsx)("div",{className:"flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-teal-500 to-blue-600 rounded-2xl shadow-lg",children:(0,_h.jsx)(Wx,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})})}),(0,_h.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-teal-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Analysis Results"}),(0,_h.jsx)("p",{className:"text-slate-600 text-sm sm:text-base lg:text-lg px-4",children:"Complete diabetic retinopathy screening report"})]})]}),(0,_h.jsx)(xb,{className:"p-4 sm:p-6 mb-6",glow:!0,children:(0,_h.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[(0,_h.jsxs)("div",{className:"text-center",children:[(0,_h.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1",children:["Stage ",r.result.stage]}),(0,_h.jsx)(wb,{variant:l.color,className:"mb-2",children:l.name}),(0,_h.jsx)("p",{className:"text-xs sm:text-sm text-slate-600 px-2",children:l.description})]}),(0,_h.jsxs)("div",{className:"text-center",children:[(0,_h.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold text-teal-600 mb-1",children:[(100*r.result.confidence).toFixed(1),"%"]}),(0,_h.jsx)("p",{className:"text-xs sm:text-sm text-slate-600 mb-2",children:"Confidence Score"}),(0,_h.jsx)(wb,{variant:"info",children:"High Accuracy"})]}),(0,_h.jsxs)("div",{className:"text-center",children:[(0,_h.jsxs)("div",{className:"text-lg font-semibold text-slate-800 mb-1 capitalize",children:[r.result.riskLevel," Risk"]}),(0,_h.jsxs)("div",{className:"flex items-center justify-center text-xs sm:text-sm text-slate-600 mb-2",children:[(0,_h.jsx)(Jb,{className:"w-4 h-4 mr-1"}),new Date(r.result.timestamp).toLocaleDateString()]}),(0,_h.jsxs)("div",{className:"flex items-center justify-center text-xs sm:text-sm text-slate-600",children:[(0,_h.jsx)(db,{className:"w-4 h-4 mr-1"}),new Date(r.result.timestamp).toLocaleTimeString()]})]})]})}),(0,_h.jsx)(Zb,{result:r.result,onNewAnalysis:o}),(0,_h.jsxs)("div",{className:"mt-6 sm:mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,_h.jsxs)(yb,{onClick:()=>{if(!r.result)return;const e="\nOpthalmoAI Analysis Report\n========================\n\nAnalysis ID: ".concat(r.result.id,"\nDate: ").concat(new Date(r.result.timestamp).toLocaleDateString(),"\nTime: ").concat(new Date(r.result.timestamp).toLocaleTimeString(),"\n\nDIABETIC RETINOPATHY SCREENING RESULTS\n=====================================\n\nStage: ").concat(r.result.stage,"/4\nRisk Level: ").concat(r.result.riskLevel.toUpperCase(),"\nConfidence Score: ").concat((100*r.result.confidence).toFixed(1),"%\n\nRECOMMENDATIONS\n===============\n").concat(r.result.recommendations.map((e,t)=>"".concat(t+1,". ").concat(e)).join("\n"),"\n\nMEDICAL DISCLAIMER\n==================\nThis analysis is generated by an AI screening tool and is intended for assistive purposes only.\nResults should be reviewed by a qualified healthcare professional.\nThis tool does not replace professional medical diagnosis or treatment decisions.\n\nGenerated by OpthalmoAI - AI-Powered Retinal Screening Platform\n    "),t=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="OpthalmoAI_Report_".concat(r.result.id,".txt"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},variant:"outline",className:"w-full min-h-[48px]",children:[(0,_h.jsx)(Xb,{className:"w-4 h-4 mr-2"}),"Download Report"]}),(0,_h.jsxs)(yb,{onClick:()=>{window.print()},variant:"outline",className:"w-full min-h-[48px]",children:[(0,_h.jsx)($b,{className:"w-4 h-4 mr-2"}),"Print Results"]}),(0,_h.jsxs)(yb,{onClick:()=>t("/reports"),variant:"outline",className:"w-full min-h-[48px]",children:[(0,_h.jsx)(nb,{className:"w-4 h-4 mr-2"}),"View All Reports"]}),(0,_h.jsxs)(yb,{onClick:o,className:"w-full min-h-[48px]",children:[(0,_h.jsx)(tw,{className:"w-4 h-4 mr-2"}),"New Analysis"]})]}),(0,_h.jsx)("div",{className:"mt-8",children:(0,_h.jsxs)(kb,{variant:"warning",children:[(0,_h.jsx)(Gx,{className:"w-4 h-4"}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("strong",{children:"Important Medical Disclaimer:"})," This AI analysis is intended as a screening tool to assist healthcare professionals and should not be used as the sole basis for medical decisions. All results should be reviewed and interpreted by a qualified eye care professional or physician. This tool does not replace comprehensive eye examinations or professional medical diagnosis."]})]})})]})})},rw=Hx("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),iw=Hx("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),sw=Hx("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),aw=Hx("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),ow=Hx("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),lw=()=>{const e=ne(),[t,n]=(0,i.useState)([]),[r,s]=(0,i.useState)([]),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)("all"),[u,d]=(0,i.useState)(!0),[h,f]=(0,i.useState)(new Date),p=()=>{try{const e=Zx.getAllScreenings().map(e=>({id:e.id,date:e.timestamp,stage:e.stage,confidence:e.confidence,riskLevel:e.riskLevel,status:"completed",fileName:e.fileName,stageName:e.stageName}));n(e),s(e),f(new Date)}catch(e){console.error("Error loading reports:",e),n([]),s([])}finally{d(!1)}};(0,i.useEffect)(()=>{p();const e=setInterval(()=>{p()},3e4),t=()=>{document.hidden||p()};return document.addEventListener("visibilitychange",t),()=>{clearInterval(e),document.removeEventListener("visibilitychange",t)}},[]);(0,i.useEffect)(()=>{let e=t;"all"!==l&&(e=e.filter(e=>e.status===l)),a&&(e=e.filter(e=>e.id.toLowerCase().includes(a.toLowerCase())||new Date(e.date).toLocaleDateString().includes(a)||e.riskLevel.toLowerCase().includes(a.toLowerCase()))),s(e)},[t,a,l]);const m=()=>{e("/upload")},g=t=>{e("/results/".concat(t))},v=e=>{const n=t.find(t=>t.id===e);if(!n)return;const r="\nOpthalmoAI Analysis Report\n========================\n\nReport ID: ".concat(n.id,"\nDate: ").concat(new Date(n.date).toLocaleDateString(),"\nTime: ").concat(new Date(n.date).toLocaleTimeString(),"\n").concat(n.fileName?"Image File: ".concat(n.fileName):"","\n\nDIABETIC RETINOPATHY SCREENING RESULTS\n=====================================\n\nStage: ").concat(n.stage,"/4 ").concat(n.stageName?"(".concat(n.stageName,")"):"","\nRisk Level: ").concat(n.riskLevel.toUpperCase(),"\nConfidence Score: ").concat((100*n.confidence).toFixed(1),"%\nStatus: ").concat(n.status.toUpperCase(),"\n\nGenerated by OpthalmoAI - AI-Powered Retinal Screening Platform\n    "),i=new Blob([r],{type:"text/plain"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download="OpthalmoAI_Report_".concat(n.id,".txt"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)},y=e=>{switch(e){case"low":return"success";case"moderate":return"warning";case"high":return"danger";default:return"info"}},x=e=>{switch(e){case"completed":return"success";case"pending":return"warning";default:return"info"}};return u?(0,_h.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-teal-50/50 py-8",children:(0,_h.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,_h.jsxs)(xb,{className:"p-8 text-center",children:[(0,_h.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),(0,_h.jsx)("h2",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Loading Reports"}),(0,_h.jsx)("p",{className:"text-slate-600",children:"Retrieving your analysis history..."})]})})}):(0,_h.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-teal-50/50 py-4 sm:py-8",children:(0,_h.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,_h.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,_h.jsxs)(yb,{variant:"ghost",onClick:()=>{e("/")},className:"mb-4 text-slate-600 hover:text-teal-600",children:[(0,_h.jsx)(ew,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),(0,_h.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,_h.jsx)("div",{children:(0,_h.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center mb-4 space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,_h.jsx)("div",{className:"flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-teal-500 to-blue-600 rounded-2xl shadow-lg flex-shrink-0",children:(0,_h.jsx)(nb,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),(0,_h.jsxs)("div",{className:"text-center sm:text-left",children:[(0,_h.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-teal-600 to-blue-600 bg-clip-text text-transparent",children:"Analysis Reports"}),(0,_h.jsx)("p",{className:"text-slate-600 text-sm sm:text-base lg:text-lg",children:"View and manage your retinal screening history"}),(0,_h.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Last updated: ",h.toLocaleTimeString()]})]})]})}),(0,_h.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,_h.jsxs)(yb,{variant:"outline",onClick:()=>{d(!0),setTimeout(()=>p(),500)},disabled:u,className:"w-full sm:w-auto min-h-[48px]",children:[(0,_h.jsx)(tw,{className:"w-4 h-4 mr-2 ".concat(u?"animate-spin":"")}),"Refresh"]}),(0,_h.jsxs)(yb,{onClick:m,className:"w-full sm:w-auto min-h-[48px]",children:[(0,_h.jsx)(rw,{className:"w-4 h-4 mr-2"}),"New Analysis"]})]})]})]}),(0,_h.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 sm:mb-8",children:[(0,_h.jsxs)(xb,{className:"p-3 sm:p-4 text-center",children:[(0,_h.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-teal-600 mb-1",children:t.length}),(0,_h.jsx)("div",{className:"text-xs sm:text-sm text-slate-600",children:"Total Reports"})]}),(0,_h.jsxs)(xb,{className:"p-3 sm:p-4 text-center",children:[(0,_h.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-emerald-600 mb-1",children:t.filter(e=>"completed"===e.status).length}),(0,_h.jsx)("div",{className:"text-xs sm:text-sm text-slate-600",children:"Completed"})]}),(0,_h.jsxs)(xb,{className:"p-3 sm:p-4 text-center",children:[(0,_h.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-amber-600 mb-1",children:t.filter(e=>"low"===e.riskLevel).length}),(0,_h.jsx)("div",{className:"text-xs sm:text-sm text-slate-600",children:"Low Risk"})]}),(0,_h.jsxs)(xb,{className:"p-3 sm:p-4 text-center",children:[(0,_h.jsxs)("div",{className:"text-lg sm:text-2xl font-bold text-blue-600 mb-1",children:[t.length>0?Math.round(t.reduce((e,t)=>e+t.confidence,0)/t.length*100):0,"%"]}),(0,_h.jsx)("div",{className:"text-xs sm:text-sm text-slate-600",children:"Avg Confidence"})]})]}),(0,_h.jsx)(xb,{className:"p-4 mb-6",children:(0,_h.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-stretch lg:items-center",children:[(0,_h.jsx)("div",{className:"flex-1 min-w-0",children:(0,_h.jsxs)("div",{className:"relative",children:[(0,_h.jsx)(iw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),(0,_h.jsx)("input",{type:"text",placeholder:"Search reports by ID, date, or risk level...",className:"w-full pl-10 pr-4 py-3 lg:py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm sm:text-base",value:a,onChange:e=>o(e.target.value)})]})}),(0,_h.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,_h.jsx)(sw,{className:"w-4 h-4 text-slate-600"}),(0,_h.jsxs)("select",{className:"border border-slate-200 rounded-lg px-3 py-3 lg:py-2 focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-0 flex-1 lg:flex-none text-sm sm:text-base",value:l,onChange:e=>c(e.target.value),children:[(0,_h.jsx)("option",{value:"all",children:"All Reports"}),(0,_h.jsx)("option",{value:"completed",children:"Completed"})]})]})]})}),0===r.length?(0,_h.jsxs)(xb,{className:"p-6 sm:p-8 text-center",children:[(0,_h.jsx)(nb,{className:"w-12 h-12 sm:w-16 sm:h-16 text-slate-300 mx-auto mb-4"}),(0,_h.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-slate-800 mb-2",children:"No Reports Found"}),(0,_h.jsx)("p",{className:"text-slate-600 mb-4 text-sm sm:text-base px-4",children:a||"all"!==l?"No reports match your current filters.":"No analysis reports found. Upload retinal images to generate reports."}),(0,_h.jsxs)(yb,{onClick:m,className:"w-full sm:w-auto min-h-[48px]",children:[(0,_h.jsx)(rw,{className:"w-4 h-4 mr-2"}),"Start Your First Analysis"]})]}):(0,_h.jsx)("div",{className:"space-y-4",children:r.map(e=>{const t=(e=>{const t=[{name:"No DR",color:"success"},{name:"Mild DR",color:"info"},{name:"Moderate DR",color:"warning"},{name:"Severe DR",color:"danger"},{name:"Proliferative DR",color:"danger"}];return t[e]||t[0]})(e.stage);return(0,_h.jsxs)(xb,{className:"p-4 sm:p-6 hover:shadow-lg transition-shadow",children:[(0,_h.jsxs)("div",{className:"block lg:hidden space-y-4",children:[(0,_h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_h.jsxs)("div",{children:[(0,_h.jsxs)("div",{className:"font-semibold text-slate-800",children:["Report #",e.id]}),(0,_h.jsxs)("div",{className:"text-sm text-slate-600 flex items-center mt-1",children:[(0,_h.jsx)(Jb,{className:"w-3 h-3 mr-1"}),new Date(e.date).toLocaleDateString()]}),(0,_h.jsxs)("div",{className:"text-sm text-slate-600 flex items-center",children:[(0,_h.jsx)(db,{className:"w-3 h-3 mr-1"}),new Date(e.date).toLocaleTimeString()]})]}),(0,_h.jsx)(wb,{variant:x(e.status),children:e.status})]}),(0,_h.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,_h.jsxs)("div",{children:[(0,_h.jsxs)("div",{className:"font-bold text-slate-800",children:["Stage ",e.stage]}),(0,_h.jsx)(wb,{variant:t.color,className:"text-xs",children:t.name})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsxs)("div",{className:"font-semibold text-teal-600",children:[(100*e.confidence).toFixed(1),"%"]}),(0,_h.jsx)("div",{className:"text-xs text-slate-600",children:"Confidence"})]}),(0,_h.jsx)("div",{children:(0,_h.jsxs)(wb,{variant:y(e.riskLevel),children:[e.riskLevel," Risk"]})})]}),(0,_h.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,_h.jsxs)(yb,{size:"sm",variant:"outline",onClick:()=>g(e.id),className:"w-full min-h-[40px]",children:[(0,_h.jsx)(Wx,{className:"w-3 h-3 mr-1"}),"View"]}),(0,_h.jsxs)(yb,{size:"sm",variant:"ghost",onClick:()=>v(e.id),className:"w-full min-h-[40px]",children:[(0,_h.jsx)(Xb,{className:"w-3 h-3 mr-1"}),"Download"]})]})]}),(0,_h.jsxs)("div",{className:"hidden lg:grid lg:grid-cols-6 gap-4 items-center",children:[(0,_h.jsxs)("div",{children:[(0,_h.jsxs)("div",{className:"font-semibold text-slate-800",children:["Report #",e.id]}),(0,_h.jsxs)("div",{className:"text-sm text-slate-600 flex items-center mt-1",children:[(0,_h.jsx)(Jb,{className:"w-3 h-3 mr-1"}),new Date(e.date).toLocaleDateString()]}),(0,_h.jsxs)("div",{className:"text-sm text-slate-600 flex items-center",children:[(0,_h.jsx)(db,{className:"w-3 h-3 mr-1"}),new Date(e.date).toLocaleTimeString()]})]}),(0,_h.jsxs)("div",{className:"text-center",children:[(0,_h.jsxs)("div",{className:"font-bold text-lg text-slate-800",children:["Stage ",e.stage]}),(0,_h.jsx)(wb,{variant:t.color,className:"text-xs",children:t.name})]}),(0,_h.jsxs)("div",{className:"text-center",children:[(0,_h.jsxs)("div",{className:"font-semibold text-teal-600",children:[(100*e.confidence).toFixed(1),"%"]}),(0,_h.jsx)("div",{className:"text-xs text-slate-600",children:"Confidence"})]}),(0,_h.jsx)("div",{className:"text-center",children:(0,_h.jsxs)(wb,{variant:y(e.riskLevel),children:[e.riskLevel," Risk"]})}),(0,_h.jsx)("div",{className:"text-center",children:(0,_h.jsx)(wb,{variant:x(e.status),children:e.status})}),(0,_h.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,_h.jsxs)(yb,{size:"sm",variant:"outline",onClick:()=>g(e.id),children:[(0,_h.jsx)(Wx,{className:"w-3 h-3 mr-1"}),"View"]}),(0,_h.jsx)(yb,{size:"sm",variant:"ghost",onClick:()=>v(e.id),children:(0,_h.jsx)(Xb,{className:"w-3 h-3"})}),"completed"===e.status&&(0,_h.jsx)(yb,{size:"sm",variant:"ghost",onClick:()=>{return t=e.id,void(window.confirm("Archive this report? (This will remove it from active reports)")&&Zx.deleteScreeningResult(t)&&p());var t},children:(0,_h.jsx)(aw,{className:"w-3 h-3"})}),(0,_h.jsx)(yb,{size:"sm",variant:"ghost",onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this report?")&&Zx.deleteScreeningResult(t)&&p());var t},className:"text-red-600 hover:text-red-700",children:(0,_h.jsx)(ow,{className:"w-3 h-3"})})]})]})]},e.id)})}),r.length>0&&(0,_h.jsx)(xb,{className:"p-4 mt-6",children:(0,_h.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,_h.jsxs)("div",{className:"text-sm text-slate-600",children:["Showing ",r.length," of ",t.length," reports"]}),(0,_h.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,_h.jsxs)(yb,{variant:"outline",size:"sm",className:"w-full sm:w-auto min-h-[40px]",children:[(0,_h.jsx)(Xb,{className:"w-4 h-4 mr-2"}),"Export All"]}),(0,_h.jsxs)(yb,{variant:"outline",size:"sm",className:"w-full sm:w-auto min-h-[40px]",children:[(0,_h.jsx)(ib,{className:"w-4 h-4 mr-2"}),"Analytics"]})]})]})}),(0,_h.jsx)("div",{className:"mt-8",children:(0,_h.jsxs)(kb,{variant:"info",children:[(0,_h.jsx)(Wx,{className:"w-4 h-4"}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("strong",{children:"Report Management:"})," All analysis reports are stored securely and comply with healthcare privacy standards. Reports should be shared only with authorized healthcare providers. For questions about your results, consult with a qualified eye care professional."]})]})})]})})},cw=()=>{const{user:e,loading:t}=(()=>{const e=(0,i.useContext)(Ah);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e})(),[n,r]=(0,i.useState)(!0),s=()=>{setTimeout(()=>{r(!1)},300)},a=e=>{console.log("User signed in:",e.displayName)};return n?(0,_h.jsx)(Kx,{onComplete:s}):t?(0,_h.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-medical-600 via-clinical-600 to-health-600 flex items-center justify-center",children:(0,_h.jsxs)("div",{className:"text-white text-center",children:[(0,_h.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,_h.jsx)("p",{children:"Checking authentication..."})]})}):e?(0,_h.jsx)(we,{children:(0,_h.jsx)("div",{className:"App min-h-screen bg-clinical-50 retinal-pattern",children:(0,_h.jsxs)(ye,{children:[(0,_h.jsx)(ge,{path:"/",element:(0,_h.jsx)(fb,{user:e})}),(0,_h.jsx)(ge,{path:"/home",element:(0,_h.jsx)(Sb,{children:(0,_h.jsx)(Fb,{})})}),(0,_h.jsx)(ge,{path:"/upload",element:(0,_h.jsx)(Sb,{children:(0,_h.jsx)(Bb,{})})}),(0,_h.jsx)(ge,{path:"/capture",element:(0,_h.jsx)(Sb,{children:(0,_h.jsx)(Gb,{})})}),(0,_h.jsx)(ge,{path:"/results/:id",element:(0,_h.jsx)(Sb,{children:(0,_h.jsx)(nw,{})})}),(0,_h.jsx)(ge,{path:"/reports",element:(0,_h.jsx)(Sb,{children:(0,_h.jsx)(lw,{})})}),(0,_h.jsx)(ge,{path:"/analytics",element:(0,_h.jsx)(Sb,{children:(0,_h.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,_h.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Analytics Dashboard"}),(0,_h.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,_h.jsx)("p",{className:"text-gray-600",children:"Analytics features coming soon..."})})]})})})]})})}):(0,_h.jsx)($x,{onSignInSuccess:a})};const uw=function(){return(0,_h.jsx)(Ph,{children:(0,_h.jsx)(cw,{})})},dw=a.createRoot(document.getElementById("root"));console.log("\ud83d\ude80 OpthalmoAI ".concat("2.0.2-CACHE-BUST-FIX"," - Build ").concat("20251116-200500")),console.log("\u2705 All backend dependencies eliminated"),console.log("\u2705 All SVG percentage issues fixed"),console.log("\u2705 Cache busting deployment active"),dw.render((0,_h.jsx)(i.StrictMode,{children:(0,_h.jsx)(uw,{})}))})();